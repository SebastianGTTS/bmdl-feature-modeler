(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+MFp":function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var l=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),l[t]=e>>>((3&t)<<3)&255;return l}}},"+qE3":function(e,t,n){"use strict";var r,l="object"==typeof Reflect?Reflect:null,s=l&&"function"==typeof l.apply?l.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=l&&"function"==typeof l.ownKeys?l.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var u=10;function a(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var l,s,i;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),i=s[t]),void 0===i)i=s[t]=n,++e._eventsCount;else if("function"==typeof i?i=s[t]=r?[n,i]:[i,n]:r?i.unshift(n):i.push(n),(l=a(e))>0&&i.length>l&&!i.warned){i.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=e,o.type=t,o.count=i.length,console&&console.warn&&console.warn(o)}return e}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},l=(function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,s(this.listener,this.target,e))}).bind(r);return l.listener=n,r.wrapFn=l,l}function h(e,t,n){var r=e._events;if(void 0===r)return[];var l=r[t];return void 0===l?[]:"function"==typeof l?n?[l.listener||l]:[l]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(l):p(l,l.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return a(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,l=this._events;if(void 0!==l)r=r&&void 0===l.error;else if(!r)return!1;if(r){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var o=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw o.context=i,o}var u=l[e];if(void 0===u)return!1;if("function"==typeof u)s(u,this,t);else{var a=u.length,c=p(u,a);for(n=0;n<a;++n)s(c[n],this,t)}return!0},o.prototype.on=o.prototype.addListener=function(e,t){return c(this,e,t,!1)},o.prototype.prependListener=function(e,t){return c(this,e,t,!0)},o.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,d(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,d(this,e,t)),this},o.prototype.off=o.prototype.removeListener=function(e,t){var n,r,l,s,i;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(l=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){i=n[s].listener,l=s;break}if(l<0)return this;0===l?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,l),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,i||t)}return this},o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var l,s=Object.keys(n);for(r=0;r<s.length;++r)"removeListener"!==(l=s[r])&&this.removeAllListeners(l);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return h(this,e,!0)},o.prototype.rawListeners=function(e){return h(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},o.prototype.listenerCount=f,o.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},0:function(e,t,n){e.exports=n("zUnb")},"16OU":function(e,t,n){var r,l,s=n("JYIv"),i=n("zc1T"),o=0,u=0;e.exports=function(e,t,n){var a=t&&n||0,c=t||[],d=(e=e||{}).node||r,h=void 0!==e.clockseq?e.clockseq:l;if(null==d||null==h){var f=s();null==d&&(d=r=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==h&&(h=l=16383&(f[6]<<8|f[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),g=void 0!==e.nsecs?e.nsecs:u+1,m=p-o+(g-u)/1e4;if(m<0&&void 0===e.clockseq&&(h=h+1&16383),(m<0||p>o)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");o=p,u=g,l=h;var v=(1e4*(268435455&(p+=122192928e5))+g)%4294967296;c[a++]=v>>>24&255,c[a++]=v>>>16&255,c[a++]=v>>>8&255,c[a++]=255&v;var y=p/4294967296*1e4&268435455;c[a++]=y>>>8&255,c[a++]=255&y,c[a++]=y>>>24&15|16,c[a++]=y>>>16&255,c[a++]=h>>>8|128,c[a++]=255&h;for(var b=0;b<6;++b)c[a+b]=d[b];return t||i(c)}},"26GY":function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0;return n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]}},"3Y9A":function(e,t,n){"use strict";e.exports=function(e){return function(){var t=arguments.length;if(t){for(var n=[],r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}return e.call(this,[])}}},"3j3K":function(e,t,n){"use strict";var r,l,s=global.MutationObserver||global.WebKitMutationObserver;if(s){var i=0,o=new s(d),u=global.document.createTextNode("");o.observe(u,{characterData:!0}),r=function(){u.data=i=++i%2}}else if(global.setImmediate||void 0===global.MessageChannel)r="document"in global&&"onreadystatechange"in global.document.createElement("script")?function(){var e=global.document.createElement("script");e.onreadystatechange=function(){d(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},global.document.documentElement.appendChild(e)}:function(){setTimeout(d,0)};else{var a=new global.MessageChannel;a.port1.onmessage=d,r=function(){a.port2.postMessage(0)}}var c=[];function d(){var e,t;l=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}l=!1}e.exports=function(e){1!==c.push(e)||l||r()}},"5Lhs":function(e,t,n){var r=n("ky14"),l=n("8d8U"),s=l;s.v1=r,s.v4=l,e.exports=s},"8d8U":function(e,t,n){var r=n("+MFp"),l=n("26GY");e.exports=function(e,t,n){var s=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||r)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var o=0;o<16;++o)t[s+o]=i[o];return t||l(i)}},JYIv:function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var l=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),l[t]=e>>>((3&t)<<3)&255;return l}}},aaBP:function(e,t,n){e.exports=function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],r=e[1],l=e[2],s=e[3];r=((r+=((l=((l+=((s=((s+=((n=((n+=(r&l|~r&s)+t[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&l)+t[1]-389564586|0)<<12|s>>>20)+n|0)&n|~s&r)+t[2]+606105819|0)<<17|l>>>15)+s|0)&s|~l&n)+t[3]-1044525330|0)<<22|r>>>10)+l|0,r=((r+=((l=((l+=((s=((s+=((n=((n+=(r&l|~r&s)+t[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&l)+t[5]+1200080426|0)<<12|s>>>20)+n|0)&n|~s&r)+t[6]-1473231341|0)<<17|l>>>15)+s|0)&s|~l&n)+t[7]-45705983|0)<<22|r>>>10)+l|0,r=((r+=((l=((l+=((s=((s+=((n=((n+=(r&l|~r&s)+t[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&l)+t[9]-1958414417|0)<<12|s>>>20)+n|0)&n|~s&r)+t[10]-42063|0)<<17|l>>>15)+s|0)&s|~l&n)+t[11]-1990404162|0)<<22|r>>>10)+l|0,r=((r+=((l=((l+=((s=((s+=((n=((n+=(r&l|~r&s)+t[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&l)+t[13]-40341101|0)<<12|s>>>20)+n|0)&n|~s&r)+t[14]-1502002290|0)<<17|l>>>15)+s|0)&s|~l&n)+t[15]+1236535329|0)<<22|r>>>10)+l|0,r=((r+=((l=((l+=((s=((s+=((n=((n+=(r&s|l&~s)+t[1]-165796510|0)<<5|n>>>27)+r|0)&l|r&~l)+t[6]-1069501632|0)<<9|s>>>23)+n|0)&r|n&~r)+t[11]+643717713|0)<<14|l>>>18)+s|0)&n|s&~n)+t[0]-373897302|0)<<20|r>>>12)+l|0,r=((r+=((l=((l+=((s=((s+=((n=((n+=(r&s|l&~s)+t[5]-701558691|0)<<5|n>>>27)+r|0)&l|r&~l)+t[10]+38016083|0)<<9|s>>>23)+n|0)&r|n&~r)+t[15]-660478335|0)<<14|l>>>18)+s|0)&n|s&~n)+t[4]-405537848|0)<<20|r>>>12)+l|0,r=((r+=((l=((l+=((s=((s+=((n=((n+=(r&s|l&~s)+t[9]+568446438|0)<<5|n>>>27)+r|0)&l|r&~l)+t[14]-1019803690|0)<<9|s>>>23)+n|0)&r|n&~r)+t[3]-187363961|0)<<14|l>>>18)+s|0)&n|s&~n)+t[8]+1163531501|0)<<20|r>>>12)+l|0,r=((r+=((l=((l+=((s=((s+=((n=((n+=(r&s|l&~s)+t[13]-1444681467|0)<<5|n>>>27)+r|0)&l|r&~l)+t[2]-51403784|0)<<9|s>>>23)+n|0)&r|n&~r)+t[7]+1735328473|0)<<14|l>>>18)+s|0)&n|s&~n)+t[12]-1926607734|0)<<20|r>>>12)+l|0,r=((r+=((l=((l+=((s=((s+=((n=((n+=(r^l^s)+t[5]-378558|0)<<4|n>>>28)+r|0)^r^l)+t[8]-2022574463|0)<<11|s>>>21)+n|0)^n^r)+t[11]+1839030562|0)<<16|l>>>16)+s|0)^s^n)+t[14]-35309556|0)<<23|r>>>9)+l|0,r=((r+=((l=((l+=((s=((s+=((n=((n+=(r^l^s)+t[1]-1530992060|0)<<4|n>>>28)+r|0)^r^l)+t[4]+1272893353|0)<<11|s>>>21)+n|0)^n^r)+t[7]-155497632|0)<<16|l>>>16)+s|0)^s^n)+t[10]-1094730640|0)<<23|r>>>9)+l|0,r=((r+=((l=((l+=((s=((s+=((n=((n+=(r^l^s)+t[13]+681279174|0)<<4|n>>>28)+r|0)^r^l)+t[0]-358537222|0)<<11|s>>>21)+n|0)^n^r)+t[3]-722521979|0)<<16|l>>>16)+s|0)^s^n)+t[6]+76029189|0)<<23|r>>>9)+l|0,r=((r+=((l=((l+=((s=((s+=((n=((n+=(r^l^s)+t[9]-640364487|0)<<4|n>>>28)+r|0)^r^l)+t[12]-421815835|0)<<11|s>>>21)+n|0)^n^r)+t[15]+530742520|0)<<16|l>>>16)+s|0)^s^n)+t[2]-995338651|0)<<23|r>>>9)+l|0,r=((r+=((s=((s+=(r^((n=((n+=(l^(r|~s))+t[0]-198630844|0)<<6|n>>>26)+r|0)|~l))+t[7]+1126891415|0)<<10|s>>>22)+n|0)^((l=((l+=(n^(s|~r))+t[14]-1416354905|0)<<15|l>>>17)+s|0)|~n))+t[5]-57434055|0)<<21|r>>>11)+l|0,r=((r+=((s=((s+=(r^((n=((n+=(l^(r|~s))+t[12]+1700485571|0)<<6|n>>>26)+r|0)|~l))+t[3]-1894986606|0)<<10|s>>>22)+n|0)^((l=((l+=(n^(s|~r))+t[10]-1051523|0)<<15|l>>>17)+s|0)|~n))+t[1]-2054922799|0)<<21|r>>>11)+l|0,r=((r+=((s=((s+=(r^((n=((n+=(l^(r|~s))+t[8]+1873313359|0)<<6|n>>>26)+r|0)|~l))+t[15]-30611744|0)<<10|s>>>22)+n|0)^((l=((l+=(n^(s|~r))+t[6]-1560198380|0)<<15|l>>>17)+s|0)|~n))+t[13]+1309151649|0)<<21|r>>>11)+l|0,r=((r+=((s=((s+=(r^((n=((n+=(l^(r|~s))+t[4]-145523070|0)<<6|n>>>26)+r|0)|~l))+t[11]-1120210379|0)<<10|s>>>22)+n|0)^((l=((l+=(n^(s|~r))+t[2]+718787259|0)<<15|l>>>17)+s|0)|~n))+t[9]-343485551|0)<<21|r>>>11)+l|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=l+e[2]|0,e[3]=s+e[3]|0}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function l(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function s(e){var t,l,s,i,o,u,a=e.length,c=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=a;t+=64)n(c,r(e.substring(t-64,t)));for(l=(e=e.substring(t-64)).length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<l;t+=1)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(n(c,s),t=0;t<16;t+=1)s[t]=0;return i=(i=8*a).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(i[2],16),u=parseInt(i[1],16)||0,s[14]=o,s[15]=u,n(c,s),c}function i(e){var n,r="";for(n=0;n<4;n+=1)r+=t[e>>8*n+4&15]+t[e>>8*n&15];return r}function o(e){var t;for(t=0;t<e.length;t+=1)e[t]=i(e[t]);return e.join("")}function u(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function a(e){var t,n=[],r=e.length;for(t=0;t<r-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function c(){this.reset()}return o(s("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function e(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(t,n){var r,l,s,i,o=this.byteLength,u=e(t,o),a=o;return void 0!==n&&(a=e(n,o)),u>a?new ArrayBuffer(0):(r=a-u,l=new ArrayBuffer(r),s=new Uint8Array(l),i=new Uint8Array(this,u,r),s.set(i),l)}}(),c.prototype.append=function(e){return this.appendBinary(u(e)),this},c.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,l=this._buff.length;for(t=64;t<=l;t+=64)n(this._hash,r(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},c.prototype.end=function(e){var t,n,r=this._buff,l=r.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<l;t+=1)s[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(s,l),n=o(this._hash),e&&(n=a(n)),this.reset(),n},c.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},c.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},c.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},c.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},c.prototype._finish=function(e,t){var r,l,s,i=t;if(e[i>>2]|=128<<(i%4<<3),i>55)for(n(this._hash,e),i=0;i<16;i+=1)e[i]=0;r=(r=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),l=parseInt(r[2],16),s=parseInt(r[1],16)||0,e[14]=l,e[15]=s,n(this._hash,e)},c.hash=function(e,t){return c.hashBinary(u(e),t)},c.hashBinary=function(e,t){var n=o(s(e));return t?a(n):n},(c.ArrayBuffer=function(){this.reset()}).prototype.append=function(e){var t,r,s,i,o=(r=this._buff.buffer,s=e,(i=new Uint8Array(r.byteLength+s.byteLength)).set(new Uint8Array(r)),i.set(new Uint8Array(s),r.byteLength),i),u=o.length;for(this._length+=e.byteLength,t=64;t<=u;t+=64)n(this._hash,l(o.subarray(t-64,t)));return this._buff=t-64<u?new Uint8Array(o.buffer.slice(t-64)):new Uint8Array(0),this},c.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,l=r.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<l;t+=1)s[t>>2]|=r[t]<<(t%4<<3);return this._finish(s,l),n=o(this._hash),e&&(n=a(n)),this.reset(),n},c.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},c.ArrayBuffer.prototype.getState=function(){var e=c.prototype.getState.call(this);return e.buff=String.fromCharCode.apply(null,new Uint8Array(e.buff)),e},c.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var n,r=e.length,l=new ArrayBuffer(r),s=new Uint8Array(l);for(n=0;n<r;n+=1)s[n]=e.charCodeAt(n);return s}(e.buff),c.prototype.setState.call(this,e)},c.ArrayBuffer.prototype.destroy=c.prototype.destroy,c.ArrayBuffer.prototype._finish=c.prototype._finish,c.ArrayBuffer.hash=function(e,t){var r=o(function(e){var t,r,s,i,o,u,a=e.length,c=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=a;t+=64)n(c,l(e.subarray(t-64,t)));for(r=(e=t-64<a?e.subarray(t-64):new Uint8Array(0)).length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)s[t>>2]|=e[t]<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(n(c,s),t=0;t<16;t+=1)s[t]=0;return i=(i=8*a).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(i[2],16),u=parseInt(i[1],16)||0,s[14]=o,s[15]=u,n(c,s),c}(new Uint8Array(e)));return t?a(r):r},c}()},byjP:function(e,t,n){"use strict";function r(e,t,n){var r=n[n.length-1];e===r.element&&(n.pop(),r=n[n.length-1]);var l=r.element,s=r.index;Array.isArray(l)?l.push(e):s===t.length-2?l[t.pop()]=e:t.push(e)}t.stringify=function(e){var t=[];t.push({obj:e});for(var n,r,l,s,i,o,u,a,c,d="";n=t.pop();)if(r=n.obj,d+=n.prefix||"",l=n.val||"")d+=l;else if("object"!=typeof r)d+=void 0===r?null:JSON.stringify(r);else if(null===r)d+="null";else if(Array.isArray(r)){for(t.push({val:"]"}),s=r.length-1;s>=0;s--)t.push({obj:r[s],prefix:0===s?"":","});t.push({val:"["})}else{for(o in i=[],r)r.hasOwnProperty(o)&&i.push(o);for(t.push({val:"}"}),s=i.length-1;s>=0;s--)a=r[u=i[s]],c=s>0?",":"",c+=JSON.stringify(u)+":",t.push({obj:a,prefix:c});t.push({val:"{"})}return d},t.parse=function(e){for(var t,n,l,s,i,o,u,a,c,d=[],h=[],f=0;;)if("}"!==(t=e[f++])&&"]"!==t&&void 0!==t)switch(t){case" ":case"\t":case"\n":case":":case",":break;case"n":f+=3,r(null,d,h);break;case"t":f+=3,r(!0,d,h);break;case"f":f+=4,r(!1,d,h);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(n="",f--;;){if(l=e[f++],!/[\d\.\-e\+]/.test(l)){f--;break}n+=l}r(parseFloat(n),d,h);break;case'"':for(s="",i=void 0,o=0;'"'!==(u=e[f++])||"\\"===i&&o%2==1;)s+=u,"\\"===(i=u)?o++:o=0;r(JSON.parse('"'+s+'"'),d,h);break;case"[":d.push((a={element:[],index:d.length}).element),h.push(a);break;case"{":d.push((c={element:{},index:d.length}).element),h.push(c);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===d.length)return d.pop();r(d.pop(),d,h)}}},fVBe:function(e,t){e.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},kwZD:function(e,t){e.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},ky14:function(e,t,n){var r,l,s=n("+MFp"),i=n("26GY"),o=0,u=0;e.exports=function(e,t,n){var a=t&&n||0,c=t||[],d=(e=e||{}).node||r,h=void 0!==e.clockseq?e.clockseq:l;if(null==d||null==h){var f=s();null==d&&(d=r=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==h&&(h=l=16383&(f[6]<<8|f[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),g=void 0!==e.nsecs?e.nsecs:u+1,m=p-o+(g-u)/1e4;if(m<0&&void 0===e.clockseq&&(h=h+1&16383),(m<0||p>o)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");o=p,u=g,l=h;var v=(1e4*(268435455&(p+=122192928e5))+g)%4294967296;c[a++]=v>>>24&255,c[a++]=v>>>16&255,c[a++]=v>>>8&255,c[a++]=255&v;var y=p/4294967296*1e4&268435455;c[a++]=y>>>8&255,c[a++]=255&y,c[a++]=y>>>24&15|16,c[a++]=y>>>16&255,c[a++]=h>>>8|128,c[a++]=255&h;for(var b=0;b<6;++b)c[a+b]=d[b];return t||i(c)}},yBqk:function(e,t,n){var r=n("16OU"),l=n("zXlJ"),s=l;s.v1=r,s.v4=l,e.exports=s},yV8l:function(e,t){e.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},zUnb:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.r(t);let l=!1;const s={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){l=e},get useDeprecatedSynchronousErrorHandling(){return l}};function i(e){setTimeout(()=>{throw e})}const o={closed:!0,next(e){},error(e){if(s.useDeprecatedSynchronousErrorHandling)throw e;i(e)},complete(){}},u=Array.isArray||(e=>e&&"number"==typeof e.length);function a(e){return null!==e&&"object"==typeof e}function c(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}c.prototype=Object.create(Error.prototype);const d=c;let h=(()=>{class e{constructor(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}unsubscribe(){let e,t=!1;if(this.closed)return;let{_parent:n,_parents:l,_unsubscribe:s,_subscriptions:i}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let o=-1,c=l?l.length:0;for(;n;)n.remove(this),n=++o<c&&l[o]||null;if(r(s))try{s.call(this)}catch(h){t=!0,e=h instanceof d?f(h.errors):[h]}if(u(i))for(o=-1,c=i.length;++o<c;){const n=i[o];if(a(n))try{n.unsubscribe()}catch(h){t=!0,e=e||[],h instanceof d?e=e.concat(f(h.errors)):e.push(h)}}if(t)throw new d(e)}add(t){let n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){const t=n;(n=new e)._subscriptions=[t]}break;default:if(!t)return e.EMPTY;throw new Error("unrecognized teardown "+t+" added to Subscription.")}if(n._addParent(this)){const e=this._subscriptions;e?e.push(n):this._subscriptions=[n]}return n}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}_addParent(e){let{_parent:t,_parents:n}=this;return t!==e&&(t?n?-1===n.indexOf(e)&&(n.push(e),!0):(this._parents=[e],!0):(this._parent=e,!0))}}return e.EMPTY=function(e){return e.closed=!0,e}(new e),e})();function f(e){return e.reduce((e,t)=>e.concat(t instanceof d?t.errors:t),[])}const p="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class g extends h{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=o;break;case 1:if(!e){this.destination=o;break}if("object"==typeof e){e instanceof g?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,e,t,n)}}[p](){return this}static create(e,t,n){const r=new g(e,t,n);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:e,_parents:t}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this}}class m extends g{constructor(e,t,n,l){let s;super(),this._parentSubscriber=e;let i=this;r(t)?s=t:t&&(s=t.next,n=t.error,l=t.complete,t!==o&&(r((i=Object.create(t)).unsubscribe)&&this.add(i.unsubscribe.bind(i)),i.unsubscribe=this.unsubscribe.bind(this))),this._context=i,this._next=s,this._error=n,this._complete=l}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;s.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=s;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):i(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;i(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);s.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),s.useDeprecatedSynchronousErrorHandling)throw n;i(n)}}__tryOrSetError(e,t,n){if(!s.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return s.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(i(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const v="function"==typeof Symbol&&Symbol.observable||"@@observable";function y(){}function b(...e){return _(e)}function _(e){return e?1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)}:y}let w=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:r}=this,l=function(e,t,n){if(e){if(e instanceof g)return e;if(e[p])return e[p]()}return e||t||n?new g(e,t,n):new g(o)}(e,t,n);if(l.add(r?r.call(l,this.source):this.source||s.useDeprecatedSynchronousErrorHandling&&!l.syncErrorThrowable?this._subscribe(l):this._trySubscribe(l)),s.useDeprecatedSynchronousErrorHandling&&l.syncErrorThrowable&&(l.syncErrorThrowable=!1,l.syncErrorThrown))throw l.syncErrorValue;return l}_trySubscribe(e){try{return this._subscribe(e)}catch(t){s.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:r}=e;if(t||r)return!1;e=n&&n instanceof g?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=D(t))((t,n)=>{let r;r=this.subscribe(t=>{try{e(t)}catch(l){n(l),r&&r.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[v](){return this}pipe(...e){return 0===e.length?this:_(e)(this)}toPromise(e){return new(e=D(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function D(e){if(e||(e=s.Promise||Promise),!e)throw new Error("no Promise impl found");return e}function S(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}S.prototype=Object.create(Error.prototype);const C=S;class k extends h{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}class x extends g{constructor(e){super(e),this.destination=e}}let I=(()=>{class e extends w{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new x(this)}lift(e){const t=new M(this,this);return t.operator=e,t}next(e){if(this.closed)throw new C;if(!this.isStopped){const{observers:t}=this,n=t.length,r=t.slice();for(let l=0;l<n;l++)r[l].next(e)}}error(e){if(this.closed)throw new C;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,r=t.slice();for(let l=0;l<n;l++)r[l].error(e);this.observers.length=0}complete(){if(this.closed)throw new C;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let r=0;r<t;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new C;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new C;return this.hasError?(e.error(this.thrownError),h.EMPTY):this.isStopped?(e.complete(),h.EMPTY):(this.observers.push(e),new k(this,e))}asObservable(){const e=new w;return e.source=this,e}}return e.create=(e,t)=>new M(e,t),e})();class M extends I{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):h.EMPTY}}function E(e){return e&&"function"==typeof e.schedule}class O extends g{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const F=e=>t=>{for(let n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.closed||t.complete()},T=e=>t=>(e.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i),t);function A(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const P=A(),q=e=>t=>{const n=e[P]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t},N=e=>t=>{const n=e[v]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)},R=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function j(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const $=e=>{if(e instanceof w)return t=>e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t);if(e&&"function"==typeof e[v])return N(e);if(R(e))return F(e);if(j(e))return T(e);if(e&&"function"==typeof e[P])return q(e);{const t=a(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}};function V(e,t,n,r,l=new O(e,n,r)){if(!l.closed)return $(t)(l)}class L extends g{notifyNext(e,t,n,r,l){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}function B(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new U(e,t))}}class U{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new H(e,this.project,this.thisArg))}}class H extends g{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function z(e,t){return new w(t?n=>{const r=new h;let l=0;return r.add(t.schedule(function(){l!==e.length?(n.next(e[l++]),n.closed||r.add(this.schedule())):n.complete()})),r}:F(e))}function X(e,t){if(!t)return e instanceof w?e:new w($(e));if(null!=e){if(function(e){return e&&"function"==typeof e[v]}(e))return function(e,t){return new w(t?n=>{const r=new h;return r.add(t.schedule(()=>{const l=e[v]();r.add(l.subscribe({next(e){r.add(t.schedule(()=>n.next(e)))},error(e){r.add(t.schedule(()=>n.error(e)))},complete(){r.add(t.schedule(()=>n.complete()))}}))})),r}:N(e))}(e,t);if(j(e))return function(e,t){return new w(t?n=>{const r=new h;return r.add(t.schedule(()=>e.then(e=>{r.add(t.schedule(()=>{n.next(e),r.add(t.schedule(()=>n.complete()))}))},e=>{r.add(t.schedule(()=>n.error(e)))}))),r}:T(e))}(e,t);if(R(e))return z(e,t);if(function(e){return e&&"function"==typeof e[P]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new w(t?n=>{const r=new h;let l;return r.add(()=>{l&&"function"==typeof l.return&&l.return()}),r.add(t.schedule(()=>{l=e[P](),r.add(t.schedule(function(){if(n.closed)return;let e,t;try{const s=l.next();e=s.value,t=s.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())}))})),r}:q(e))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function W(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?r=>r.pipe(W((n,r)=>X(e(n,r)).pipe(B((e,l)=>t(n,e,r,l))),n)):("number"==typeof t&&(n=t),t=>t.lift(new G(e,n)))}class G{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new K(e,this.project,this.concurrent))}}class K extends L{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)}_innerSub(e,t,n){const r=new O(this,void 0,void 0);this.destination.add(r),V(this,e,t,n,r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e,t,n,r,l){this.destination.next(t)}notifyComplete(e){const t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Z(e){return e}function Q(e=Number.POSITIVE_INFINITY){return W(Z,e)}function J(...e){let t=Number.POSITIVE_INFINITY,n=null,r=e[e.length-1];return E(r)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof r&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof w?e[0]:Q(t)(z(e,n))}function Y(){return function(e){return e.lift(new ee(e))}}class ee{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const r=new te(e,n),l=t.subscribe(r);return r.closed||(r.connection=n.connect()),l}}class te extends g{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}const ne=class extends w{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new h).add(this.source.subscribe(new le(this.getSubject(),this))),e.closed?(this._connection=null,e=h.EMPTY):this._connection=e),e}refCount(){return Y()(this)}}.prototype,re={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:ne._subscribe},_isComplete:{value:ne._isComplete,writable:!0},getSubject:{value:ne.getSubject},connect:{value:ne.connect},refCount:{value:ne.refCount}};class le extends x{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function se(){return new I}const ie="__parameters__";function oe(e,t,n){const r=function(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}(t);function l(...e){if(this instanceof l)return r.apply(this,e),this;const t=new l(...e);return n.annotation=t,n;function n(e,n,r){const l=e.hasOwnProperty(ie)?e[ie]:Object.defineProperty(e,ie,{value:[]})[ie];for(;l.length<=r;)l.push(null);return(l[r]=l[r]||[]).push(t),e}}return n&&(l.prototype=Object.create(n.prototype)),l.prototype.ngMetadataName=e,l.annotationCls=l,l}const ue=oe("Inject",e=>({token:e})),ae=oe("Optional"),ce=oe("Self"),de=oe("SkipSelf");var he=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function fe(e){for(let t in e)if(e[t]===fe)return t;throw Error("Could not find renamed property on target object.")}function pe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ge(e){const t=e[me];return t&&t.token===e?t:null}const me=fe({ngInjectableDef:fe});function ve(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(ve).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}const ye=fe({__forward_ref__:fe});function be(e){return e.__forward_ref__=be,e.toString=function(){return ve(this())},e}function _e(e){const t=e;return"function"==typeof t&&t.hasOwnProperty(ye)&&t.__forward_ref__===be?t():e}const we="undefined"!=typeof globalThis&&globalThis,De="undefined"!=typeof window&&window,Se="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ce="undefined"!=typeof global&&global,ke=we||Ce||De||Se;class xe{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.ngInjectableDef=pe({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ie=new xe("INJECTOR",-1),Me=new Object,Ee="ngTempTokenPath",Oe="ngTokenPath",Fe=/\n/gm,Te="\u0275",Ae="__source",Pe=fe({provide:String,useValue:fe});let qe,Ne=void 0;function Re(e){const t=Ne;return Ne=e,t}function je(e,t=he.Default){return(qe||function(e,t=he.Default){if(void 0===Ne)throw new Error("inject() must be called from an injection context");return null===Ne?function(e,t,n){const r=ge(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&he.Optional)return null;throw new Error(`Injector: NOT_FOUND [${ve(e)}]`)}(e,0,t):Ne.get(e,t&he.Optional?null:void 0,t)})(e,t)}class $e{get(e,t=Me){if(t===Me){const t=new Error(`NullInjectorError: No provider for ${ve(e)}!`);throw t.name="NullInjectorError",t}return t}}function Ve(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==Te?e.substr(2):e;let l=ve(t);if(t instanceof Array)l=t.map(ve).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):ve(r)))}l=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${l}]: ${e.replace(Fe,"\n  ")}`}const Le=new xe("The presence of this token marks an injector as being the root injector."),Be=function(e,t,n){return new Ke(e,t,n)};let Ue=(()=>{class e{static create(e,t){return Array.isArray(e)?Be(e,t,""):Be(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=Me,e.NULL=new $e,e.ngInjectableDef=pe({token:e,providedIn:"any",factory:()=>je(Ie)}),e.__NG_ELEMENT_ID__=-1,e})();const He=function(e){return e},ze=[],Xe=He,We=function(){return Array.prototype.slice.call(arguments)},Ge="\u0275";class Ke{constructor(e,t=Ue.NULL,n=null){this.parent=t,this.source=n;const r=this._records=new Map;r.set(Ue,{token:Ue,fn:He,deps:ze,value:this,useNew:!1}),r.set(Ie,{token:Ie,fn:He,deps:ze,value:this,useNew:!1}),function e(t,n){if(n)if((n=_e(n))instanceof Array)for(let r=0;r<n.length;r++)e(t,n[r]);else{if("function"==typeof n)throw Qe("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Qe("Unexpected provider",n);{let e=_e(n.provide);const r=function(e){const t=function(e){let t=ze;const n=e.deps;if(n&&n.length){t=[];for(let e=0;e<n.length;e++){let r=6,l=_e(n[e]);if(l instanceof Array)for(let e=0,t=l;e<t.length;e++){const n=t[e];n instanceof ae||n==ae?r|=1:n instanceof de||n==de?r&=-3:n instanceof ce||n==ce?r&=-5:l=n instanceof ue?n.token:_e(n)}t.push({token:l,options:r})}}else if(e.useExisting)t=[{token:_e(e.useExisting),options:6}];else if(!(n||Pe in e))throw Qe("'deps' required",e);return t}(e);let n=He,r=ze,l=!1,s=_e(e.provide);if(Pe in e)r=e.useValue;else if(e.useFactory)n=e.useFactory;else if(e.useExisting);else if(e.useClass)l=!0,n=_e(e.useClass);else{if("function"!=typeof s)throw Qe("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",e);l=!0,n=s}return{deps:t,fn:n,useNew:l,value:r}}(n);if(!0===n.multi){let r=t.get(e);if(r){if(r.fn!==We)throw Ze(e)}else t.set(e,r={token:n.provide,deps:[],useNew:!1,fn:We,value:ze});r.deps.push({token:e=n,options:6})}const l=t.get(e);if(l&&l.fn==We)throw Ze(e);t.set(e,r)}}}(r,e)}get(e,t,n=he.Default){const r=this._records.get(e);try{return function e(t,n,r,l,s,i){try{return function(t,n,r,l,s,i){let o;if(!n||i&he.SkipSelf)i&he.Self||(o=l.get(t,s,he.Default));else{if((o=n.value)==Xe)throw Error(Ge+"Circular dependency");if(o===ze){n.value=Xe;let t=void 0,s=n.useNew,i=n.fn,u=n.deps,a=ze;if(u.length){a=[];for(let t=0;t<u.length;t++){const n=u[t],s=n.options,i=2&s?r.get(n.token):void 0;a.push(e(n.token,i,r,i||4&s?l:Ue.NULL,1&s?null:Ue.THROW_IF_NOT_FOUND,he.Default))}}n.value=o=s?new i(...a):i.apply(t,a)}}return o}(t,n,r,l,s,i)}catch(o){throw o instanceof Error||(o=new Error(o)),(o[Ee]=o[Ee]||[]).unshift(t),n&&n.value==Xe&&(n.value=ze),o}}(e,r,this._records,this.parent,t,n)}catch(l){return function(e,t,n,r){const l=e[Ee];throw t[Ae]&&l.unshift(t[Ae]),e.message=Ve("\n"+e.message,l,"StaticInjectorError",r),e[Oe]=l,e[Ee]=null,e}(l,e,0,this.source)}}toString(){const e=[];return this._records.forEach((t,n)=>e.push(ve(n))),`StaticInjector[${e.join(", ")}]`}}function Ze(e){return Qe("Cannot mix multi providers and regular providers",e)}function Qe(e,t){return new Error(Ve(e,t,"StaticInjectorError"))}const Je="ngDebugContext",Ye="ngOriginalError",et="ngErrorLogger",tt=new xe("AnalyzeForEntryComponents"),nt=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),rt=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ke))();let lt=!0,st=!1;function it(){return st=!0,lt}class ot{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(r){return null}const t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);const n=t.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(e){e="<body><remove></remove>"+e+"</body>";try{const n=(new window.DOMParser).parseFromString(e,"text/html").body;return n.removeChild(n.firstChild),n}catch(t){return null}}getInertBodyElement_InertDocument(e){const t=this.inertDocument.createElement("template");return"content"in t?(t.innerHTML=e,t):(this.inertBodyElement.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const n=t.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const ut=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,at=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ct(e){return(e=String(e)).match(ut)||e.match(at)?e:(it()&&console.warn(`WARNING: sanitizing unsafe URL value ${e} (see http://g.co/ng/security#xss)`),"unsafe:"+e)}function dt(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function ht(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const ft=dt("area,br,col,hr,img,wbr"),pt=dt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),gt=dt("rp,rt"),mt=ht(gt,pt),vt=ht(ft,ht(pt,dt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ht(gt,dt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),mt),yt=dt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),bt=dt("srcset"),_t=ht(yt,bt,dt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),dt("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),wt=dt("script,style,template");class Dt{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!vt.hasOwnProperty(t))return this.sanitizedSomething=!0,!wt.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let l=0;l<n.length;l++){const e=n.item(l),t=e.name,s=t.toLowerCase();if(!_t.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let i=e.value;yt[s]&&(i=ct(i)),bt[s]&&(r=i,i=(r=String(r)).split(",").map(e=>ct(e.trim())).join(", ")),this.buf.push(" ",t,'="',kt(i),'"')}var r;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();vt.hasOwnProperty(t)&&!ft.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(kt(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const St=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ct=/([^\#-~ |!])/g;function kt(e){return e.replace(/&/g,"&amp;").replace(St,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Ct,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let xt;function It(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}const Mt=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}();class Et{}const Ot=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Ft=/^url\(([^)]+)\)$/;function Tt(e){return e[Je]}function At(e){return e[Ye]}function Pt(e,...t){e.error(...t)}class qt{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e[et]||Pt}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?Tt(e)?Tt(e):this._findContext(At(e)):null}_findOriginalError(e){let t=At(e);for(;t&&At(t);)t=At(t);return t}}const Nt=/([A-Z])/g;function Rt(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return"[ERROR] Exception while trying to serialize the value"}}let jt=null;function $t(){if(!jt){const e=ke.Symbol;if(e&&e.iterator)jt=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(jt=n)}}}return jt}function Vt(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function Lt(e,t){const n=Ut(e),r=Ut(t);if(n&&r)return function(e,t,n){const r=e[$t()](),l=t[$t()]();for(;;){const e=r.next(),t=l.next();if(e.done&&t.done)return!0;if(e.done||t.done)return!1;if(!n(e.value,t.value))return!1}}(e,t,Lt);{const l=e&&("object"==typeof e||"function"==typeof e),s=t&&("object"==typeof t||"function"==typeof t);return!(n||!l||r||!s)||Vt(e,t)}}class Bt{constructor(e){this.wrapped=e}static wrap(e){return new Bt(e)}static unwrap(e){return Bt.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof Bt}}function Ut(e){return!!Ht(e)&&(Array.isArray(e)||!(e instanceof Map)&&$t()in e)}function Ht(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function zt(e){return!!e&&"function"==typeof e.then}function Xt(e){return!!e&&"function"==typeof e.subscribe}class Wt{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}class Gt{}class Kt{}function Zt(e){const t=Error(`No component factory found for ${ve(e)}. Did you add it to @NgModule.entryComponents?`);return t[Qt]=e,t}const Qt="ngComponent";class Jt{resolveComponentFactory(e){throw Zt(e)}}let Yt=(()=>{class e{}return e.NULL=new Jt,e})();class en{constructor(e,t,n){this._parent=t,this._ngModule=n,this._factories=new Map;for(let r=0;r<e.length;r++){const t=e[r];this._factories.set(t.componentType,t)}}resolveComponentFactory(e){let t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw Zt(e);return new tn(t,this._ngModule)}}class tn extends Kt{constructor(e,t){super(),this.factory=e,this.ngModule=t,this.selector=e.selector,this.componentType=e.componentType,this.ngContentSelectors=e.ngContentSelectors,this.inputs=e.inputs,this.outputs=e.outputs}create(e,t,n,r){return this.factory.create(e,t,n,r||this.ngModule)}}class nn{}class rn{}function ln(...e){}let sn=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=()=>on(e),e})();const on=ln;class un{}class an{}const cn=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}();let dn=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>hn(),e})();const hn=ln;class fn{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const pn=new fn("8.1.1");class gn{constructor(){}supports(e){return Ut(e)}create(e){return new vn(e)}}const mn=(e,t)=>t;class vn{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||mn}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,l=null;for(;t||n;){const s=!n||t&&t.currentIndex<wn(n,r,l)?t:n,i=wn(s,r,l),o=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{l||(l=[]);const e=i-r,t=o-r;if(e!=t){for(let n=0;n<e;n++){const r=n<l.length?l[n]:l[n]=0,s=r+n;t<=s&&s<e&&(l[n]=r+1)}l[s.previousIndex]=t-e}}i!==o&&e(s,i,o)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Ut(e))throw new Error(`Error trying to diff '${ve(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,l=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)r=this._trackByFn(t,n=e[t]),null!==l&&Vt(l.trackById,r)?(s&&(l=this._verifyReinsertion(l,n,r,t)),Vt(l.item,n)||this._addIdentityChange(l,n)):(l=this._mismatch(l,n,r,t),s=!0),l=l._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[$t()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,e=>{r=this._trackByFn(t,e),null!==l&&Vt(l.trackById,r)?(s&&(l=this._verifyReinsertion(l,e,r,t)),Vt(l.item,e)||this._addIdentityChange(l,e)):(l=this._mismatch(l,e,r,t),s=!0),l=l._next,t++}),this.length=t;return this._truncate(l),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let l;return null===e?l=this._itTail:(l=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Vt(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,l,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Vt(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,l,r)):e=this._addAfter(new yn(t,n),l,r),e}_verifyReinsertion(e,t,n,r){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==l?e=this._reinsertAfter(l,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,l=e._nextRemoved;return null===r?this._removalsHead=l:r._nextRemoved=l,null===l?this._removalsTail=r:l._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new _n),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t?e:(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e,e)}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _n),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class yn{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bn{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Vt(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class _n{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new bn,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function wn(e,t,n){const r=e.previousIndex;if(null===r)return r;let l=0;return n&&r<n.length&&(l=n[r]),r+t+l}class Dn{constructor(){}supports(e){return e instanceof Map||Ht(e)}create(){return new Sn}}class Sn{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Ht(e)))throw new Error(`Error trying to diff '${ve(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,l=n._next;return r&&(r._next=l),l&&(l._prev=r),n._next=null,n._prev=null,n}const n=new Cn(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Vt(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class Cn{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let kn=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new de,new ae]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.ngInjectableDef=pe({token:e,providedIn:"root",factory:()=>new e([new gn])}),e})(),xn=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new de,new ae]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.ngInjectableDef=pe({token:e,providedIn:"root",factory:()=>new e([new Dn])}),e})(),In=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Mn(),e})();const Mn=(...e)=>{},En=[new Dn],On=new kn([new gn]),Fn=new xn(En);let Tn=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>An(e,sn),e})();const An=ln;let Pn=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>qn(e,sn),e})();const qn=ln;function Nn(e,t,n,r){let l=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${t}'. Current value: '${n}'.`;return r&&(l+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){const n=new Error(e);return Rn(n,t),n}(l,e)}function Rn(e,t){e[Je]=t,e[et]=t.logError.bind(t)}function jn(e){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${e}`)}function $n(e,t,n){const r=e.state,l=1792&r;return l===t?(e.state=-1793&r|n,e.initIndex=-1,!0):l===n}function Vn(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function Ln(e,t){return e.nodes[t]}function Bn(e,t){return e.nodes[t]}function Un(e,t){return e.nodes[t]}function Hn(e,t){return e.nodes[t]}function zn(e,t){return e.nodes[t]}const Xn={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Wn=()=>{},Gn=new Map;function Kn(e){let t=Gn.get(e);return t||(t=ve(e)+"_"+Gn.size,Gn.set(e,t)),t}const Zn="$$undefined",Qn="$$empty";function Jn(e){return{id:Zn,styles:e.styles,encapsulation:e.encapsulation,data:e.data}}let Yn=0;function er(e,t,n,r){return!(!(2&e.state)&&Vt(e.oldValues[t.bindingIndex+n],r))}function tr(e,t,n,r){return!!er(e,t,n,r)&&(e.oldValues[t.bindingIndex+n]=r,!0)}function nr(e,t,n,r){const l=e.oldValues[t.bindingIndex+n];if(1&e.state||!Lt(l,r)){const s=t.bindings[n].name;throw Nn(Xn.createDebugContext(e,t.nodeIndex),`${s}: ${l}`,`${s}: ${r}`,0!=(1&e.state))}}function rr(e){let t=e;for(;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function lr(e,t){let n=e;for(;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function sr(e,t,n,r){try{return rr(33554432&e.def.nodes[t].flags?Bn(e,t).componentView:e),Xn.handleEvent(e,t,n,r)}catch(l){e.root.errorHandler.handleError(l)}}function ir(e){return e.parent?Bn(e.parent,e.parentNodeDef.nodeIndex):null}function or(e){return e.parent?e.parentNodeDef.parent:null}function ur(e,t){switch(201347067&t.flags){case 1:return Bn(e,t.nodeIndex).renderElement;case 2:return Ln(e,t.nodeIndex).renderText}}function ar(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function cr(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function dr(e){return 1<<e%32}function hr(e){const t={};let n=0;const r={};return e&&e.forEach(([e,l])=>{"number"==typeof e?(t[e]=l,n|=dr(e)):r[e]=l}),{matchedQueries:t,references:r,matchedQueryIds:n}}function fr(e,t){return e.map(e=>{let n,r;return Array.isArray(e)?[r,n]=e:(r=0,n=e),n&&("function"==typeof n||"object"==typeof n)&&t&&Object.defineProperty(n,Ae,{value:t,configurable:!0}),{flags:r,token:n,tokenKey:Kn(n)}})}function pr(e,t,n){let r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===nt.Native?Bn(e,n.renderParent.nodeIndex).renderElement:void 0:t}const gr=new WeakMap;function mr(e){let t=gr.get(e);return t||((t=e(()=>Wn)).factory=e,gr.set(e,t)),t}function vr(e,t,n,r,l){3===t&&(n=e.renderer.parentNode(ur(e,e.def.lastRenderRootNode))),yr(e,t,0,e.def.nodes.length-1,n,r,l)}function yr(e,t,n,r,l,s,i){for(let o=n;o<=r;o++){const n=e.def.nodes[o];11&n.flags&&_r(e,n,t,l,s,i),o+=n.childCount}}function br(e,t,n,r,l,s){let i=e;for(;i&&!ar(i);)i=i.parent;const o=i.parent,u=or(i),a=u.nodeIndex+u.childCount;for(let c=u.nodeIndex+1;c<=a;c++){const e=o.def.nodes[c];e.ngContentIndex===t&&_r(o,e,n,r,l,s),c+=e.childCount}if(!o.parent){const i=e.root.projectableNodes[t];if(i)for(let t=0;t<i.length;t++)wr(e,i[t],n,r,l,s)}}function _r(e,t,n,r,l,s){if(8&t.flags)br(e,t.ngContent.index,n,r,l,s);else{const i=ur(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&wr(e,i,n,r,l,s),32&t.bindingFlags&&wr(Bn(e,t.nodeIndex).componentView,i,n,r,l,s)):wr(e,i,n,r,l,s),16777216&t.flags){const i=Bn(e,t.nodeIndex).viewContainer._embeddedViews;for(let e=0;e<i.length;e++)vr(i[e],n,r,l,s)}1&t.flags&&!t.element.name&&yr(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,r,l,s)}}function wr(e,t,n,r,l,s){const i=e.renderer;switch(n){case 1:i.appendChild(r,t);break;case 2:i.insertBefore(r,t,l);break;case 3:i.removeChild(r,t);break;case 0:s.push(t)}}const Dr=/^:([^:]+):(.+)$/;function Sr(e){if(":"===e[0]){const t=e.match(Dr);return[t[1],t[2]]}return["",e]}function Cr(e){let t=0;for(let n=0;n<e.length;n++)t|=e[n].flags;return t}function kr(e,t,n,r,l,s,i,o,u,a,c,d,h,f,p,g,m,v,y,b){switch(e){case 1:return t+xr(n)+r;case 2:return t+xr(n)+r+xr(l)+s;case 3:return t+xr(n)+r+xr(l)+s+xr(i)+o;case 4:return t+xr(n)+r+xr(l)+s+xr(i)+o+xr(u)+a;case 5:return t+xr(n)+r+xr(l)+s+xr(i)+o+xr(u)+a+xr(c)+d;case 6:return t+xr(n)+r+xr(l)+s+xr(i)+o+xr(u)+a+xr(c)+d+xr(h)+f;case 7:return t+xr(n)+r+xr(l)+s+xr(i)+o+xr(u)+a+xr(c)+d+xr(h)+f+xr(p)+g;case 8:return t+xr(n)+r+xr(l)+s+xr(i)+o+xr(u)+a+xr(c)+d+xr(h)+f+xr(p)+g+xr(m)+v;case 9:return t+xr(n)+r+xr(l)+s+xr(i)+o+xr(u)+a+xr(c)+d+xr(h)+f+xr(p)+g+xr(m)+v+xr(y)+b;default:throw new Error("Does not support more than 9 expressions")}}function xr(e){return null!=e?e.toString():""}const Ir=new Object,Mr=Kn(Ue),Er=Kn(Ie),Or=Kn(nn);function Fr(e,t,n,r){return n=_e(n),{index:-1,deps:fr(r,ve(t)),flags:e,token:t,value:n}}function Tr(e,t,n=Ue.THROW_IF_NOT_FOUND){const r=Re(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(n=null),1&t.flags)return e._parent.get(t.token,n);const i=t.tokenKey;switch(i){case Mr:case Er:case Or:return e}const o=e._def.providersByKey[i];let u;if(o){let t=e._providers[o.index];return void 0===t&&(t=e._providers[o.index]=Ar(e,o)),t===Ir?void 0:t}if((u=ge(t.token))&&(l=e,null!=(s=u).providedIn&&(function(e,t){return e._def.modules.indexOf(s.providedIn)>-1}(l)||"root"===s.providedIn&&l._def.isRoot))){const n=e._providers.length;return e._def.providers[n]=e._def.providersByKey[t.tokenKey]={flags:5120,value:u.factory,deps:[],index:n,token:t.token},e._providers[n]=Ir,e._providers[n]=Ar(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?n:e._parent.get(t.token,n)}finally{Re(r)}var l,s}function Ar(e,t){let n;switch(201347067&t.flags){case 512:n=function(e,t,n){const r=n.length;switch(r){case 0:return new t;case 1:return new t(Tr(e,n[0]));case 2:return new t(Tr(e,n[0]),Tr(e,n[1]));case 3:return new t(Tr(e,n[0]),Tr(e,n[1]),Tr(e,n[2]));default:const l=new Array(r);for(let t=0;t<r;t++)l[t]=Tr(e,n[t]);return new t(...l)}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){const r=n.length;switch(r){case 0:return t();case 1:return t(Tr(e,n[0]));case 2:return t(Tr(e,n[0]),Tr(e,n[1]));case 3:return t(Tr(e,n[0]),Tr(e,n[1]),Tr(e,n[2]));default:const l=Array(r);for(let t=0;t<r;t++)l[t]=Tr(e,n[t]);return t(...l)}}(e,t.value,t.deps);break;case 2048:n=Tr(e,t.deps[0]);break;case 256:n=t.value}return n===Ir||null===n||"object"!=typeof n||131072&t.flags||"function"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?Ir:n}function Pr(e,t){const n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;const r=n[t];return r.viewContainerParent=null,jr(n,t),Xn.dirtyParentQueries(r),Nr(r),r}function qr(e,t,n){const r=t?ur(t,t.def.lastRenderRootNode):e.renderElement,l=n.renderer.parentNode(r),s=n.renderer.nextSibling(r);vr(n,2,l,s,void 0)}function Nr(e){vr(e,3,null,null,void 0)}function Rr(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function jr(e,t){t>=e.length-1?e.pop():e.splice(t,1)}const $r=new Object;function Vr(e,t,n,r,l,s){return new Lr(e,t,n,r,l,s)}class Lr extends Kt{constructor(e,t,n,r,l,s){super(),this.selector=e,this.componentType=t,this._inputs=r,this._outputs=l,this.ngContentSelectors=s,this.viewDefFactory=n}get inputs(){const e=[],t=this._inputs;for(let n in t)e.push({propName:n,templateName:t[n]});return e}get outputs(){const e=[];for(let t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e}create(e,t,n,r){if(!r)throw new Error("ngModule should be provided");const l=mr(this.viewDefFactory),s=l.nodes[0].element.componentProvider.nodeIndex,i=Xn.createRootView(e,t||[],n,l,r,$r),o=Un(i,s).instance;return n&&i.renderer.setAttribute(Bn(i,0).renderElement,"ng-version",pn.full),new Br(i,new Xr(i),o)}}class Br extends Gt{constructor(e,t,n){super(),this._view=e,this._viewRef=t,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=t,this.changeDetectorRef=t,this.instance=n}get location(){return new sn(Bn(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new Zr(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(e){this._viewRef.onDestroy(e)}}function Ur(e,t,n){return new Hr(e,t,n)}class Hr{constructor(e,t,n){this._view=e,this._elDef=t,this._data=n,this._embeddedViews=[]}get element(){return new sn(this._data.renderElement)}get injector(){return new Zr(this._view,this._elDef)}get parentInjector(){let e=this._view,t=this._elDef.parent;for(;!t&&e;)t=or(e),e=e.parent;return e?new Zr(e,t):new Zr(this._view,null)}clear(){for(let e=this._embeddedViews.length-1;e>=0;e--){const t=Pr(this._data,e);Xn.destroyView(t)}}get(e){const t=this._embeddedViews[e];if(t){const e=new Xr(t);return e.attachToViewContainerRef(this),e}return null}get length(){return this._embeddedViews.length}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,l){const s=n||this.parentInjector;l||e instanceof tn||(l=s.get(nn));const i=e.create(s,r,void 0,l);return this.insert(i.hostView,t),i}insert(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=e;return function(e,t,n,r){let l=t.viewContainer._embeddedViews;null==n&&(n=l.length),r.viewContainerParent=e,Rr(l,n,r),function(e,t){const n=ir(t);if(!n||n===e||16&t.state)return;t.state|=16;let r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(t),function(e,n){if(4&n.flags)return;t.parent.def.nodeFlags|=4,n.flags|=4;let r=n.parent;for(;r;)r.childFlags|=4,r=r.parent}(0,t.parentNodeDef)}(t,r),Xn.dirtyParentQueries(r),qr(t,n>0?l[n-1]:null,r)}(this._view,this._data,t,n._view),n.attachToViewContainerRef(this),e}move(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(e._view);return function(e,t,r){const l=e.viewContainer._embeddedViews,s=l[n];jr(l,n),null==r&&(r=l.length),Rr(l,r,s),Xn.dirtyParentQueries(s),Nr(s),qr(e,r>0?l[r-1]:null,s)}(this._data,0,t),e}indexOf(e){return this._embeddedViews.indexOf(e._view)}remove(e){const t=Pr(this._data,e);t&&Xn.destroyView(t)}detach(e){const t=Pr(this._data,e);return t?new Xr(t):null}}function zr(e){return new Xr(e)}class Xr{constructor(e){this._view=e,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(e){const t=[];return vr(e,0,void 0,void 0,t),t}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){rr(this._view)}detach(){this._view.state&=-5}detectChanges(){const e=this._view.root.rendererFactory;e.begin&&e.begin();try{Xn.checkAndUpdateView(this._view)}finally{e.end&&e.end()}}checkNoChanges(){Xn.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Xn.destroyView(this._view)}detachFromAppRef(){this._appRef=null,Nr(this._view),Xn.dirtyParentQueries(this._view)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}}function Wr(e,t){return new Gr(e,t)}class Gr extends Tn{constructor(e,t){super(),this._parentView=e,this._def=t}createEmbeddedView(e){return new Xr(Xn.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))}get elementRef(){return new sn(Bn(this._parentView,this._def.nodeIndex).renderElement)}}function Kr(e,t){return new Zr(e,t)}class Zr{constructor(e,t){this.view=e,this.elDef=t}get(e,t=Ue.THROW_IF_NOT_FOUND){return Xn.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:Kn(e)},t)}}function Qr(e,t){const n=e.def.nodes[t];if(1&n.flags){const t=Bn(e,n.nodeIndex);return n.element.template?t.template:t.renderElement}if(2&n.flags)return Ln(e,n.nodeIndex).renderText;if(20240&n.flags)return Un(e,n.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${t}`)}function Jr(e){return new Yr(e.renderer)}class Yr{constructor(e){this.delegate=e}selectRootElement(e){return this.delegate.selectRootElement(e)}createElement(e,t){const[n,r]=Sr(t),l=this.delegate.createElement(r,n);return e&&this.delegate.appendChild(e,l),l}createViewRoot(e){return e}createTemplateAnchor(e){const t=this.delegate.createComment("");return e&&this.delegate.appendChild(e,t),t}createText(e,t){const n=this.delegate.createText(t);return e&&this.delegate.appendChild(e,n),n}projectNodes(e,t){for(let n=0;n<t.length;n++)this.delegate.appendChild(e,t[n])}attachViewAfter(e,t){const n=this.delegate.parentNode(e),r=this.delegate.nextSibling(e);for(let l=0;l<t.length;l++)this.delegate.insertBefore(n,t[l],r)}detachView(e){for(let t=0;t<e.length;t++){const n=e[t],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}destroyView(e,t){for(let n=0;n<t.length;n++)this.delegate.destroyNode(t[n])}listen(e,t,n){return this.delegate.listen(e,t,n)}listenGlobal(e,t,n){return this.delegate.listen(e,t,n)}setElementProperty(e,t,n){this.delegate.setProperty(e,t,n)}setElementAttribute(e,t,n){const[r,l]=Sr(t);null!=n?this.delegate.setAttribute(e,l,n,r):this.delegate.removeAttribute(e,l,r)}setBindingDebugInfo(e,t,n){}setElementClass(e,t,n){n?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)}setElementStyle(e,t,n){null!=n?this.delegate.setStyle(e,t,n):this.delegate.removeStyle(e,t)}invokeElementMethod(e,t,n){e[t].apply(e,n)}setText(e,t){this.delegate.setValue(e,t)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function el(e,t,n,r){return new tl(e,t,n,r)}class tl{constructor(e,t,n,r){this._moduleType=e,this._parent=t,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){const t=e._def,n=e._providers=new Array(t.providers.length);for(let r=0;r<t.providers.length;r++){const l=t.providers[r];4096&l.flags||void 0===n[r]&&(n[r]=Ar(e,l))}}(this)}get(e,t=Ue.THROW_IF_NOT_FOUND,n=he.Default){let r=0;return n&he.SkipSelf?r|=1:n&he.Self&&(r|=4),Tr(this,{token:e,tokenKey:Kn(e),flags:r},t)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(Yt)}destroy(){if(this._destroyed)throw new Error(`The ng module ${ve(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(e,t){const n=e._def,r=new Set;for(let l=0;l<n.providers.length;l++)if(131072&n.providers[l].flags){const t=e._providers[l];if(t&&t!==Ir){const e=t.ngOnDestroy;"function"!=typeof e||r.has(t)||(e.apply(t),r.add(t))}}}(this),this._destroyListeners.forEach(e=>e())}onDestroy(e){this._destroyListeners.push(e)}}const nl=Kn(un),rl=Kn(dn),ll=Kn(sn),sl=Kn(Pn),il=Kn(Tn),ol=Kn(In),ul=Kn(Ue),al=Kn(Ie);function cl(e,t,n,r,l,s,i,o){const u=[];if(i)for(let c in i){const[e,t]=i[c];u[e]={flags:8,name:c,nonMinifiedName:t,ns:null,securityContext:null,suffix:null}}const a=[];if(o)for(let c in o)a.push({type:1,propName:c,target:null,eventName:o[c]});return hl(e,t|=16384,n,r,l,l,s,u,a)}function dl(e,t,n,r,l){return hl(-1,e,t,0,n,r,l)}function hl(e,t,n,r,l,s,i,o,u){const{matchedQueries:a,references:c,matchedQueryIds:d}=hr(n);u||(u=[]),o||(o=[]),s=_e(s);const h=fr(i,ve(l));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a,matchedQueryIds:d,references:c,ngContentIndex:-1,childCount:r,bindings:o,bindingFlags:Cr(o),outputs:u,element:null,provider:{token:l,value:s,deps:h},text:null,query:null,ngContent:null}}function fl(e,t){return vl(e,t)}function pl(e,t){let n=e;for(;n.parent&&!ar(n);)n=n.parent;return yl(n.parent,or(n),!0,t.provider.value,t.provider.deps)}function gl(e,t){const n=yl(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(let r=0;r<t.outputs.length;r++){const l=t.outputs[r],s=n[l.propName];if(!Xt(s))throw new Error(`@Output ${l.propName} not initialized in '${n.constructor.name}'.`);{const n=s.subscribe(ml(e,t.parent.nodeIndex,l.eventName));e.disposables[t.outputIndex+r]=n.unsubscribe.bind(n)}}return n}function ml(e,t,n){return r=>sr(e,t,n,r)}function vl(e,t){const n=(8192&t.flags)>0,r=t.provider;switch(201347067&t.flags){case 512:return yl(e,t.parent,n,r.value,r.deps);case 1024:return function(e,t,n,r,l){const s=l.length;switch(s){case 0:return r();case 1:return r(_l(e,t,n,l[0]));case 2:return r(_l(e,t,n,l[0]),_l(e,t,n,l[1]));case 3:return r(_l(e,t,n,l[0]),_l(e,t,n,l[1]),_l(e,t,n,l[2]));default:const i=Array(s);for(let r=0;r<s;r++)i[r]=_l(e,t,n,l[r]);return r(...i)}}(e,t.parent,n,r.value,r.deps);case 2048:return _l(e,t.parent,n,r.deps[0]);case 256:return r.value}}function yl(e,t,n,r,l){const s=l.length;switch(s){case 0:return new r;case 1:return new r(_l(e,t,n,l[0]));case 2:return new r(_l(e,t,n,l[0]),_l(e,t,n,l[1]));case 3:return new r(_l(e,t,n,l[0]),_l(e,t,n,l[1]),_l(e,t,n,l[2]));default:const i=new Array(s);for(let r=0;r<s;r++)i[r]=_l(e,t,n,l[r]);return new r(...i)}}const bl={};function _l(e,t,n,r,l=Ue.THROW_IF_NOT_FOUND){if(8&r.flags)return r.token;const s=e;2&r.flags&&(l=null);const i=r.tokenKey;i===ol&&(n=!(!t||!t.element.componentView)),t&&1&r.flags&&(n=!1,t=t.parent);let o=e;for(;o;){if(t)switch(i){case nl:return Jr(wl(o,t,n));case rl:return wl(o,t,n).renderer;case ll:return new sn(Bn(o,t.nodeIndex).renderElement);case sl:return Bn(o,t.nodeIndex).viewContainer;case il:if(t.element.template)return Bn(o,t.nodeIndex).template;break;case ol:return zr(wl(o,t,n));case ul:case al:return Kr(o,t);default:const e=(n?t.element.allProviders:t.element.publicProviders)[i];if(e){let t=Un(o,e.nodeIndex);return t||(t={instance:vl(o,e)},o.nodes[e.nodeIndex]=t),t.instance}}n=ar(o),t=or(o),o=o.parent,4&r.flags&&(o=null)}const u=s.root.injector.get(r.token,bl);return u!==bl||l===bl?u:s.root.ngModule.injector.get(r.token,l)}function wl(e,t,n){let r;if(n)r=Bn(e,t.nodeIndex).componentView;else for(r=e;r.parent&&!ar(r);)r=r.parent;return r}function Dl(e,t,n,r,l,s){if(32768&n.flags){const t=Bn(e,n.parent.nodeIndex).componentView;2&t.def.flags&&(t.state|=8)}if(t.instance[n.bindings[r].name]=l,524288&n.flags){s=s||{};const t=Bt.unwrap(e.oldValues[n.bindingIndex+r]);s[n.bindings[r].nonMinifiedName]=new Wt(t,l,0!=(2&e.state))}return e.oldValues[n.bindingIndex+r]=l,s}function Sl(e,t){if(!(e.def.nodeFlags&t))return;const n=e.def.nodes;let r=0;for(let l=0;l<n.length;l++){const s=n[l];let i=s.parent;for(!i&&s.flags&t&&kl(e,l,s.flags&t,r++),0==(s.childFlags&t)&&(l+=s.childCount);i&&1&i.flags&&l===i.nodeIndex+i.childCount;)i.directChildFlags&t&&(r=Cl(e,i,t,r)),i=i.parent}}function Cl(e,t,n,r){for(let l=t.nodeIndex+1;l<=t.nodeIndex+t.childCount;l++){const t=e.def.nodes[l];t.flags&n&&kl(e,l,t.flags&n,r++),l+=t.childCount}return r}function kl(e,t,n,r){const l=Un(e,t);if(!l)return;const s=l.instance;s&&(Xn.setCurrentNode(e,t),1048576&n&&Vn(e,512,r)&&s.ngAfterContentInit(),2097152&n&&s.ngAfterContentChecked(),4194304&n&&Vn(e,768,r)&&s.ngAfterViewInit(),8388608&n&&s.ngAfterViewChecked(),131072&n&&s.ngOnDestroy())}const xl=new xe("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>rt}),Il={},Ml=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}(),El=void 0;var Ol=["en",[["a","p"],["AM","PM"],El],[["AM","PM"],El,El],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],El,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],El,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",El,"{1} 'at' {0}",El],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];function Fl(e){const t=e.toLowerCase().replace(/_/g,"-");let n=Il[t];if(n)return n;const r=t.split("-")[0];if(n=Il[r])return n;if("en"===r)return Ol;throw new Error(`Missing locale data for the locale "${e}".`)}let Tl="en-US";class Al extends I{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let r,l=e=>null,s=()=>null;e&&"object"==typeof e?(r=this.__isAsync?t=>{setTimeout(()=>e.next(t))}:t=>{e.next(t)},e.error&&(l=this.__isAsync?t=>{setTimeout(()=>e.error(t))}:t=>{e.error(t)}),e.complete&&(s=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(r=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)},t&&(l=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const i=super.subscribe(r,l,s);return e instanceof h&&e.add(i),i}}function Pl(){return this._results[$t()]()}class ql{constructor(){this.dirty=!0,this._results=[],this.changes=new Al,this.length=0;const e=$t(),t=ql.prototype;t[e]||(t[e]=Pl)}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e){this._results=function e(t,n){void 0===n&&(n=t);for(let r=0;r<t.length;r++){let l=t[r];Array.isArray(l)?(n===t&&(n=t.slice(0,r)),e(l,n)):n!==t&&n.push(l)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const Nl=new xe("Application Initializer");let Rl=(()=>(class{constructor(e){this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();zt(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}))();const jl=new xe("AppId");function $l(){return`${Vl()}${Vl()}${Vl()}`}function Vl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ll=new xe("Platform Initializer"),Bl=new xe("Platform ID"),Ul=new xe("appBootstrapListener");let Hl=(()=>(class{log(e){console.log(e)}warn(e){console.warn(e)}}))();const zl=new xe("LocaleId");function Xl(){throw new Error("Runtime compiler is not loaded")}const Wl=Xl,Gl=Xl,Kl=Xl,Zl=Xl;let Ql,Jl,Yl=(()=>(class{constructor(){this.compileModuleSync=Wl,this.compileModuleAsync=Gl,this.compileModuleAndAllComponentsSync=Kl,this.compileModuleAndAllComponentsAsync=Zl}clearCache(){}clearCacheFor(e){}getModuleId(e){}}))();class es{}function ts(){const e=ke.wtf;return!(!e||!(Ql=e.trace)||(Jl=Ql.events,0))}const ns=ts(),rs=ns?function(e,t=null){return Jl.createScope(e,t)}:(e,t)=>(function(e,t){return null}),ls=ns?function(e,t){return Ql.leaveScope(e,t),t}:(e,t)=>t,ss=(()=>Promise.resolve(0))();function is(e){"undefined"==typeof Zone?ss.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class os{constructor({enableLongStackTrace:e=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Al(!1),this.onMicrotaskEmpty=new Al(!1),this.onStable=new Al(!1),this.onError=new Al(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");var t;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(t=this)._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,n,r,l,s,i)=>{try{return ds(t),e.invokeTask(r,l,s,i)}finally{hs(t)}},onInvoke:(e,n,r,l,s,i,o)=>{try{return ds(t),e.invoke(r,l,s,i,o)}finally{hs(t)}},onHasTask:(e,n,r,l)=>{e.hasTask(r,l),n===r&&("microTask"==l.change?(t.hasPendingMicrotasks=l.microTask,cs(t)):"macroTask"==l.change&&(t.hasPendingMacrotasks=l.macroTask))},onHandleError:(e,n,r,l)=>(e.handleError(r,l),t.runOutsideAngular(()=>t.onError.emit(l)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!os.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(os.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const l=this._inner,s=l.scheduleEventTask("NgZoneEvent: "+r,e,as,us,us);try{return l.runTask(s,t,n)}finally{l.cancelTask(s)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}function us(){}const as={};function cs(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function ds(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function hs(e){e._nesting--,cs(e)}class fs{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Al,this.onMicrotaskEmpty=new Al,this.onStable=new Al,this.onError=new Al}run(e){return e()}runGuarded(e){return e()}runOutsideAngular(e){return e()}runTask(e){return e()}}let ps=(()=>(class{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{os.assertNotInAngularZone(),is(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())is(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==r),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}))(),gs=(()=>{class e{constructor(){this._applications=new Map,ys.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return ys.findTestabilityInTree(this,e,t)}}return e.ctorParameters=()=>[],e})();class ms{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}let vs,ys=new ms,bs=function(e){return e instanceof tn};const _s=new xe("AllowMultipleToken");class ws{constructor(e,t){this.name=e,this.token=t}}function Ds(e,t,n=[]){const r=`Platform: ${t}`,l=new xe(r);return(t=[])=>{let s=Ss();if(!s||s.injector.get(_s,!1))if(e)e(n.concat(t).concat({provide:l,useValue:!0}));else{const e=n.concat(t).concat({provide:l,useValue:!0});!function(e){if(vs&&!vs.destroyed&&!vs.injector.get(_s,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");vs=e.get(Cs);const t=e.get(Ll,null);t&&t.forEach(e=>e())}(Ue.create({providers:e,name:r}))}return function(e){const t=Ss();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(l)}}function Ss(){return vs&&!vs.destroyed?vs:null}let Cs=(()=>(class{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n="noop"===(l=t?t.ngZone:void 0)?new fs:("zone.js"===l?void 0:l)||new os({enableLongStackTrace:it()}),r=[{provide:os,useValue:n}];var l;return n.run(()=>{const t=Ue.create({providers:r,parent:this.injector,name:e.moduleType.name}),l=e.create(t),s=l.injector.get(qt,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return function(e){Tl=e.toLowerCase().replace(/_/g,"-")}(l.injector.get(zl,"en-US")),l.onDestroy(()=>Is(this._modules,l)),n.runOutsideAngular(()=>n.onError.subscribe({next:e=>{s.handleError(e)}})),function(e,t,n){try{const l=n();return zt(l)?l.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):l}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(s,n,()=>{const e=l.injector.get(Rl);return e.runInitializers(),e.donePromise.then(()=>(this._moduleDoBootstrap(l),l))})})}bootstrapModule(e,t=[]){const n=ks({},t);return function(e,t,n){return e.get(es).createCompiler([t]).compileModuleAsync(n)}(this.injector,n,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(xs);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${ve(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}))();function ks(e,t){return Array.isArray(t)?t.reduce(ks,e):Object.assign({},e,t)}let xs=(()=>{class e{constructor(e,t,n,r,l,s){this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=l,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=it(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const i=new w(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),o=new w(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{os.assertNotInAngularZone(),is(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{os.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=J(i,o.pipe(e=>Y()(function(e,t){return function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,re);return r.source=t,r.subjectFactory=n,r}}(se)(e))))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof Kt?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const r=bs(n)?null:this._injector.get(nn),l=n.create(Ue.NULL,[],t||n.selector,r);l.onDestroy(()=>{this._unloadComponent(l)});const s=l.injector.get(ps,null);return s&&l.injector.get(gs).registerApplication(l.location.nativeElement,s),this._loadComponent(l),it()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),l}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const t=e._tickScope();try{this._runningTick=!0;for(let e of this._views)e.detectChanges();if(this._enforceNoNewChanges)for(let e of this._views)e.checkNoChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1,ls(t)}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Is(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Ul,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}_unloadComponent(e){this.detachView(e.hostView),Is(this.components,e)}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy())}get viewCount(){return this._views.length}}return e._tickScope=rs("ApplicationRef#tick()"),e})();function Is(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Ms{}class Es{}const Os={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Fs=(()=>(class{constructor(e,t){this._compiler=e,this._config=t||Os}load(e){return this._compiler instanceof Yl?this.loadFactory(e):this.loadAndCompile(e)}loadAndCompile(e){let[t,r]=e.split("#");return void 0===r&&(r="default"),n("zn8P")(t).then(e=>e[r]).then(e=>Ts(e,t,r)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,r]=e.split("#"),l="NgFactory";return void 0===r&&(r="default",l=""),n("zn8P")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[r+l]).then(e=>Ts(e,t,r))}}))();function Ts(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}class As{constructor(e,t){this.name=e,this.callback=t}}class Ps{constructor(e,t,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=e,t&&t instanceof qs&&t.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class qs extends Ps{constructor(e,t,n){super(e,t,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=e}addChild(e){e&&(this.childNodes.push(e),e.parent=this)}removeChild(e){const t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))}insertChildrenAfter(e,t){const n=this.childNodes.indexOf(e);-1!==n&&(this.childNodes.splice(n+1,0,...t),t.forEach(t=>{t.parent&&t.parent.removeChild(t),e.parent=this}))}insertBefore(e,t){const n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))}query(e){return this.queryAll(e)[0]||null}queryAll(e){const t=[];return function e(t,n,r){t.childNodes.forEach(t=>{t instanceof qs&&(n(t)&&r.push(t),e(t,n,r))})}(this,e,t),t}queryAllNodes(e){const t=[];return function e(t,n,r){t instanceof qs&&t.childNodes.forEach(t=>{n(t)&&r.push(t),t instanceof qs&&e(t,n,r)})}(this,e,t),t}get children(){return this.childNodes.filter(e=>e instanceof qs)}triggerEventHandler(e,t){this.listeners.forEach(n=>{n.name==e&&n.callback(t)})}}const Ns=new Map,Rs=function(e){return Ns.get(e)||null};function js(e){Ns.set(e.nativeNode,e)}const $s=Ds(null,"core",[{provide:Bl,useValue:"unknown"},{provide:Cs,deps:[Ue]},{provide:gs,deps:[]},{provide:Hl,deps:[]}]);function Vs(){return On}function Ls(){return Fn}function Bs(e){return e||"en-US"}function Us(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}let Hs=(()=>(class{constructor(e){}}))();function zs(e,t,n,r,l,s){e|=1;const{matchedQueries:i,references:o,matchedQueryIds:u}=hr(t);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:i,matchedQueryIds:u,references:o,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:s?mr(s):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:l||Wn},provider:null,text:null,query:null,ngContent:null}}function Xs(e,t,n,r,l,s,i=[],o,u,a,c,d){a||(a=Wn);const{matchedQueries:h,references:f,matchedQueryIds:p}=hr(n);let g=null,m=null;s&&([g,m]=Sr(s)),o=o||[];const v=new Array(o.length);for(let _=0;_<o.length;_++){const[e,t,n]=o[_],[r,l]=Sr(t);let s=void 0,i=void 0;switch(15&e){case 4:i=n;break;case 1:case 8:s=n}v[_]={flags:e,ns:r,name:l,nonMinifiedName:l,securityContext:s,suffix:i}}u=u||[];const y=new Array(u.length);for(let _=0;_<u.length;_++){const[e,t]=u[_];y[_]={type:0,target:e,eventName:t,propName:null}}const b=(i=i||[]).map(([e,t])=>{const[n,r]=Sr(e);return[n,r,t]});return d=function(e){if(e&&e.id===Zn){const t=null!=e.encapsulation&&e.encapsulation!==nt.None||e.styles.length||Object.keys(e.data).length;e.id=t?`c${Yn++}`:Qn}return e&&e.id===Qn&&(e=null),e||null}(d),c&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:h,matchedQueryIds:p,references:f,ngContentIndex:r,childCount:l,bindings:v,bindingFlags:Cr(v),outputs:y,element:{ns:g,name:m,attrs:b,template:null,componentProvider:null,componentView:c||null,componentRendererType:d,publicProviders:null,allProviders:null,handleEvent:a||Wn},provider:null,text:null,query:null,ngContent:null}}function Ws(e,t,n){const r=n.element,l=e.root.selectorOrNode,s=e.renderer;let i;if(e.parent||!l){i=r.name?s.createElement(r.name,r.ns):s.createComment("");const l=pr(e,t,n);l&&s.appendChild(l,i)}else i=s.selectRootElement(l,!!r.componentRendererType&&r.componentRendererType.encapsulation===nt.ShadowDom);if(r.attrs)for(let o=0;o<r.attrs.length;o++){const[e,t,n]=r.attrs[o];s.setAttribute(i,t,n,e)}return i}function Gs(e,t,n,r){for(let i=0;i<n.outputs.length;i++){const o=n.outputs[i],u=Ks(e,n.nodeIndex,(s=o.eventName,(l=o.target)?`${l}:${s}`:s));let a=o.target,c=e;"component"===o.target&&(a=null,c=t);const d=c.renderer.listen(a||r,o.eventName,u);e.disposables[n.outputIndex+i]=d}var l,s}function Ks(e,t,n){return r=>sr(e,t,n,r)}function Zs(e,t,n,r){if(!tr(e,t,n,r))return!1;const l=t.bindings[n],s=Bn(e,t.nodeIndex),i=s.renderElement,o=l.name;switch(15&l.flags){case 1:!function(e,t,n,r,l,s){const i=t.securityContext;let o=i?e.root.sanitizer.sanitize(i,s):s;o=null!=o?o.toString():null;const u=e.renderer;null!=s?u.setAttribute(n,l,o,r):u.removeAttribute(n,l,r)}(e,l,i,l.ns,o,r);break;case 2:!function(e,t,n,r){const l=e.renderer;r?l.addClass(t,n):l.removeClass(t,n)}(e,i,o,r);break;case 4:!function(e,t,n,r,l){let s=e.root.sanitizer.sanitize(Mt.STYLE,l);if(null!=s){s=s.toString();const e=t.suffix;null!=e&&(s+=e)}else s=null;const i=e.renderer;null!=s?i.setStyle(n,r,s):i.removeStyle(n,r)}(e,l,i,o,r);break;case 8:!function(e,t,n,r,l){const s=t.securityContext;let i=s?e.root.sanitizer.sanitize(s,l):l;e.renderer.setProperty(n,r,i)}(33554432&t.flags&&32&l.flags?s.componentView:e,l,i,o,r)}return!0}function Qs(e,t,n){let r=[];for(let l in n)r.push({propName:l,bindingType:n[l]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:t,filterId:dr(t),bindings:r},ngContent:null}}function Js(e){const t=e.def.nodeMatchedQueries;for(;e.parent&&cr(e);){let n=e.parentNodeDef;e=e.parent;const r=n.nodeIndex+n.childCount;for(let l=0;l<=r;l++){const r=e.def.nodes[l];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&t)===r.query.filterId&&zn(e,l).setDirty(),!(1&r.flags&&l+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(l+=r.childCount)}}if(134217728&e.def.nodeFlags)for(let n=0;n<e.def.nodes.length;n++){const t=e.def.nodes[n];134217728&t.flags&&536870912&t.flags&&zn(e,n).setDirty(),n+=t.childCount}}function Ys(e,t){const n=zn(e,t.nodeIndex);if(!n.dirty)return;let r,l=void 0;if(67108864&t.flags){const n=t.parent.parent;l=ei(e,n.nodeIndex,n.nodeIndex+n.childCount,t.query,[]),r=Un(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(l=ei(e,0,e.def.nodes.length-1,t.query,[]),r=e.component);n.reset(l);const s=t.query.bindings;let i=!1;for(let o=0;o<s.length;o++){const e=s[o];let t;switch(e.bindingType){case 0:t=n.first;break;case 1:t=n,i=!0}r[e.propName]=t}i&&n.notifyOnChanges()}function ei(e,t,n,r,l){for(let s=t;s<=n;s++){const t=e.def.nodes[s],n=t.matchedQueries[r.id];if(null!=n&&l.push(ti(e,t,n)),1&t.flags&&t.element.template&&(t.element.template.nodeMatchedQueries&r.filterId)===r.filterId){const n=Bn(e,s);if((t.childMatchedQueries&r.filterId)===r.filterId&&(ei(e,s+1,s+t.childCount,r,l),s+=t.childCount),16777216&t.flags){const e=n.viewContainer._embeddedViews;for(let t=0;t<e.length;t++){const s=e[t],i=ir(s);i&&i===n&&ei(s,0,s.def.nodes.length-1,r,l)}}const i=n.template._projectedViews;if(i)for(let e=0;e<i.length;e++){const t=i[e];ei(t,0,t.def.nodes.length-1,r,l)}}(t.childMatchedQueries&r.filterId)!==r.filterId&&(s+=t.childCount)}return l}function ti(e,t,n){if(null!=n)switch(n){case 1:return Bn(e,t.nodeIndex).renderElement;case 0:return new sn(Bn(e,t.nodeIndex).renderElement);case 2:return Bn(e,t.nodeIndex).template;case 3:return Bn(e,t.nodeIndex).viewContainer;case 4:return Un(e,t.nodeIndex).instance}}function ni(e,t){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:t}}}function ri(e,t,n){const r=pr(e,t,n);r&&br(e,n.ngContent.index,1,r,null,void 0)}function li(e,t){return ii(32,e,new Array(t))}function si(e,t){const n=Object.keys(t),r=n.length,l=new Array(r);for(let s=0;s<r;s++){const e=n[s];l[t[e]]=e}return ii(64,e,l)}function ii(e,t,n){const r=new Array(n.length);for(let l=0;l<n.length;l++){const e=n[l];r[l]={flags:8,name:e,ns:null,nonMinifiedName:e,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:Cr(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function oi(e,t,n){const r=new Array(n.length-1);for(let l=1;l<n.length;l++)r[l-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[l]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function ui(e,t,n){let r;const l=e.renderer;r=l.createText(n.text.prefix);const s=pr(e,t,n);return s&&l.appendChild(s,r),{renderText:r}}function ai(e,t){return(null!=e?e.toString():"")+t.suffix}function ci(e,t,n,r){let l=0,s=0,i=0,o=0,u=0,a=null,c=null,d=!1,h=!1,f=null;for(let p=0;p<t.length;p++){const e=t[p];if(e.nodeIndex=p,e.parent=a,e.bindingIndex=l,e.outputIndex=s,e.renderParent=c,i|=e.flags,u|=e.matchedQueryIds,e.element){const t=e.element;t.publicProviders=a?a.element.publicProviders:Object.create(null),t.allProviders=t.publicProviders,d=!1,h=!1,e.element.template&&(u|=e.element.template.nodeMatchedQueries)}if(hi(a,e,t.length),l+=e.bindings.length,s+=e.outputs.length,!c&&3&e.flags&&(f=e),20224&e.flags){d||(d=!0,a.element.publicProviders=Object.create(a.element.publicProviders),a.element.allProviders=a.element.publicProviders);const t=0!=(32768&e.flags);0==(8192&e.flags)||t?a.element.publicProviders[Kn(e.provider.token)]=e:(h||(h=!0,a.element.allProviders=Object.create(a.element.publicProviders)),a.element.allProviders[Kn(e.provider.token)]=e),t&&(a.element.componentProvider=e)}if(a?(a.childFlags|=e.flags,a.directChildFlags|=e.flags,a.childMatchedQueries|=e.matchedQueryIds,e.element&&e.element.template&&(a.childMatchedQueries|=e.element.template.nodeMatchedQueries)):o|=e.flags,e.childCount>0)a=e,di(e)||(c=e);else for(;a&&p===a.nodeIndex+a.childCount;){const e=a.parent;e&&(e.childFlags|=a.childFlags,e.childMatchedQueries|=a.childMatchedQueries),c=(a=e)&&di(a)?a.renderParent:a}}return{factory:null,nodeFlags:i,rootNodeFlags:o,nodeMatchedQueries:u,flags:e,nodes:t,updateDirectives:n||Wn,updateRenderer:r||Wn,handleEvent:(e,n,r,l)=>t[n].element.handleEvent(e,r,l),bindingCount:l,outputCount:s,lastRenderRootNode:f}}function di(e){return 0!=(1&e.flags)&&null===e.element.name}function hi(e,t,n){const r=t.element&&t.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${t.nodeIndex}!`)}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${t.nodeIndex}!`);if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${t.nodeIndex}!`);if(134217728&t.flags&&e)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${t.nodeIndex}!`)}if(t.childCount){const r=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=r&&t.nodeIndex+t.childCount>r)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${t.nodeIndex}!`)}}function fi(e,t,n,r){const l=mi(e.root,e.renderer,e,t,n);return vi(l,e.component,r),yi(l),l}function pi(e,t,n){const r=mi(e,e.renderer,null,null,t);return vi(r,n,n),yi(r),r}function gi(e,t,n,r){const l=t.element.componentRendererType;let s;return s=l?e.root.rendererFactory.createRenderer(r,l):e.root.renderer,mi(e.root,s,e,t.element.componentProvider,n)}function mi(e,t,n,r,l){const s=new Array(l.nodes.length),i=l.outputCount?new Array(l.outputCount):null;return{def:l,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:s,state:13,root:e,renderer:t,oldValues:new Array(l.bindingCount),disposables:i,initIndex:-1}}function vi(e,t,n){e.component=t,e.context=n}function yi(e){let t;ar(e)&&(t=Bn(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);const n=e.def,r=e.nodes;for(let l=0;l<n.nodes.length;l++){const s=n.nodes[l];let i;switch(Xn.setCurrentNode(e,l),201347067&s.flags){case 1:const n=Ws(e,t,s);let o=void 0;if(33554432&s.flags){const t=mr(s.element.componentView);o=Xn.createComponentView(e,s,t,n)}Gs(e,o,s,n),i={renderElement:n,componentView:o,viewContainer:null,template:s.element.template?Wr(e,s):void 0},16777216&s.flags&&(i.viewContainer=Ur(e,s,i));break;case 2:i=ui(e,t,s);break;case 512:case 1024:case 2048:case 256:(i=r[l])||4096&s.flags||(i={instance:fl(e,s)});break;case 16:i={instance:pl(e,s)};break;case 16384:(i=r[l])||(i={instance:gl(e,s)}),32768&s.flags&&vi(Bn(e,s.parent.nodeIndex).componentView,i.instance,i.instance);break;case 32:case 64:case 128:i={value:void 0};break;case 67108864:case 134217728:i=new ql;break;case 8:ri(e,t,s),i=void 0}r[l]=i}Ii(e,xi.CreateViewNodes),Fi(e,201326592,268435456,0)}function bi(e){Di(e),Xn.updateDirectives(e,1),Mi(e,xi.CheckNoChanges),Xn.updateRenderer(e,1),Ii(e,xi.CheckNoChanges),e.state&=-97}function _i(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,$n(e,0,256),Di(e),Xn.updateDirectives(e,0),Mi(e,xi.CheckAndUpdate),Fi(e,67108864,536870912,0);let t=$n(e,256,512);Sl(e,2097152|(t?1048576:0)),Xn.updateRenderer(e,0),Ii(e,xi.CheckAndUpdate),Fi(e,134217728,536870912,0),Sl(e,8388608|((t=$n(e,512,768))?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,$n(e,768,1024)}function wi(e,t,n,r,l,s,i,o,u,a,c,d,h){return 0===n?function(e,t,n,r,l,s,i,o,u,a,c,d){switch(201347067&t.flags){case 1:return function(e,t,n,r,l,s,i,o,u,a,c,d){const h=t.bindings.length;let f=!1;return h>0&&Zs(e,t,0,n)&&(f=!0),h>1&&Zs(e,t,1,r)&&(f=!0),h>2&&Zs(e,t,2,l)&&(f=!0),h>3&&Zs(e,t,3,s)&&(f=!0),h>4&&Zs(e,t,4,i)&&(f=!0),h>5&&Zs(e,t,5,o)&&(f=!0),h>6&&Zs(e,t,6,u)&&(f=!0),h>7&&Zs(e,t,7,a)&&(f=!0),h>8&&Zs(e,t,8,c)&&(f=!0),h>9&&Zs(e,t,9,d)&&(f=!0),f}(e,t,n,r,l,s,i,o,u,a,c,d);case 2:return function(e,t,n,r,l,s,i,o,u,a,c,d){let h=!1;const f=t.bindings,p=f.length;if(p>0&&tr(e,t,0,n)&&(h=!0),p>1&&tr(e,t,1,r)&&(h=!0),p>2&&tr(e,t,2,l)&&(h=!0),p>3&&tr(e,t,3,s)&&(h=!0),p>4&&tr(e,t,4,i)&&(h=!0),p>5&&tr(e,t,5,o)&&(h=!0),p>6&&tr(e,t,6,u)&&(h=!0),p>7&&tr(e,t,7,a)&&(h=!0),p>8&&tr(e,t,8,c)&&(h=!0),p>9&&tr(e,t,9,d)&&(h=!0),h){let h=t.text.prefix;p>0&&(h+=ai(n,f[0])),p>1&&(h+=ai(r,f[1])),p>2&&(h+=ai(l,f[2])),p>3&&(h+=ai(s,f[3])),p>4&&(h+=ai(i,f[4])),p>5&&(h+=ai(o,f[5])),p>6&&(h+=ai(u,f[6])),p>7&&(h+=ai(a,f[7])),p>8&&(h+=ai(c,f[8])),p>9&&(h+=ai(d,f[9]));const g=Ln(e,t.nodeIndex).renderText;e.renderer.setValue(g,h)}return h}(e,t,n,r,l,s,i,o,u,a,c,d);case 16384:return function(e,t,n,r,l,s,i,o,u,a,c,d){const h=Un(e,t.nodeIndex),f=h.instance;let p=!1,g=void 0;const m=t.bindings.length;return m>0&&er(e,t,0,n)&&(p=!0,g=Dl(e,h,t,0,n,g)),m>1&&er(e,t,1,r)&&(p=!0,g=Dl(e,h,t,1,r,g)),m>2&&er(e,t,2,l)&&(p=!0,g=Dl(e,h,t,2,l,g)),m>3&&er(e,t,3,s)&&(p=!0,g=Dl(e,h,t,3,s,g)),m>4&&er(e,t,4,i)&&(p=!0,g=Dl(e,h,t,4,i,g)),m>5&&er(e,t,5,o)&&(p=!0,g=Dl(e,h,t,5,o,g)),m>6&&er(e,t,6,u)&&(p=!0,g=Dl(e,h,t,6,u,g)),m>7&&er(e,t,7,a)&&(p=!0,g=Dl(e,h,t,7,a,g)),m>8&&er(e,t,8,c)&&(p=!0,g=Dl(e,h,t,8,c,g)),m>9&&er(e,t,9,d)&&(p=!0,g=Dl(e,h,t,9,d,g)),g&&f.ngOnChanges(g),65536&t.flags&&Vn(e,256,t.nodeIndex)&&f.ngOnInit(),262144&t.flags&&f.ngDoCheck(),p}(e,t,n,r,l,s,i,o,u,a,c,d);case 32:case 64:case 128:return function(e,t,n,r,l,s,i,o,u,a,c,d){const h=t.bindings;let f=!1;const p=h.length;if(p>0&&tr(e,t,0,n)&&(f=!0),p>1&&tr(e,t,1,r)&&(f=!0),p>2&&tr(e,t,2,l)&&(f=!0),p>3&&tr(e,t,3,s)&&(f=!0),p>4&&tr(e,t,4,i)&&(f=!0),p>5&&tr(e,t,5,o)&&(f=!0),p>6&&tr(e,t,6,u)&&(f=!0),p>7&&tr(e,t,7,a)&&(f=!0),p>8&&tr(e,t,8,c)&&(f=!0),p>9&&tr(e,t,9,d)&&(f=!0),f){const f=Hn(e,t.nodeIndex);let g;switch(201347067&t.flags){case 32:g=new Array(h.length),p>0&&(g[0]=n),p>1&&(g[1]=r),p>2&&(g[2]=l),p>3&&(g[3]=s),p>4&&(g[4]=i),p>5&&(g[5]=o),p>6&&(g[6]=u),p>7&&(g[7]=a),p>8&&(g[8]=c),p>9&&(g[9]=d);break;case 64:g={},p>0&&(g[h[0].name]=n),p>1&&(g[h[1].name]=r),p>2&&(g[h[2].name]=l),p>3&&(g[h[3].name]=s),p>4&&(g[h[4].name]=i),p>5&&(g[h[5].name]=o),p>6&&(g[h[6].name]=u),p>7&&(g[h[7].name]=a),p>8&&(g[h[8].name]=c),p>9&&(g[h[9].name]=d);break;case 128:const e=n;switch(p){case 1:g=e.transform(n);break;case 2:g=e.transform(r);break;case 3:g=e.transform(r,l);break;case 4:g=e.transform(r,l,s);break;case 5:g=e.transform(r,l,s,i);break;case 6:g=e.transform(r,l,s,i,o);break;case 7:g=e.transform(r,l,s,i,o,u);break;case 8:g=e.transform(r,l,s,i,o,u,a);break;case 9:g=e.transform(r,l,s,i,o,u,a,c);break;case 10:g=e.transform(r,l,s,i,o,u,a,c,d)}}f.value=g}return f}(e,t,n,r,l,s,i,o,u,a,c,d);default:throw"unreachable"}}(e,t,r,l,s,i,o,u,a,c,d,h):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){let r=!1;for(let l=0;l<n.length;l++)Zs(e,t,l,n[l])&&(r=!0);return r}(e,t,n);case 2:return function(e,t,n){const r=t.bindings;let l=!1;for(let s=0;s<n.length;s++)tr(e,t,s,n[s])&&(l=!0);if(l){let l="";for(let e=0;e<n.length;e++)l+=ai(n[e],r[e]);l=t.text.prefix+l;const s=Ln(e,t.nodeIndex).renderText;e.renderer.setValue(s,l)}return l}(e,t,n);case 16384:return function(e,t,n){const r=Un(e,t.nodeIndex),l=r.instance;let s=!1,i=void 0;for(let o=0;o<n.length;o++)er(e,t,o,n[o])&&(s=!0,i=Dl(e,r,t,o,n[o],i));return i&&l.ngOnChanges(i),65536&t.flags&&Vn(e,256,t.nodeIndex)&&l.ngOnInit(),262144&t.flags&&l.ngDoCheck(),s}(e,t,n);case 32:case 64:case 128:return function(e,t,n){const r=t.bindings;let l=!1;for(let s=0;s<n.length;s++)tr(e,t,s,n[s])&&(l=!0);if(l){const l=Hn(e,t.nodeIndex);let s;switch(201347067&t.flags){case 32:s=n;break;case 64:s={};for(let t=0;t<n.length;t++)s[r[t].name]=n[t];break;case 128:const e=n[0],l=n.slice(1);s=e.transform(...l)}l.value=s}return l}(e,t,n);default:throw"unreachable"}}(e,t,r)}function Di(e){const t=e.def;if(4&t.nodeFlags)for(let n=0;n<t.nodes.length;n++){const r=t.nodes[n];if(4&r.flags){const t=Bn(e,n).template._projectedViews;if(t)for(let n=0;n<t.length;n++){const r=t[n];r.state|=32,lr(r,e)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function Si(e,t,n,r,l,s,i,o,u,a,c,d,h){return 0===n?function(e,t,n,r,l,s,i,o,u,a,c,d){const h=t.bindings.length;h>0&&nr(e,t,0,n),h>1&&nr(e,t,1,r),h>2&&nr(e,t,2,l),h>3&&nr(e,t,3,s),h>4&&nr(e,t,4,i),h>5&&nr(e,t,5,o),h>6&&nr(e,t,6,u),h>7&&nr(e,t,7,a),h>8&&nr(e,t,8,c),h>9&&nr(e,t,9,d)}(e,t,r,l,s,i,o,u,a,c,d,h):function(e,t,n){for(let r=0;r<n.length;r++)nr(e,t,r,n[r])}(e,t,r),!1}function Ci(e,t){if(zn(e,t.nodeIndex).dirty)throw Nn(Xn.createDebugContext(e,t.nodeIndex),`Query ${t.query.id} not dirty`,`Query ${t.query.id} dirty`,0!=(1&e.state))}function ki(e){if(!(128&e.state)){if(Mi(e,xi.Destroy),Ii(e,xi.Destroy),Sl(e,131072),e.disposables)for(let t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(!(16&e.state))return;const t=ir(e);if(t){const n=t.template._projectedViews;n&&(jr(n,n.indexOf(e)),Xn.dirtyParentQueries(e))}}(e),e.renderer.destroyNode&&function(e){const t=e.def.nodes.length;for(let n=0;n<t;n++){const t=e.def.nodes[n];1&t.flags?e.renderer.destroyNode(Bn(e,n).renderElement):2&t.flags?e.renderer.destroyNode(Ln(e,n).renderText):(67108864&t.flags||134217728&t.flags)&&zn(e,n).destroy()}}(e),ar(e)&&e.renderer.destroy(),e.state|=128}}const xi=function(){var e={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return e[e.CreateViewNodes]="CreateViewNodes",e[e.CheckNoChanges]="CheckNoChanges",e[e.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",e[e.CheckAndUpdate]="CheckAndUpdate",e[e.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",e[e.Destroy]="Destroy",e}();function Ii(e,t){const n=e.def;if(33554432&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const l=n.nodes[r];33554432&l.flags?Ei(Bn(e,r).componentView,t):0==(33554432&l.childFlags)&&(r+=l.childCount)}}function Mi(e,t){const n=e.def;if(16777216&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const l=n.nodes[r];if(16777216&l.flags){const n=Bn(e,r).viewContainer._embeddedViews;for(let e=0;e<n.length;e++)Ei(n[e],t)}else 0==(16777216&l.childFlags)&&(r+=l.childCount)}}function Ei(e,t){const n=e.state;switch(t){case xi.CheckNoChanges:0==(128&n)&&(12==(12&n)?bi(e):64&n&&Oi(e,xi.CheckNoChangesProjectedViews));break;case xi.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?bi(e):64&n&&Oi(e,t));break;case xi.CheckAndUpdate:0==(128&n)&&(12==(12&n)?_i(e):64&n&&Oi(e,xi.CheckAndUpdateProjectedViews));break;case xi.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?_i(e):64&n&&Oi(e,t));break;case xi.Destroy:ki(e);break;case xi.CreateViewNodes:yi(e)}}function Oi(e,t){Mi(e,t),Ii(e,t)}function Fi(e,t,n,r){if(!(e.def.nodeFlags&t&&e.def.nodeFlags&n))return;const l=e.def.nodes.length;for(let s=0;s<l;s++){const l=e.def.nodes[s];if(l.flags&t&&l.flags&n)switch(Xn.setCurrentNode(e,l.nodeIndex),r){case 0:Ys(e,l);break;case 1:Ci(e,l)}l.childFlags&t&&l.childFlags&n||(s+=l.childCount)}}let Ti=!1;function Ai(e,t,n,r,l,s){const i=l.injector.get(an);return pi(qi(e,l,i,t,n),r,s)}function Pi(e,t,n,r,l,s){const i=l.injector.get(an),o=qi(e,l,new po(i),t,n),u=zi(r);return ho(Qi.create,pi,null,[o,u,s])}function qi(e,t,n,r,l){const s=t.injector.get(Et),i=t.injector.get(qt),o=n.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:r,selectorOrNode:l,sanitizer:s,rendererFactory:n,renderer:o,errorHandler:i}}function Ni(e,t,n,r){const l=zi(n);return ho(Qi.create,fi,null,[e,t,l,r])}function Ri(e,t,n,r){return n=Li.get(t.element.componentProvider.provider.token)||zi(n),ho(Qi.create,gi,null,[e,t,n,r])}function ji(e,t,n,r){return el(e,t,n,function(e){const{hasOverrides:t,hasDeprecatedOverrides:n}=function(e){let t=!1,n=!1;return 0===$i.size?{hasOverrides:t,hasDeprecatedOverrides:n}:(e.providers.forEach(e=>{const r=$i.get(e.token);3840&e.flags&&r&&(t=!0,n=n||r.deprecatedBehavior)}),e.modules.forEach(e=>{Vi.forEach((r,l)=>{ge(l).providedIn===e&&(t=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:t,hasDeprecatedOverrides:n})}(e);return t?(function(e){for(let t=0;t<e.providers.length;t++){const r=e.providers[t];n&&(r.flags|=4096);const l=$i.get(r.token);l&&(r.flags=-3841&r.flags|l.flags,r.deps=fr(l.deps),r.value=l.value)}if(Vi.size>0){let t=new Set(e.modules);Vi.forEach((r,l)=>{if(t.has(ge(l).providedIn)){let t={token:l,flags:r.flags|(n?4096:0),deps:fr(r.deps),value:r.value,index:e.providers.length};e.providers.push(t),e.providersByKey[Kn(l)]=t}})}}(e=e.factory(()=>Wn)),e):e}(r))}const $i=new Map,Vi=new Map,Li=new Map;function Bi(e){let t;$i.set(e.token,e),"function"==typeof e.token&&(t=ge(e.token))&&"function"==typeof t.providedIn&&Vi.set(e.token,e)}function Ui(e,t){const n=mr(t.viewDefFactory),r=mr(n.nodes[0].element.componentView);Li.set(e,r)}function Hi(){$i.clear(),Vi.clear(),Li.clear()}function zi(e){if(0===$i.size)return e;const t=function(e){const t=[];let n=null;for(let r=0;r<e.nodes.length;r++){const l=e.nodes[r];1&l.flags&&(n=l),n&&3840&l.flags&&$i.has(l.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory(()=>Wn);for(let r=0;r<t.length;r++)n(e,t[r]);return e;function n(e,t){for(let n=t+1;n<e.nodes.length;n++){const t=e.nodes[n];if(1&t.flags)return;if(3840&t.flags){const e=t.provider,n=$i.get(e.token);n&&(t.flags=-3841&t.flags|n.flags,e.deps=fr(n.deps),e.value=n.value)}}}}function Xi(e,t,n,r,l,s,i,o,u,a,c,d,h){const f=e.def.nodes[t];return wi(e,f,n,r,l,s,i,o,u,a,c,d,h),224&f.flags?Hn(e,t).value:void 0}function Wi(e,t,n,r,l,s,i,o,u,a,c,d,h){const f=e.def.nodes[t];return Si(e,f,n,r,l,s,i,o,u,a,c,d,h),224&f.flags?Hn(e,t).value:void 0}function Gi(e){return ho(Qi.detectChanges,_i,null,[e])}function Ki(e){return ho(Qi.checkNoChanges,bi,null,[e])}function Zi(e){return ho(Qi.destroy,ki,null,[e])}const Qi=function(){var e={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return e[e.create]="create",e[e.detectChanges]="detectChanges",e[e.checkNoChanges]="checkNoChanges",e[e.destroy]="destroy",e[e.handleEvent]="handleEvent",e}();let Ji,Yi,eo;function to(e,t){Yi=e,eo=t}function no(e,t,n,r){return to(e,t),ho(Qi.handleEvent,e.def.handleEvent,null,[e,t,n,r])}function ro(e,t){if(128&e.state)throw jn(Qi[Ji]);return to(e,oo(e,0)),e.def.updateDirectives(function(e,n,r,...l){const s=e.def.nodes[n];return 0===t?so(e,s,r,l):io(e,s,r,l),16384&s.flags&&to(e,oo(e,n)),224&s.flags?Hn(e,s.nodeIndex).value:void 0},e)}function lo(e,t){if(128&e.state)throw jn(Qi[Ji]);return to(e,uo(e,0)),e.def.updateRenderer(function(e,n,r,...l){const s=e.def.nodes[n];return 0===t?so(e,s,r,l):io(e,s,r,l),3&s.flags&&to(e,uo(e,n)),224&s.flags?Hn(e,s.nodeIndex).value:void 0},e)}function so(e,t,n,r){if(wi(e,t,n,...r)){const i=1===n?r[0]:r;if(16384&t.flags){const n={};for(let e=0;e<t.bindings.length;e++){const r=t.bindings[e],o=i[e];8&r.flags&&(n[(l=r.nonMinifiedName,s=void 0,s=l.replace(/[$@]/g,"_"),`ng-reflect-${l=s.replace(Nt,(...e)=>"-"+e[1].toLowerCase())}`)]=Rt(o))}const r=t.parent,o=Bn(e,r.nodeIndex).renderElement;if(r.element.name)for(let t in n){const r=n[t];null!=r?e.renderer.setAttribute(o,t,r):e.renderer.removeAttribute(o,t)}else e.renderer.setValue(o,`bindings=${JSON.stringify(n,null,2)}`)}}var l,s}function io(e,t,n,r){Si(e,t,n,...r)}function oo(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(16384&t.flags&&t.bindings&&t.bindings.length)return n}return null}function uo(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(3&t.flags&&t.bindings&&t.bindings.length)return n}return null}class ao{constructor(e,t){this.view=e,this.nodeIndex=t,null==t&&(this.nodeIndex=t=0),this.nodeDef=e.def.nodes[t];let n=this.nodeDef,r=e;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=or(r),r=r.parent;this.elDef=n,this.elView=r}get elOrCompView(){return Bn(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return Kr(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const e=[];if(this.elDef)for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e}get references(){const e={};if(this.elDef){co(this.elView,this.elDef,e);for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&co(this.elView,n,e),t+=n.childCount}}return e}get componentRenderElement(){const e=function(e){for(;e&&!ar(e);)e=e.parent;return e.parent?Bn(e.parent,or(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?ur(this.view,this.nodeDef):ur(this.elView,this.elDef)}logError(e,...t){let n,r;2&this.nodeDef.flags?(n=this.view.def,r=this.nodeDef.nodeIndex):(n=this.elView.def,r=this.elDef.nodeIndex);const l=function(e,t){let n=-1;for(let r=0;r<=t;r++)3&e.nodes[r].flags&&n++;return n}(n,r);let s=-1;n.factory(()=>++s===l?e.error.bind(e,...t):Wn),s<l&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error(...t))}}function co(e,t,n){for(let r in t.references)n[r]=ti(e,t,t.references[r])}function ho(e,t,n,r){const l=Ji,s=Yi,i=eo;try{Ji=e;const u=t.apply(n,r);return Yi=s,eo=i,Ji=l,u}catch(o){if(Tt(o)||!Yi)throw o;throw function(e,t){return e instanceof Error||(e=new Error(e.toString())),Rn(e,t),e}(o,fo())}}function fo(){return Yi?new ao(Yi,eo):null}class po{constructor(e){this.delegate=e}createRenderer(e,t){return new go(this.delegate.createRenderer(e,t))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class go{constructor(e){this.delegate=e,this.debugContextFactory=fo,this.data=this.delegate.data}createDebugContext(e){return this.debugContextFactory(e)}destroyNode(e){!function(e){Ns.delete(e.nativeNode)}(Rs(e)),this.delegate.destroyNode&&this.delegate.destroyNode(e)}destroy(){this.delegate.destroy()}createElement(e,t){const n=this.delegate.createElement(e,t),r=this.createDebugContext(n);if(r){const t=new qs(n,null,r);t.name=e,js(t)}return n}createComment(e){const t=this.delegate.createComment(e),n=this.createDebugContext(t);return n&&js(new Ps(t,null,n)),t}createText(e){const t=this.delegate.createText(e),n=this.createDebugContext(t);return n&&js(new Ps(t,null,n)),t}appendChild(e,t){const n=Rs(e),r=Rs(t);n&&r&&n instanceof qs&&n.addChild(r),this.delegate.appendChild(e,t)}insertBefore(e,t,n){const r=Rs(e),l=Rs(t),s=Rs(n);r&&l&&r instanceof qs&&r.insertBefore(s,l),this.delegate.insertBefore(e,t,n)}removeChild(e,t){const n=Rs(e),r=Rs(t);n&&r&&n instanceof qs&&n.removeChild(r),this.delegate.removeChild(e,t)}selectRootElement(e,t){const n=this.delegate.selectRootElement(e,t),r=fo();return r&&js(new qs(n,null,r)),n}setAttribute(e,t,n,r){const l=Rs(e);l&&l instanceof qs&&(l.attributes[r?r+":"+t:t]=n),this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){const r=Rs(e);r&&r instanceof qs&&(r.attributes[n?n+":"+t:t]=null),this.delegate.removeAttribute(e,t,n)}addClass(e,t){const n=Rs(e);n&&n instanceof qs&&(n.classes[t]=!0),this.delegate.addClass(e,t)}removeClass(e,t){const n=Rs(e);n&&n instanceof qs&&(n.classes[t]=!1),this.delegate.removeClass(e,t)}setStyle(e,t,n,r){const l=Rs(e);l&&l instanceof qs&&(l.styles[t]=n),this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){const r=Rs(e);r&&r instanceof qs&&(r.styles[t]=null),this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){const r=Rs(e);r&&r instanceof qs&&(r.properties[t]=n),this.delegate.setProperty(e,t,n)}listen(e,t,n){if("string"!=typeof e){const r=Rs(e);r&&r.listeners.push(new As(t,n))}return this.delegate.listen(e,t,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setValue(e,t){return this.delegate.setValue(e,t)}}function mo(e,t,n){return new vo(e,t,n)}class vo extends rn{constructor(e,t,n){super(),this.moduleType=e,this._bootstrapComponents=t,this._ngModuleDefFactory=n}create(e){!function(){if(Ti)return;Ti=!0;const e=it()?{setCurrentNode:to,createRootView:Pi,createEmbeddedView:Ni,createComponentView:Ri,createNgModuleRef:ji,overrideProvider:Bi,overrideComponentView:Ui,clearOverrides:Hi,checkAndUpdateView:Gi,checkNoChangesView:Ki,destroyView:Zi,createDebugContext:(e,t)=>new ao(e,t),handleEvent:no,updateDirectives:ro,updateRenderer:lo}:{setCurrentNode:()=>{},createRootView:Ai,createEmbeddedView:fi,createComponentView:gi,createNgModuleRef:el,overrideProvider:Wn,overrideComponentView:Wn,clearOverrides:Wn,checkAndUpdateView:_i,checkNoChangesView:bi,destroyView:ki,createDebugContext:(e,t)=>new ao(e,t),handleEvent:(e,t,n,r)=>e.def.handleEvent(e,t,n,r),updateDirectives:(e,t)=>e.def.updateDirectives(0===t?Xi:Wi,e),updateRenderer:(e,t)=>e.def.updateRenderer(0===t?Xi:Wi,e)};Xn.setCurrentNode=e.setCurrentNode,Xn.createRootView=e.createRootView,Xn.createEmbeddedView=e.createEmbeddedView,Xn.createComponentView=e.createComponentView,Xn.createNgModuleRef=e.createNgModuleRef,Xn.overrideProvider=e.overrideProvider,Xn.overrideComponentView=e.overrideComponentView,Xn.clearOverrides=e.clearOverrides,Xn.checkAndUpdateView=e.checkAndUpdateView,Xn.checkNoChangesView=e.checkNoChangesView,Xn.destroyView=e.destroyView,Xn.resolveDep=_l,Xn.createDebugContext=e.createDebugContext,Xn.handleEvent=e.handleEvent,Xn.updateDirectives=e.updateDirectives,Xn.updateRenderer=e.updateRenderer,Xn.dirtyParentQueries=Js}();const t=function(e){const t=Array.from(e.providers),n=Array.from(e.modules),r={};for(const l in e.providersByKey)r[l]=e.providersByKey[l];return{factory:e.factory,isRoot:e.isRoot,providers:t,modules:n,providersByKey:r}}(mr(this._ngModuleDefFactory));return Xn.createNgModuleRef(this.moduleType,e||Ue.NULL,this._bootstrapComponents,t)}}class yo{}class bo{constructor(){this.title="BMDL Modeler"}}class _o{}const wo=new xe("Location Initialized");class Do{}const So=new xe("appBaseHref");let Co=(()=>{class e{constructor(t,n){this._subject=new Al,this._urlChangeListeners=[],this._platformStrategy=t;const r=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=e.stripTrailingSlash(ko(r)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,n=""){return this.path()==this.normalize(t+e.normalizeQueryParams(n))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,ko(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(t,n="",r=null){this._platformStrategy.pushState(r,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+e.normalizeQueryParams(n)),r)}replaceState(t,n="",r=null){this._platformStrategy.replaceState(r,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+e.normalizeQueryParams(n)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(e){this._urlChangeListeners.push(e),this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)})}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}static normalizeQueryParams(e){return e&&"?"!==e[0]?"?"+e:e}static joinWithSlash(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}static stripTrailingSlash(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}}return e})();function ko(e){return e.replace(/\/index.html$/,"")}let xo=(()=>(class extends Do{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",null!=t&&(this._baseHref=t)}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=Co.joinWithSlash(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,r){let l=this.prepareExternalUrl(n+Co.normalizeQueryParams(r));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(e,t,l)}replaceState(e,t,n,r){let l=this.prepareExternalUrl(n+Co.normalizeQueryParams(r));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}))(),Io=(()=>(class extends Do{constructor(e,t){if(super(),this._platformLocation=e,null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Co.joinWithSlash(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+Co.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,r){const l=this.prepareExternalUrl(n+Co.normalizeQueryParams(r));this._platformLocation.pushState(e,t,l)}replaceState(e,t,n,r){const l=this.prepareExternalUrl(n+Co.normalizeQueryParams(r));this._platformLocation.replaceState(e,t,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}))();const Mo=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),Eo=function(){var e={Format:0,Standalone:1};return e[e.Format]="Format",e[e.Standalone]="Standalone",e}(),Oo=function(){var e={Narrow:0,Abbreviated:1,Wide:2,Short:3};return e[e.Narrow]="Narrow",e[e.Abbreviated]="Abbreviated",e[e.Wide]="Wide",e[e.Short]="Short",e}(),Fo=function(){var e={Short:0,Medium:1,Long:2,Full:3};return e[e.Short]="Short",e[e.Medium]="Medium",e[e.Long]="Long",e[e.Full]="Full",e}(),To=function(){var e={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return e[e.Decimal]="Decimal",e[e.Group]="Group",e[e.List]="List",e[e.PercentSign]="PercentSign",e[e.PlusSign]="PlusSign",e[e.MinusSign]="MinusSign",e[e.Exponential]="Exponential",e[e.SuperscriptingExponent]="SuperscriptingExponent",e[e.PerMille]="PerMille",e[e.Infinity]="Infinity",e[e.NaN]="NaN",e[e.TimeSeparator]="TimeSeparator",e[e.CurrencyDecimal]="CurrencyDecimal",e[e.CurrencyGroup]="CurrencyGroup",e}();function Ao(e,t,n){const r=Fl(e),l=Vo([r[Ml.DaysFormat],r[Ml.DaysStandalone]],t);return Vo(l,n)}function Po(e,t,n){const r=Fl(e),l=Vo([r[Ml.MonthsFormat],r[Ml.MonthsStandalone]],t);return Vo(l,n)}function qo(e,t){return Vo(Fl(e)[Ml.DateFormat],t)}function No(e,t){return Vo(Fl(e)[Ml.TimeFormat],t)}function Ro(e,t){return Vo(Fl(e)[Ml.DateTimeFormat],t)}function jo(e,t){const n=Fl(e),r=n[Ml.NumberSymbols][t];if(void 0===r){if(t===To.CurrencyDecimal)return n[Ml.NumberSymbols][To.Decimal];if(t===To.CurrencyGroup)return n[Ml.NumberSymbols][To.Group]}return r}function $o(e){if(!e[Ml.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[Ml.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Vo(e,t){for(let n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function Lo(e){const[t,n]=e.split(":");return{hours:+t,minutes:+n}}const Bo=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Uo={},Ho=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,zo=function(){var e={Short:0,ShortGMT:1,Long:2,Extended:3};return e[e.Short]="Short",e[e.ShortGMT]="ShortGMT",e[e.Long]="Long",e[e.Extended]="Extended",e}(),Xo=function(){var e={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return e[e.FullYear]="FullYear",e[e.Month]="Month",e[e.Date]="Date",e[e.Hours]="Hours",e[e.Minutes]="Minutes",e[e.Seconds]="Seconds",e[e.FractionalSeconds]="FractionalSeconds",e[e.Day]="Day",e}(),Wo=function(){var e={DayPeriods:0,Days:1,Months:2,Eras:3};return e[e.DayPeriods]="DayPeriods",e[e.Days]="Days",e[e.Months]="Months",e[e.Eras]="Eras",e}();function Go(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(e,n){return null!=t&&n in t?t[n]:e})),e}function Ko(e,t,n="-",r,l){let s="";(e<0||l&&e<=0)&&(l?e=1-e:(e=-e,s=n));let i=String(e);for(;i.length<t;)i="0"+i;return r&&(i=i.substr(i.length-t)),s+i}function Zo(e,t,n=0,r=!1,l=!1){return function(s,i){let o=function(e,t){switch(e){case Xo.FullYear:return t.getFullYear();case Xo.Month:return t.getMonth();case Xo.Date:return t.getDate();case Xo.Hours:return t.getHours();case Xo.Minutes:return t.getMinutes();case Xo.Seconds:return t.getSeconds();case Xo.FractionalSeconds:return t.getMilliseconds();case Xo.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,s);if((n>0||o>-n)&&(o+=n),e===Xo.Hours)0===o&&-12===n&&(o=12);else if(e===Xo.FractionalSeconds)return u=t,Ko(o,3).substr(0,u);var u;const a=jo(i,To.MinusSign);return Ko(o,t,a,r,l)}}function Qo(e,t,n=Eo.Format,r=!1){return function(l,s){return function(e,t,n,r,l,s){switch(n){case Wo.Months:return Po(t,l,r)[e.getMonth()];case Wo.Days:return Ao(t,l,r)[e.getDay()];case Wo.DayPeriods:const i=e.getHours(),o=e.getMinutes();if(s){const e=function(e){const t=Fl(e);return $o(t),(t[Ml.ExtraData][2]||[]).map(e=>"string"==typeof e?Lo(e):[Lo(e[0]),Lo(e[1])])}(t),n=function(e,t,n){const r=Fl(e);$o(r);const l=Vo([r[Ml.ExtraData][0],r[Ml.ExtraData][1]],t)||[];return Vo(l,n)||[]}(t,l,r);let s;if(e.forEach((e,t)=>{if(Array.isArray(e)){const{hours:r,minutes:l}=e[0],{hours:u,minutes:a}=e[1];i>=r&&o>=l&&(i<u||i===u&&o<a)&&(s=n[t])}else{const{hours:r,minutes:l}=e;r===i&&l===o&&(s=n[t])}}),s)return s}return function(e,t,n){const r=Fl(e),l=Vo([r[Ml.DayPeriodsFormat],r[Ml.DayPeriodsStandalone]],t);return Vo(l,n)}(t,l,r)[i<12?0:1];case Wo.Eras:return function(e,t){return Vo(Fl(e)[Ml.Eras],t)}(t,r)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(l,s,e,t,n,r)}}function Jo(e){return function(t,n,r){const l=-1*r,s=jo(n,To.MinusSign),i=l>0?Math.floor(l/60):Math.ceil(l/60);switch(e){case zo.Short:return(l>=0?"+":"")+Ko(i,2,s)+Ko(Math.abs(l%60),2,s);case zo.ShortGMT:return"GMT"+(l>=0?"+":"")+Ko(i,1,s);case zo.Long:return"GMT"+(l>=0?"+":"")+Ko(i,2,s)+":"+Ko(Math.abs(l%60),2,s);case zo.Extended:return 0===r?"Z":(l>=0?"+":"")+Ko(i,2,s)+":"+Ko(Math.abs(l%60),2,s);default:throw new Error(`Unknown zone width "${e}"`)}}}const Yo=0,eu=4;function tu(e,t=!1){return function(n,r){let l;if(t){const e=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,t=n.getDate();l=1+Math.floor((t+e)/7)}else{const e=function(e){const t=new Date(e,Yo,1).getDay();return new Date(e,0,1+(t<=eu?eu:eu+7)-t)}(n.getFullYear()),t=(s=n,new Date(s.getFullYear(),s.getMonth(),s.getDate()+(eu-s.getDay()))).getTime()-e.getTime();l=1+Math.round(t/6048e5)}var s;return Ko(l,e,jo(r,To.MinusSign))}}const nu={};function ru(e,t){e=e.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function lu(e){return e instanceof Date&&!isNaN(e.valueOf())}const su=new xe("UseV4Plurals");class iu{}let ou=(()=>(class extends iu{constructor(e,t){super(),this.locale=e,this.deprecatedPluralFn=t}getPluralCategory(e,t){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(t||this.locale,e):function(e){return Fl(e)[Ml.PluralCase]}(t||this.locale)(e)){case Mo.Zero:return"zero";case Mo.One:return"one";case Mo.Two:return"two";case Mo.Few:return"few";case Mo.Many:return"many";default:return"other"}}}))();class uu{}let au=(()=>(class{constructor(e,t,n,r){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=r,this._initialClasses=[]}getValue(){return null}setClass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}setNgClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Ut(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}applyChanges(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${ve(e.item)}`);this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}))(),cu=(()=>{class e{constructor(e){this._delegate=e}getValue(){return this._delegate.getValue()}}return e.ngDirectiveDef=void 0,e})(),du=(()=>(class extends cu{constructor(e){super(e)}set klass(e){this._delegate.setClass(e)}set ngClass(e){this._delegate.setNgClass(e)}ngDoCheck(){this._delegate.applyChanges()}}))();class hu{constructor(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let fu=(()=>(class{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){it()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(e)}. `+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${n}' of type '${e=n,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,r)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new hu(null,this._ngForOf,-1,-1),r),l=new pu(e,n);t.push(l)}else if(null==r)this._viewContainer.remove(n);else{const l=this._viewContainer.get(n);this._viewContainer.move(l,r);const s=new pu(e,l);t.push(s)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=r,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}))();class pu{constructor(e,t){this.record=e,this.view=t}}let gu=(()=>(class{constructor(e,t){this._viewContainer=e,this._context=new mu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){vu("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){vu("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}))();class mu{constructor(){this.$implicit=null,this.ngIf=null}}function vu(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${ve(t)}'.`)}let yu=(()=>(class{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){this._shouldRecreateView(e)?(this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))):this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(e){const t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}_hasContextShapeChanged(e){const t=Object.keys(e.previousValue||{}),n=Object.keys(e.currentValue||{});if(t.length===n.length){for(let e of n)if(-1===t.indexOf(e))return!0;return!1}return!0}_updateExistingContext(e){for(let t of Object.keys(e))this._viewRef.context[t]=this.ngTemplateOutletContext[t]}}))(),bu=(()=>(class{}))();const _u=new xe("DocumentToken");let wu=(()=>{class e{}return e.ngInjectableDef=pe({token:e,providedIn:"root",factory:()=>new Du(je(_u),window,je(qt))}),e})();class Du{constructor(e,t,n){this.document=e,this.window=t,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const n=this.document.querySelector(`#${e}`);if(n)return void this.scrollToElement(n);const r=this.document.querySelector(`[name='${e}']`);if(r)return void this.scrollToElement(r)}catch(t){this.errorHandler.handleError(t)}}}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(n-l[0],r-l[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}const Su=new w(e=>e.complete());function Cu(e){return e?function(e){return new w(t=>e.schedule(()=>t.complete()))}(e):Su}function ku(e){const t=new w(t=>{t.next(e),t.complete()});return t._isScalar=!0,t.value=e,t}function xu(...e){let t=e[e.length-1];switch(E(t)?e.pop():t=void 0,e.length){case 0:return Cu(t);case 1:return t?z(e,t):ku(e[0]);default:return z(e,t)}}class Iu extends I{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new C;return this._value}next(e){super.next(this._value=e)}}function Mu(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}Mu.prototype=Object.create(Error.prototype);const Eu=Mu,Ou={};function Fu(...e){let t=null,n=null;return E(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&u(e[0])&&(e=e[0]),z(e,n).lift(new Tu(t))}class Tu{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new Au(e,this.resultSelector))}}class Au extends L{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(Ou),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++){const t=e[n];this.add(V(this,t,t,n))}}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n,r,l){const s=this.values,i=this.toRespond?s[n]===Ou?--this.toRespond:this.toRespond:0;s[n]=t,0===i&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function Pu(e){return new w(t=>{let n;try{n=e()}catch(r){return void t.error(r)}return(n?X(n):Cu()).subscribe(t)})}function qu(){return Q(1)}function Nu(e,t){return function(n){return n.lift(new Ru(e,t))}}class Ru{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new ju(e,this.predicate,this.thisArg))}}class ju extends g{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}function $u(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}$u.prototype=Object.create(Error.prototype);const Vu=$u;function Lu(e){return function(t){return 0===e?Cu():t.lift(new Bu(e))}}class Bu{constructor(e){if(this.total=e,this.total<0)throw new Vu}call(e,t){return t.subscribe(new Uu(e,this.total))}}class Uu extends g{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let l=0;l<n;l++){const l=t++%n;e.next(r[l])}}e.complete()}}function Hu(e,t,n){return function(r){return r.lift(new zu(e,t,n))}}class zu{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new Xu(e,this.nextOrObserver,this.error,this.complete))}}class Xu extends g{constructor(e,t,n,l){super(e),this._tapNext=y,this._tapError=y,this._tapComplete=y,this._tapError=n||y,this._tapComplete=l||y,r(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||y,this._tapError=t.error||y,this._tapComplete=t.complete||y)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}const Wu=(e=function(){return new Eu})=>Hu({hasValue:!1,next(){this.hasValue=!0},complete(){if(!this.hasValue)throw e()}});function Gu(e=null){return t=>t.lift(new Ku(e))}class Ku{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new Zu(e,this.defaultValue))}}class Zu extends g{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Qu(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Nu((t,n)=>e(t,n,r)):Z,Lu(1),n?Gu(t):Wu(()=>new Eu))}function Ju(e){return function(t){const n=new Yu(e),r=t.lift(n);return n.caught=r}}class Yu{constructor(e){this.selector=e}call(e,t){return t.subscribe(new ea(e,this.selector,this.caught))}}class ea extends L{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const r=new O(this,void 0,void 0);this.add(r),V(this,n,void 0,void 0,r)}}}function ta(e){return t=>0===e?Cu():t.lift(new na(e))}class na{constructor(e){if(this.total=e,this.total<0)throw new Vu}call(e,t){return t.subscribe(new ra(e,this.total))}}class ra extends g{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function la(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Nu((t,n)=>e(t,n,r)):Z,ta(1),n?Gu(t):Wu(()=>new Eu))}class sa{constructor(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}call(e,t){return t.subscribe(new ia(e,this.predicate,this.thisArg,this.source))}}class ia extends g{constructor(e,t,n,r){super(e),this.predicate=t,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(e){this.destination.next(e),this.destination.complete()}_next(e){let t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function oa(e,t){return"function"==typeof t?n=>n.pipe(oa((n,r)=>X(e(n,r)).pipe(B((e,l)=>t(n,e,r,l))))):t=>t.lift(new ua(e))}class ua{constructor(e){this.project=e}call(e,t){return t.subscribe(new aa(e,this.project))}}class aa extends L{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)}_innerSub(e,t,n){const r=this.innerSubscription;r&&r.unsubscribe();const l=new O(this,void 0,void 0);this.destination.add(l),this.innerSubscription=V(this,e,t,n,l)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(e,t,n,r,l){this.destination.next(t)}}function ca(...e){return t=>{let n=e[e.length-1];E(n)?e.pop():n=null;const r=e.length;return function(...e){return qu()(xu(...e))}(1!==r||n?r>0?z(e,n):Cu(n):ku(e[0]),t)}}function da(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new ha(e,t,n))}}class ha{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new fa(e,this.accumulator,this.seed,this.hasSeed))}}class fa extends g{constructor(e,t,n,r){super(e),this.accumulator=t,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function pa(e,t){return W(e,t,1)}class ga{constructor(e){this.callback=e}call(e,t){return t.subscribe(new ma(e,this.callback))}}class ma extends g{constructor(e,t){super(e),this.add(new h(t))}}let va=null;function ya(){return va}class ba{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(e){this._attrToPropMap=e}}class _a extends ba{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const t=this.createElement("div",document);if(null!=this.getStyle(t,"animationName"))this._animationPrefix="";else{const e=["Webkit","Moz","O","ms"];for(let n=0;n<e.length;n++)if(null!=this.getStyle(t,e[n]+"AnimationName")){this._animationPrefix="-"+e[n].toLowerCase()+"-";break}}const n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(n).forEach(e=>{null!=this.getStyle(t,e)&&(this._transitionEnd=n[e])})}catch(e){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(e){return e.getDistributedNodes()}resolveAndSetHref(e,t,n){e.href=null==n?t:t+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}const wa={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Da=3,Sa={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ca={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ka=(()=>{if(ke.Node)return ke.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))}})();class xa extends _a{parse(e){throw new Error("parse not implemented")}static makeCurrent(){var e;e=new xa,va||(va=e)}hasProperty(e,t){return t in e}setProperty(e,t,n){e[t]=n}getProperty(e,t){return e[t]}invoke(e,t,n){e[t](...n)}logError(e){window.console&&(console.error?console.error(e):console.log(e))}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return wa}contains(e,t){return ka.call(e,t)}querySelector(e,t){return e.querySelector(t)}querySelectorAll(e,t){return e.querySelectorAll(t)}on(e,t,n){e.addEventListener(t,n,!1)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}createMouseEvent(e){const t=this.getDefaultDocument().createEvent("MouseEvent");return t.initEvent(e,!0,!0),t}createEvent(e){const t=this.getDefaultDocument().createEvent("Event");return t.initEvent(e,!0,!0),t}preventDefault(e){e.preventDefault(),e.returnValue=!1}isPrevented(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue}getInnerHTML(e){return e.innerHTML}getTemplateContent(e){return"content"in e&&this.isTemplateElement(e)?e.content:null}getOuterHTML(e){return e.outerHTML}nodeName(e){return e.nodeName}nodeValue(e){return e.nodeValue}type(e){return e.type}content(e){return this.hasProperty(e,"content")?e.content:e}firstChild(e){return e.firstChild}nextSibling(e){return e.nextSibling}parentElement(e){return e.parentNode}childNodes(e){return e.childNodes}childNodesAsList(e){const t=e.childNodes,n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=t[r];return n}clearNodes(e){for(;e.firstChild;)e.removeChild(e.firstChild)}appendChild(e,t){e.appendChild(t)}removeChild(e,t){e.removeChild(t)}replaceChild(e,t,n){e.replaceChild(t,n)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}insertBefore(e,t,n){e.insertBefore(n,t)}insertAllBefore(e,t,n){n.forEach(n=>e.insertBefore(n,t))}insertAfter(e,t,n){e.insertBefore(n,t.nextSibling)}setInnerHTML(e,t){e.innerHTML=t}getText(e){return e.textContent}setText(e,t){e.textContent=t}getValue(e){return e.value}setValue(e,t){e.value=t}getChecked(e){return e.checked}setChecked(e,t){e.checked=t}createComment(e){return this.getDefaultDocument().createComment(e)}createTemplate(e){const t=this.getDefaultDocument().createElement("template");return t.innerHTML=e,t}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createElementNS(e,t,n){return(n=n||this.getDefaultDocument()).createElementNS(e,t)}createTextNode(e,t){return(t=t||this.getDefaultDocument()).createTextNode(e)}createScriptTag(e,t,n){const r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(e,t),r}createStyleElement(e,t){const n=(t=t||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(e,t)),n}createShadowRoot(e){return e.createShadowRoot()}getShadowRoot(e){return e.shadowRoot}getHost(e){return e.host}clone(e){return e.cloneNode(!0)}getElementsByClassName(e,t){return e.getElementsByClassName(t)}getElementsByTagName(e,t){return e.getElementsByTagName(t)}classList(e){return Array.prototype.slice.call(e.classList,0)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}hasClass(e,t){return e.classList.contains(t)}setStyle(e,t,n){e.style[t]=n}removeStyle(e,t){e.style[t]=""}getStyle(e,t){return e.style[t]}hasStyle(e,t,n){const r=this.getStyle(e,t)||"";return n?r==n:r.length>0}tagName(e){return e.tagName}attributeMap(e){const t=new Map,n=e.attributes;for(let r=0;r<n.length;r++){const e=n.item(r);t.set(e.name,e.value)}return t}hasAttribute(e,t){return e.hasAttribute(t)}hasAttributeNS(e,t,n){return e.hasAttributeNS(t,n)}getAttribute(e,t){return e.getAttribute(t)}getAttributeNS(e,t,n){return e.getAttributeNS(t,n)}setAttribute(e,t,n){e.setAttribute(t,n)}setAttributeNS(e,t,n,r){e.setAttributeNS(t,n,r)}removeAttribute(e,t){e.removeAttribute(t)}removeAttributeNS(e,t,n){e.removeAttributeNS(t,n)}templateAwareRoot(e){return this.isTemplateElement(e)?this.content(e):e}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(e){try{return e.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(e){return e.title}setTitle(e,t){e.title=t||""}elementMatches(e,t){return!!this.isElementNode(e)&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))}isTemplateElement(e){return this.isElementNode(e)&&"TEMPLATE"===e.nodeName}isTextNode(e){return e.nodeType===Node.TEXT_NODE}isCommentNode(e){return e.nodeType===Node.COMMENT_NODE}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}hasShadowRoot(e){return null!=e.shadowRoot&&e instanceof HTMLElement}isShadowRoot(e){return e instanceof DocumentFragment}importIntoDoc(e){return document.importNode(this.templateAwareRoot(e),!0)}adoptNode(e){return document.adoptNode(e)}getHref(e){return e.getAttribute("href")}getEventKey(e){let t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),e.location===Da&&Ca.hasOwnProperty(t)&&(t=Ca[t]))}return Sa[t]||t}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=Ma||(Ma=document.querySelector("base"))?Ma.getAttribute("href"):null;return null==t?null:(n=t,Ia||(Ia=document.createElement("a")),Ia.setAttribute("href",n),"/"===Ia.pathname.charAt(0)?Ia.pathname:"/"+Ia.pathname);var n}resetBaseElement(){Ma=null}getUserAgent(){return window.navigator.userAgent}setData(e,t,n){this.setAttribute(e,"data-"+t,n)}getData(e,t){return this.getAttribute(e,"data-"+t)}getComputedStyle(e){return getComputedStyle(e)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return function(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[r,l]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(r.trim()===t)return decodeURIComponent(l)}return null}(document.cookie,e)}setCookie(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)}}let Ia,Ma=null;function Ea(){return!!window.history.pushState}let Oa=(()=>{class e extends _o{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=ya().getLocation(),this._history=ya().getHistory()}getBaseHrefFromDOM(){return ya().getBaseHref(this._doc)}onPopState(e){ya().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}onHashChange(e){ya().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){Ea()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){Ea()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return e.ctorParameters=()=>[{type:void 0,decorators:[{type:ue,args:[_u]}]}],e})();const Fa=new xe("TRANSITION_ID"),Ta=[{provide:Nl,useFactory:function(e,t,n){return()=>{n.get(Rl).donePromise.then(()=>{const n=ya();Array.prototype.slice.apply(n.querySelectorAll(t,"style[ng-transition]")).filter(t=>n.getAttribute(t,"ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[Fa,_u,Ue],multi:!0}];class Aa{static init(){var e;e=new Aa,ys=e}addToWindow(e){ke.getAngularTestability=(t,n=!0)=>{const r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},ke.getAllAngularTestabilities=()=>e.getAllTestabilities(),ke.getAllAngularRootElements=()=>e.getAllRootElements(),ke.frameworkStabilizers||(ke.frameworkStabilizers=[]),ke.frameworkStabilizers.push(e=>{const t=ke.getAllAngularTestabilities();let n=t.length,r=!1;const l=function(t){r=r||t,0==--n&&e(r)};t.forEach(function(e){e.whenStable(l)})})}findTestabilityInTree(e,t,n){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:n?ya().isShadowRoot(t)?this.findTestabilityInTree(e,ya().getHost(t),!0):this.findTestabilityInTree(e,ya().parentElement(t),!0):null}}function Pa(e,t){"undefined"!=typeof COMPILED&&COMPILED||((ke.ng=ke.ng||{})[e]=t)}const qa=(()=>({ApplicationRef:xs,NgZone:os}))();function Na(e){return Rs(e)}const Ra=new xe("EventManagerPlugins");let ja=(()=>(class{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let r=0;r<n.length;r++){const t=n[r];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}))();class $a{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const r=ya().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,n)}}let Va=(()=>(class{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}))(),La=(()=>(class extends Va{constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,t){e.forEach(e=>{const n=this._doc.createElement("style");n.textContent=e,this._styleNodes.add(t.appendChild(n))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(t=>this._addStylesToHost(e,t))}ngOnDestroy(){this._styleNodes.forEach(e=>ya().remove(e))}}))();const Ba={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ua=/%COMP%/g,Ha="_nghost-%COMP%",za="_ngcontent-%COMP%";function Xa(e,t,n){for(let r=0;r<t.length;r++){let l=t[r];Array.isArray(l)?Xa(e,l,n):(l=l.replace(Ua,e),n.push(l))}return n}function Wa(e){return t=>{!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let Ga=(()=>(class{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Ka(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case nt.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new Ja(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case nt.Native:case nt.ShadowDom:return new Ya(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=Xa(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}))();class Ka{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Ba[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const l=Ba[r];l?e.setAttributeNS(l,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=Ba[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,r){r&cn.DashCase?e.style.setProperty(t,n,r&cn.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&cn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){Qa(t,"property"),e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return Qa(t,"listener"),"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Wa(n)):this.eventManager.addEventListener(e,t,Wa(n))}}const Za=(()=>"@".charCodeAt(0))();function Qa(e,t){if(e.charCodeAt(0)===Za)throw new Error(`Found the synthetic ${t} ${e}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class Ja extends Ka{constructor(e,t,n,r){super(e),this.component=n;const l=Xa(r+"-"+n.id,n.styles,[]);t.addStyles(l),this.contentAttr=za.replace(Ua,r+"-"+n.id),this.hostAttr=Ha.replace(Ua,r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class Ya extends Ka{constructor(e,t,n,r){super(e),this.sharedStylesHost=t,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===nt.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const l=Xa(r.id,r.styles,[]);for(let s=0;s<l.length;s++){const e=document.createElement("style");e.textContent=l[s],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}const ec=(()=>"undefined"!=typeof Zone&&Zone.__symbol__||function(e){return"__zone_symbol__"+e})(),tc=ec("addEventListener"),nc=ec("removeEventListener"),rc={},lc="__zone_symbol__propagationStopped",sc=(()=>{const e="undefined"!=typeof Zone&&Zone[ec("BLACK_LISTED_EVENTS")];if(e){const t={};return e.forEach(e=>{t[e]=e}),t}})(),ic=function(e){return!!sc&&sc.hasOwnProperty(e)},oc=function(e){const t=rc[e.type];if(!t)return;const n=this[t];if(!n)return;const r=[e];if(1===n.length){const e=n[0];return e.zone!==Zone.current?e.zone.run(e.handler,this,r):e.handler.apply(this,r)}{const t=n.slice();for(let n=0;n<t.length&&!0!==e[lc];n++){const e=t[n];e.zone!==Zone.current?e.zone.run(e.handler,this,r):e.handler.apply(this,r)}}};let uc=(()=>(class extends $a{constructor(e,t,n){super(e),this.ngZone=t,n&&function(e){return"server"===e}(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype.__zone_symbol__stopImmediatePropagation)return;const e=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[lc]=!0),e&&e.apply(this,arguments)}}supports(e){return!0}addEventListener(e,t,n){let r=n;if(!e[tc]||os.isInAngularZone()&&!ic(t))e.addEventListener(t,r,!1);else{let n=rc[t];n||(n=rc[t]=ec("ANGULAR"+t+"FALSE"));let l=e[n];const s=l&&l.length>0;l||(l=e[n]=[]);const i=ic(t)?Zone.root:Zone.current;if(0===l.length)l.push({zone:i,handler:r});else{let e=!1;for(let t=0;t<l.length;t++)if(l[t].handler===r){e=!0;break}e||l.push({zone:i,handler:r})}s||e[tc](t,oc,!1)}return()=>this.removeEventListener(e,t,r)}removeEventListener(e,t,n){let r=e[nc];if(!r)return e.removeEventListener.apply(e,[t,n,!1]);let l=rc[t],s=l&&e[l];if(!s)return e.removeEventListener.apply(e,[t,n,!1]);let i=!1;for(let o=0;o<s.length;o++)if(s[o].handler===n){i=!0,s.splice(o,1);break}i?0===s.length&&r.apply(e,[t,oc,!1]):e.removeEventListener.apply(e,[t,n,!1])}}))();const ac={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},cc=new xe("HammerGestureConfig"),dc=new xe("HammerLoader");let hc=(()=>(class{constructor(){this.events=[],this.overrides={}}buildHammer(e){const t=new Hammer(e,this.options);t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0});for(const n in this.overrides)t.get(n).set(this.overrides[n]);return t}}))(),fc=(()=>(class extends $a{constructor(e,t,n,r){super(e),this._config=t,this.console=n,this.loader=r}supports(e){return!(!ac.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${e}" event cannot be bound because Hammer.JS is not `+"loaded and no custom loader has been specified."),1))}addEventListener(e,t,n){const r=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){let r=!1,l=()=>{r=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(l=()=>{});r||(l=this.addEventListener(e,t,n))}).catch(()=>{this.console.warn(`The "${t}" event cannot be bound because the custom `+"Hammer.JS loader failed."),l=()=>{}}),()=>{l()}}return r.runOutsideAngular(()=>{const l=this._config.buildHammer(e),s=function(e){r.runGuarded(function(){n(e)})};return l.on(t,s),()=>{l.off(t,s),"function"==typeof l.destroy&&l.destroy()}})}isCustomEvent(e){return this._config.events.indexOf(e)>-1}}))();const pc=["alt","control","meta","shift"],gc={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let mc=(()=>{class e extends $a{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,r){const l=e.parseEventName(n),s=e.eventCallback(l.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ya().onAndCancel(t,l.domEventName,s))}static parseEventName(t){const n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const l=e._normalizeKey(n.pop());let s="";if(pc.forEach(e=>{const t=n.indexOf(e);t>-1&&(n.splice(t,1),s+=e+".")}),s+=l,0!=n.length||0===l.length)return null;const i={};return i.domEventName=r,i.fullKey=s,i}static getEventFullKey(e){let t="",n=ya().getEventKey(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),pc.forEach(r=>{r!=n&&(0,gc[r])(e)&&(t+=r+".")}),t+=n}static eventCallback(t,n,r){return l=>{e.getEventFullKey(l)===t&&r.runGuarded(()=>n(l))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e})();class vc{}let yc=(()=>(class extends vc{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case Mt.NONE:return t;case Mt.HTML:return t instanceof _c?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"HTML"),function(e,t){let n=null;try{xt=xt||new ot(e);let r=t?String(t):"";n=xt.getInertBodyElement(r);let l=5,s=r;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,r=s,s=n.innerHTML,n=xt.getInertBodyElement(r)}while(r!==s);const i=new Dt,o=i.sanitizeChildren(It(n)||n);return it()&&i.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),o}finally{if(n){const e=It(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}(this._doc,String(t)));case Mt.STYLE:return t instanceof wc?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"Style"),function(e){if(!(e=String(e).trim()))return"";const t=e.match(Ft);return t&&ct(t[1])===t[1]||e.match(Ot)&&function(e){let t=!0,n=!0;for(let r=0;r<e.length;r++){const l=e.charAt(r);"'"===l&&n?t=!t:'"'===l&&t&&(n=!n)}return t&&n}(e)?e:(it()&&console.warn(`WARNING: sanitizing unsafe style value ${e} (see http://g.co/ng/security#xss).`),"unsafe")}(t));case Mt.SCRIPT:if(t instanceof Dc)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"Script"),new Error("unsafe value used in a script context");case Mt.URL:return t instanceof Cc||t instanceof Sc?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"URL"),ct(String(t)));case Mt.RESOURCE_URL:if(t instanceof Cc)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(e,t){if(e instanceof bc)throw new Error(`Required a safe ${t}, got a ${e.getTypeName()} `+"(see http://g.co/ng/security#xss)")}bypassSecurityTrustHtml(e){return new _c(e)}bypassSecurityTrustStyle(e){return new wc(e)}bypassSecurityTrustScript(e){return new Dc(e)}bypassSecurityTrustUrl(e){return new Sc(e)}bypassSecurityTrustResourceUrl(e){return new Cc(e)}}))();class bc{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class _c extends bc{getTypeName(){return"HTML"}}class wc extends bc{getTypeName(){return"Style"}}class Dc extends bc{getTypeName(){return"Script"}}class Sc extends bc{getTypeName(){return"URL"}}class Cc extends bc{getTypeName(){return"ResourceURL"}}const kc=Ds($s,"browser",[{provide:Bl,useValue:"browser"},{provide:Ll,useValue:function(){xa.makeCurrent(),Aa.init()},multi:!0},{provide:_o,useClass:Oa,deps:[_u]},{provide:_u,useFactory:function(){return document},deps:[]}]);function xc(){return new qt}let Ic=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:jl,useValue:t.appId},{provide:Fa,useExisting:jl},Ta]}}}return e})();"undefined"!=typeof window&&window;class Mc{constructor(e,t){this.id=e,this.url=t}}class Ec extends Mc{constructor(e,t,n="imperative",r=null){super(e,t),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Oc extends Mc{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Fc extends Mc{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Tc extends Mc{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ac extends Mc{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pc extends Mc{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qc extends Mc{constructor(e,t,n,r,l){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Nc extends Mc{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rc extends Mc{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jc{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class $c{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Vc{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lc{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bc{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Uc{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hc{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let zc=(()=>(class{}))();const Xc="primary";class Wc{constructor(e){this.params=e||{}}has(e){return this.params.hasOwnProperty(e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Gc(e){return new Wc(e)}const Kc="ngNavigationCancelingError";function Zc(e){const t=Error("NavigationCancelingError: "+e);return t[Kc]=!0,t}function Qc(e,t,n){const r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const l={};for(let s=0;s<r.length;s++){const t=r[s],n=e[s];if(t.startsWith(":"))l[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,r.length),posParams:l}}class Jc{constructor(e,t){this.routes=e,this.module=t}}function Yc(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];ed(r,td(t,r))}}function ed(e,t){if(!e)throw new Error(`\n      Invalid configuration of route '${t}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(e))throw new Error(`Invalid configuration of route '${t}': Array cannot be specified`);if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&e.outlet!==Xc)throw new Error(`Invalid configuration of route '${t}': a componentless route without children or loadChildren cannot have a named outlet set`);if(e.redirectTo&&e.children)throw new Error(`Invalid configuration of route '${t}': redirectTo and children cannot be used together`);if(e.redirectTo&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': redirectTo and loadChildren cannot be used together`);if(e.children&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': children and loadChildren cannot be used together`);if(e.redirectTo&&e.component)throw new Error(`Invalid configuration of route '${t}': redirectTo and component cannot be used together`);if(e.path&&e.matcher)throw new Error(`Invalid configuration of route '${t}': path and matcher cannot be used together`);if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error(`Invalid configuration of route '${t}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===e.path&&void 0===e.matcher)throw new Error(`Invalid configuration of route '${t}': routes must have either a path or a matcher specified`);if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error(`Invalid configuration of route '${t}': path cannot start with a slash`);if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error(`Invalid configuration of route '{path: "${t}", redirectTo: "${e.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error(`Invalid configuration of route '${t}': pathMatch can only be set to 'prefix' or 'full'`);e.children&&Yc(e.children,t)}function td(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function nd(e){const t=e.children&&e.children.map(nd),n=t?Object.assign({},e,{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Xc&&(n.component=zc),n}function rd(e,t){const n=Object.keys(e),r=Object.keys(t);if(!n||!r||n.length!=r.length)return!1;let l;for(let s=0;s<n.length;s++)if(e[l=n[s]]!==t[l])return!1;return!0}function ld(e){return Array.prototype.concat.apply([],e)}function sd(e){return e.length>0?e[e.length-1]:null}function id(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function od(e){return Xt(e)?e:zt(e)?X(Promise.resolve(e)):xu(e)}function ud(e,t,n){return n?function(e,t){return rd(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!hd(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>t[n]===e[n])}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,r,l){if(n.segments.length>l.length){return!!hd(n.segments.slice(0,l.length),l)&&!r.hasChildren()}if(n.segments.length===l.length){if(!hd(n.segments,l))return!1;for(const t in r.children){if(!n.children[t])return!1;if(!e(n.children[t],r.children[t]))return!1}return!0}{const e=l.slice(0,n.segments.length),s=l.slice(n.segments.length);return!!hd(n.segments,e)&&!!n.children[Xc]&&t(n.children[Xc],r,s)}}(t,n,n.segments)}(e.root,t.root)}class ad{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gc(this.queryParams)),this._queryParamMap}toString(){return md.serialize(this)}}class cd{constructor(e,t){this.segments=e,this.children=t,this.parent=null,id(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vd(this)}}class dd{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Gc(this.parameters)),this._parameterMap}toString(){return Sd(this)}}function hd(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}function fd(e,t){let n=[];return id(e.children,(e,r)=>{r===Xc&&(n=n.concat(t(e,r)))}),id(e.children,(e,r)=>{r!==Xc&&(n=n.concat(t(e,r)))}),n}class pd{}class gd{parse(e){const t=new Md(e);return new ad(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var t;return`${`/${function e(t,n){if(!t.hasChildren())return vd(t);if(n){const n=t.children[Xc]?e(t.children[Xc],!1):"",r=[];return id(t.children,(t,n)=>{n!==Xc&&r.push(`${n}:${e(t,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=fd(t,(n,r)=>r===Xc?[e(t.children[Xc],!1)]:[`${r}:${e(n,!1)}`]);return`${vd(t)}/(${n.join("//")})`}}(e.root,!0)}`}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${bd(t)}=${bd(e)}`).join("&"):`${bd(t)}=${bd(n)}`});return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const md=new gd;function vd(e){return e.segments.map(e=>Sd(e)).join("/")}function yd(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bd(e){return yd(e).replace(/%3B/gi,";")}function _d(e){return yd(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wd(e){return decodeURIComponent(e)}function Dd(e){return wd(e.replace(/\+/g,"%20"))}function Sd(e){return`${_d(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${_d(e)}=${_d(t[e])}`).join("")}`;var t}const Cd=/^[^\/()?;=#]+/;function kd(e){const t=e.match(Cd);return t?t[0]:""}const xd=/^[^=?&#]+/,Id=/^[^?&#]+/;class Md{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new cd([],{}):new cd([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[Xc]=new cd(e,t)),n}parseSegment(){const e=kd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new dd(wd(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=kd(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=kd(this.remaining);e&&this.capture(n=e)}e[wd(t)]=wd(n)}parseQueryParam(e){const t=function(e){const t=e.match(xd);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(Id);return t?t[0]:""}(this.remaining);e&&this.capture(n=e)}const r=Dd(t),l=Dd(n);if(e.hasOwnProperty(r)){let t=e[r];Array.isArray(t)||(e[r]=t=[t]),t.push(l)}else e[r]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=kd(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let l=void 0;n.indexOf(":")>-1?(l=n.substr(0,n.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Xc);const s=this.parseChildren();t[l]=1===Object.keys(s).length?s[Xc]:new cd([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Ed{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Od(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=Od(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Fd(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return Fd(e,this._root).map(e=>e.value)}}function Od(e,t){if(e===t.value)return t;for(const n of t.children){const t=Od(e,n);if(t)return t}return null}function Fd(e,t){if(e===t.value)return[t];for(const n of t.children){const r=Fd(e,n);if(r.length)return r.unshift(t),r}return[]}class Td{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ad(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class Pd extends Ed{constructor(e,t){super(e),this.snapshot=t,Vd(this,e)}toString(){return this.snapshot.toString()}}function qd(e,t){const n=function(e,t){const n=new jd([],{},{},"",{},Xc,t,null,e.root,-1,{});return new $d("",new Td(n,[]))}(e,t),r=new Iu([new dd("",{})]),l=new Iu({}),s=new Iu({}),i=new Iu({}),o=new Iu(""),u=new Nd(r,l,i,o,s,Xc,t,n.root);return u.snapshot=n.root,new Pd(new Td(u,[]),n)}class Nd{constructor(e,t,n,r,l,s,i,o){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=l,this.outlet=s,this.component=i,this._futureSnapshot=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(B(e=>Gc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(B(e=>Gc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Rd(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const e=n[r],t=n[r-1];if(e.routeConfig&&""===e.routeConfig.path)r--;else{if(t.component)break;r--}}return function(e){return e.reduce((e,t)=>({params:Object.assign({},e.params,t.params),data:Object.assign({},e.data,t.data),resolve:Object.assign({},e.resolve,t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class jd{constructor(e,t,n,r,l,s,i,o,u,a,c){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=l,this.outlet=s,this.component=i,this.routeConfig=o,this._urlSegment=u,this._lastPathIndex=a,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Gc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $d extends Ed{constructor(e,t){super(t),this.url=e,Vd(this,t)}toString(){return Ld(this._root)}}function Vd(e,t){t.value._routerState=e,t.children.forEach(t=>Vd(e,t))}function Ld(e){const t=e.children.length>0?` { ${e.children.map(Ld).join(", ")} } `:"";return`${e.value}${t}`}function Bd(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,rd(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),rd(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!rd(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),rd(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Ud(e,t){var n,r;return rd(e.params,t.params)&&hd(n=e.url,r=t.url)&&n.every((e,t)=>rd(e.parameters,r[t].parameters))&&!(!e.parent!=!t.parent)&&(!e.parent||Ud(e.parent,t.parent))}function Hd(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function zd(e,t,n,r,l){let s={};return r&&id(r,(e,t)=>{s[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),new ad(n.root===e?t:function e(t,n,r){const l={};return id(t.children,(t,s)=>{l[s]=t===n?r:e(t,n,r)}),new cd(t.segments,l)}(n.root,e,t),s,l)}class Xd{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&Hd(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(e=>"object"==typeof e&&null!=e&&e.outlets);if(r&&r!==sd(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wd{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function Gd(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets[Xc]:`${e}`}function Kd(e,t,n){if(e||(e=new cd([],{})),0===e.segments.length&&e.hasChildren())return Zd(e,t,n);const r=function(e,t,n){let r=0,l=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;l<e.segments.length;){if(r>=n.length)return s;const t=e.segments[l],i=Gd(n[r]),o=r<n.length-1?n[r+1]:null;if(l>0&&void 0===i)break;if(i&&o&&"object"==typeof o&&void 0===o.outlets){if(!eh(i,o,t))return s;r+=2}else{if(!eh(i,{},t))return s;r++}l++}return{match:!0,pathIndex:l,commandIndex:r}}(e,t,n),l=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const t=new cd(e.segments.slice(0,r.pathIndex),{});return t.children[Xc]=new cd(e.segments.slice(r.pathIndex),e.children),Zd(t,0,l)}return r.match&&0===l.length?new cd(e.segments,{}):r.match&&!e.hasChildren()?Qd(e,t,n):r.match?Zd(e,0,l):Qd(e,t,n)}function Zd(e,t,n){if(0===n.length)return new cd(e.segments,{});{const r=function(e){return"object"!=typeof e[0]?{[Xc]:e}:void 0===e[0].outlets?{[Xc]:e}:e[0].outlets}(n),l={};return id(r,(n,r)=>{null!==n&&(l[r]=Kd(e.children[r],t,n))}),id(e.children,(e,t)=>{void 0===r[t]&&(l[t]=e)}),new cd(e.segments,l)}}function Qd(e,t,n){const r=e.segments.slice(0,t);let l=0;for(;l<n.length;){if("object"==typeof n[l]&&void 0!==n[l].outlets){const e=Jd(n[l].outlets);return new cd(r,e)}if(0===l&&Hd(n[0])){r.push(new dd(e.segments[t].path,n[0])),l++;continue}const s=Gd(n[l]),i=l<n.length-1?n[l+1]:null;s&&i&&Hd(i)?(r.push(new dd(s,Yd(i))),l+=2):(r.push(new dd(s,{})),l++)}return new cd(r,{})}function Jd(e){const t={};return id(e,(e,n)=>{null!==e&&(t[n]=Qd(new cd([],{}),0,e))}),t}function Yd(e){const t={};return id(e,(e,n)=>t[n]=`${e}`),t}function eh(e,t,n){return e==n.path&&rd(t,n.parameters)}const th=(e,t,n)=>B(r=>(new nh(t,r.targetRouterState,r.currentRouterState,n).activate(e),r));class nh{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Bd(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=Ad(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,r[t],n),delete r[t]}),id(r,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const r=e.value,l=t?t.value:null;if(r===l)if(r.component){const l=n.getContext(r.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,n);else l&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:r})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet);if(n){const r=Ad(e),l=e.value.component?n.children:t;id(r,(e,t)=>this.deactivateRouteAndItsChildren(e,l)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(e,t,n){const r=Ad(t);e.children.forEach(e=>{this.activateRoutes(e,r[e.value.outlet],n),this.forwardEvent(new Uc(e.value.snapshot))}),e.children.length&&this.forwardEvent(new Lc(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,l=t?t.value:null;if(Bd(r),r===l)if(r.component){const l=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const t=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const e=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),rh(e.route)}else{const n=function(e){for(let t=r.snapshot.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(),l=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=r,t.resolver=l,t.outlet&&t.outlet.activateWith(r,l),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function rh(e){Bd(e.value),e.children.forEach(rh)}function lh(e){return"function"==typeof e}function sh(e){return e instanceof ad}class ih{constructor(e){this.segmentGroup=e||null}}class oh{constructor(e){this.urlTree=e}}function uh(e){return new w(t=>t.error(new ih(e)))}function ah(e){return new w(t=>t.error(new oh(e)))}function ch(e){return new w(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class dh{constructor(e,t,n,r,l){this.configLoader=t,this.urlSerializer=n,this.urlTree=r,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(nn)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Xc).pipe(B(e=>this.createUrlTree(e,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ju(e=>{if(e instanceof oh)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof ih)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Xc).pipe(B(t=>this.createUrlTree(t,e.queryParams,e.fragment))).pipe(Ju(e=>{if(e instanceof ih)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=e.segments.length>0?new cd([],{[Xc]:e}):e;return new ad(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(B(e=>new cd([],e))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){return function(e,t){if(0===Object.keys(e).length)return xu({});const n=[],r=[],l={};return id(e,(e,s)=>{const i=t(s,e).pipe(B(e=>l[s]=e));s===Xc?n.push(i):r.push(i)}),xu.apply(null,n.concat(r)).pipe(qu(),Qu(),B(()=>l))}(n.children,(n,r)=>this.expandSegmentGroup(e,t,r,n))}expandSegment(e,t,n,r,l,s){return xu(...n).pipe(B(i=>this.expandSegmentAgainstRoute(e,t,n,i,r,l,s).pipe(Ju(e=>{if(e instanceof ih)return xu(null);throw e}))),qu(),la(e=>!!e),Ju((e,n)=>{if(e instanceof Eu||"EmptyError"===e.name){if(this.noLeftoversInUrl(t,r,l))return xu(new cd([],{}));throw new ih(t)}throw e}))}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}expandSegmentAgainstRoute(e,t,n,r,l,s,i){return gh(r)!==s?uh(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,l):i&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,l,s):uh(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,l,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,l,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const l=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?ah(l):this.lineralizeSegments(n,l).pipe(W(n=>{const l=new cd(n,{});return this.expandSegment(e,l,t,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,l,s){const{matched:i,consumedSegments:o,lastChild:u,positionalParamSegments:a}=hh(t,r,l);if(!i)return uh(t);const c=this.applyRedirectCommands(o,r.redirectTo,a);return r.redirectTo.startsWith("/")?ah(c):this.lineralizeSegments(r,c).pipe(W(r=>this.expandSegment(e,t,n,r.concat(l.slice(u)),s,!1)))}matchSegmentAgainstRoute(e,t,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(B(e=>(n._loadedConfig=e,new cd(r,{})))):xu(new cd(r,{}));const{matched:l,consumedSegments:s,lastChild:i}=hh(t,n,r);if(!l)return uh(t);const o=r.slice(i);return this.getChildConfig(e,n,r).pipe(W(e=>{const n=e.module,r=e.routes,{segmentGroup:l,slicedSegments:i}=function(e,t,n,r){return n.length>0&&function(e,t,n){return r.some(n=>ph(e,t,n)&&gh(n)!==Xc)}(e,n)?{segmentGroup:fh(new cd(t,function(e,t){const n={};n[Xc]=t;for(const r of e)""===r.path&&gh(r)!==Xc&&(n[gh(r)]=new cd([],{}));return n}(r,new cd(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return r.some(n=>ph(e,t,n))}(e,n)?{segmentGroup:fh(new cd(e.segments,function(e,t,n,r){const l={};for(const s of n)ph(e,t,s)&&!r[gh(s)]&&(l[gh(s)]=new cd([],{}));return Object.assign({},r,l)}(e,n,r,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,s,o,r);return 0===i.length&&l.hasChildren()?this.expandChildren(n,r,l).pipe(B(e=>new cd(s,e))):0===r.length&&0===i.length?xu(new cd(s,{})):this.expandSegment(n,l,r,i,Xc,!0).pipe(B(e=>new cd(s.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?xu(new Jc(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?xu(t._loadedConfig):function(e,t,n){const r=t.canLoad;return r&&0!==r.length?X(r).pipe(B(r=>{const l=e.get(r);let s;if(function(e){return e&&lh(e.canLoad)}(l))s=l.canLoad(t,n);else{if(!lh(l))throw new Error("Invalid CanLoad guard");s=l(t,n)}return od(s)})).pipe(qu(),(l=e=>!0===e,e=>e.lift(new sa(l,void 0,e)))):xu(!0);var l}(e.injector,t,n).pipe(W(n=>n?this.configLoader.load(e.injector,t).pipe(B(e=>(t._loadedConfig=e,e))):function(e){return new w(t=>t.error(Zc(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):xu(new Jc([],e))}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return xu(n);if(r.numberOfChildren>1||!r.children[Xc])return ch(e.redirectTo);r=r.children[Xc]}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,r){const l=this.createSegmentGroup(e,t.root,n,r);return new ad(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return id(e,(e,r)=>{if("string"==typeof e&&e.startsWith(":")){const l=e.substring(1);n[r]=t[l]}else n[r]=e}),n}createSegmentGroup(e,t,n,r){const l=this.createSegments(e,t.segments,n,r);let s={};return id(t.children,(t,l)=>{s[l]=this.createSegmentGroup(e,t,n,r)}),new cd(l,s)}createSegments(e,t,n,r){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,r):this.findOrReturn(t,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}function hh(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(t.matcher||Qc)(n,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function fh(e){if(1===e.numberOfChildren&&e.children[Xc]){const t=e.children[Xc];return new cd(e.segments.concat(t.segments),t.children)}return e}function ph(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function gh(e){return e.outlet||Xc}class mh{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class vh{constructor(e,t){this.component=e,this.route=t}}function yh(e,t,n){const r=e._root;return function e(t,n,r,l,s={canDeactivateChecks:[],canActivateChecks:[]}){const i=Ad(n);return t.children.forEach(t=>{!function(t,n,r,l,s={canDeactivateChecks:[],canActivateChecks:[]}){const i=t.value,o=n?n.value:null,u=r?r.getContext(t.value.outlet):null;if(o&&i.routeConfig===o.routeConfig){const a=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!hd(e.url,t.url);case"pathParamsOrQueryParamsChange":return!hd(e.url,t.url)||!rd(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ud(e,t)||!rd(e.queryParams,t.queryParams);case"paramsChange":default:return!Ud(e,t)}}(o,i,i.routeConfig.runGuardsAndResolvers);if(a?s.canActivateChecks.push(new mh(l)):(i.data=o.data,i._resolvedData=o._resolvedData),e(t,n,i.component?u?u.children:null:r,l,s),a){s.canDeactivateChecks.push(new vh(u&&u.outlet&&u.outlet.component||null,o))}}else o&&_h(n,u,s),s.canActivateChecks.push(new mh(l)),e(t,null,i.component?u?u.children:null:r,l,s)}(t,i[t.value.outlet],r,l.concat([t.value]),s),delete i[t.value.outlet]}),id(i,(e,t)=>_h(e,r.getContext(t),s)),s}(r,t?t._root:null,n,[r.value])}function bh(e,t,n){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function _h(e,t,n){const r=Ad(e),l=e.value;id(r,(e,r)=>{_h(e,l.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new vh(l.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,l))}const wh=Symbol("INITIAL_VALUE");function Dh(){return oa(e=>Fu(...e.map(e=>e.pipe(ta(1),ca(wh)))).pipe(da((e,t)=>{let n=!1;return t.reduce((e,r,l)=>{if(e!==wh)return e;if(r===wh&&(n=!0),!n){if(!1===r)return r;if(l===t.length-1||sh(r))return r}return e},e)},wh),Nu(e=>e!==wh),B(e=>sh(e)?e:!0===e),ta(1)))}function Sh(e,t){return null!==e&&t&&t(new Bc(e)),xu(!0)}function Ch(e,t){return null!==e&&t&&t(new Vc(e)),xu(!0)}function kh(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;return r&&0!==r.length?xu(r.map(r=>Pu(()=>{const l=bh(r,t,n);let s;if(function(e){return e&&lh(e.canActivate)}(l))s=od(l.canActivate(t,e));else{if(!lh(l))throw new Error("Invalid CanActivate guard");s=od(l(t,e))}return s.pipe(la())}))).pipe(Dh()):xu(!0)}function xh(e,t,n){const r=t[t.length-1],l=t.slice(0,t.length-1).reverse().map(e=>(function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null})(e)).filter(e=>null!==e).map(t=>Pu(()=>xu(t.guards.map(l=>{const s=bh(l,t.node,n);let i;if(function(e){return e&&lh(e.canActivateChild)}(s))i=od(s.canActivateChild(r,e));else{if(!lh(s))throw new Error("Invalid CanActivateChild guard");i=od(s(r,e))}return i.pipe(la())})).pipe(Dh())));return xu(l).pipe(Dh())}class Ih{}class Mh{constructor(e,t,n,r,l,s){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=s}recognize(){try{const t=Fh(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,t,Xc),r=new jd([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Xc,this.rootComponentType,null,this.urlTree.root,-1,{}),l=new Td(r,n),s=new $d(this.url,l);return this.inheritParamsAndData(s._root),xu(s)}catch(e){return new w(t=>t.error(e))}}inheritParamsAndData(e){const t=e.value,n=Rd(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=fd(t,(t,n)=>this.processSegmentGroup(e,t,n));return function(e){const t={};n.forEach(e=>{const n=t[e.value.outlet];if(n){const t=n.url.map(e=>e.toString()).join("/"),r=e.value.url.map(e=>e.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${t}' and '${r}'.`)}t[e.value.outlet]=e.value})}(),n.sort((e,t)=>e.value.outlet===Xc?-1:t.value.outlet===Xc?1:e.value.outlet.localeCompare(t.value.outlet)),n}processSegment(e,t,n,r){for(const s of e)try{return this.processSegmentAgainstRoute(s,t,n,r)}catch(l){if(!(l instanceof Ih))throw l}if(this.noLeftoversInUrl(t,n,r))return[];throw new Ih}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}processSegmentAgainstRoute(e,t,n,r){if(e.redirectTo)throw new Ih;if((e.outlet||Xc)!==r)throw new Ih;let l,s=[],i=[];if("**"===e.path){const s=n.length>0?sd(n).parameters:{};l=new jd(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ph(e),r,e.component,e,Eh(t),Oh(t)+n.length,qh(e))}else{const o=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new Ih;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(t.matcher||Qc)(n,e,t);if(!r)throw new Ih;const l={};id(r.posParams,(e,t)=>{l[t]=e.path});const s=r.consumed.length>0?Object.assign({},l,r.consumed[r.consumed.length-1].parameters):l;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(t,e,n);s=o.consumedSegments,i=n.slice(o.lastChild),l=new jd(s,o.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ph(e),r,e.component,e,Eh(t),Oh(t)+s.length,qh(e))}const o=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:u,slicedSegments:a}=Fh(t,s,i,o,this.relativeLinkResolution);if(0===a.length&&u.hasChildren()){const e=this.processChildren(o,u);return[new Td(l,e)]}if(0===o.length&&0===a.length)return[new Td(l,[])];const c=this.processSegment(o,u,a,Xc);return[new Td(l,c)]}}function Eh(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Oh(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function Fh(e,t,n,r,l){if(n.length>0&&function(e,t,n){return r.some(n=>Th(e,t,n)&&Ah(n)!==Xc)}(e,n)){const l=new cd(t,function(e,t,n,r){const l={};l[Xc]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const s of n)if(""===s.path&&Ah(s)!==Xc){const n=new cd([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,l[Ah(s)]=n}return l}(e,t,r,new cd(n,e.children)));return l._sourceSegment=e,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return r.some(n=>Th(e,t,n))}(e,n)){const s=new cd(e.segments,function(e,t,n,r,l,s){const i={};for(const o of r)if(Th(e,n,o)&&!l[Ah(o)]){const n=new cd([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===s?e.segments.length:t.length,i[Ah(o)]=n}return Object.assign({},l,i)}(e,t,n,r,e.children,l));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}const s=new cd(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function Th(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Ah(e){return e.outlet||Xc}function Ph(e){return e.data||{}}function qh(e){return e.resolve||{}}function Nh(e,t,n,r){const l=bh(e,t,r);return od(l.resolve?l.resolve(t,n):l(t,n))}function Rh(e){return function(t){return t.pipe(oa(t=>{const n=e(t);return n?X(n).pipe(B(()=>t)):X([t])}))}}class jh{}class $h{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}const Vh=new xe("ROUTES");class Lh{constructor(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}load(e,t){return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(B(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const r=n.create(e);return new Jc(ld(r.injector.get(Vh)).map(nd),r)}))}loadModuleFactory(e){return"string"==typeof e?X(this.loader.load(e)):od(e()).pipe(W(e=>e instanceof rn?xu(e):X(this.compiler.compileModuleAsync(e))))}}class Bh{}class Uh{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Hh(e){throw e}function zh(e,t,n){return t.parse("/")}function Xh(e,t){return xu(null)}class Wh{constructor(e,t,n,r,l,s,i,o){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=r,this.config=o,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new I,this.errorHandler=Hh,this.malformedUriErrorHandler=zh,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Xh,afterPreactivation:Xh},this.urlHandlingStrategy=new Uh,this.routeReuseStrategy=new $h,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=l.get(nn),this.console=l.get(Hl);const u=l.get(os);this.isNgZoneEnabled=u instanceof os,this.resetConfig(o),this.currentUrlTree=new ad(new cd([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Lh(s,i,e=>this.triggerEvent(new jc(e)),e=>this.triggerEvent(new $c(e))),this.routerState=qd(this.currentUrlTree,this.rootComponentType),this.transitions=new Iu({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(Nu(e=>0!==e.id),B(e=>Object.assign({},e,{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),oa(e=>{let n=!1,r=!1;return xu(e).pipe(Hu(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),oa(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return xu(e).pipe(oa(e=>{const n=this.transitions.getValue();return t.next(new Ec(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?Su:[e]}),oa(e=>Promise.resolve(e)),function(e,t,n,r){return function(l){return l.pipe(oa(l=>(function(e,t,n,r,s){return new dh(e,t,n,l.extractedUrl,s).apply()})(e,t,n,0,r).pipe(B(e=>Object.assign({},l,{urlAfterRedirects:e})))))}}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Hu(e=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:e.urlAfterRedirects})}),function(e,t,n,r,l){return function(s){return s.pipe(W(s=>(function(e,t,n,r,l="emptyOnly",s="legacy"){return new Mh(e,t,n,r,l,s).recognize()})(e,t,s.urlAfterRedirects,n(s.urlAfterRedirects),r,l).pipe(B(e=>Object.assign({},s,{targetSnapshot:e})))))}}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),Hu(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),Hu(e=>{const n=new Ac(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:l,restoredState:s,extras:i}=e,o=new Ec(n,this.serializeUrl(r),l,s);t.next(o);const u=qd(r,this.rootComponentType).snapshot;return xu(Object.assign({},e,{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign({},i,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),Su}),Rh(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:l,extras:{skipLocationChange:s,replaceUrl:i}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:l,skipLocationChange:!!s,replaceUrl:!!i})}),Hu(e=>{const t=new Pc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),B(e=>Object.assign({},e,{guards:yh(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return function(n){return n.pipe(W(n=>{const{targetSnapshot:r,currentSnapshot:l,guards:{canActivateChecks:s,canDeactivateChecks:i}}=n;return 0===i.length&&0===s.length?xu(Object.assign({},n,{guardsResult:!0})):function(e,t,n,r){return X(i).pipe(W(e=>(function(e,t,n,r,l){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?xu(s.map(s=>{const i=bh(s,t,l);let o;if(function(e){return e&&lh(e.canDeactivate)}(i))o=od(i.canDeactivate(e,t,n,r));else{if(!lh(i))throw new Error("Invalid CanDeactivate guard");o=od(i(e,t,n,r))}return o.pipe(la())})).pipe(Dh()):xu(!0)})(e.component,e.route,n,t,r)),la(e=>!0!==e,!0))}(0,r,l,e).pipe(W(n=>n&&function(e){return"boolean"==typeof n}()?function(e,t,n,r){return X(s).pipe(pa(t=>X([Ch(t.route.parent,r),Sh(t.route,r),xh(e,t.path,n),kh(e,t.route,n)]).pipe(qu(),la(e=>!0!==e,!0))),la(e=>!0!==e,!0))}(r,0,e,t):xu(n)),B(e=>Object.assign({},n,{guardsResult:e})))}))}}(this.ngModule.injector,e=>this.triggerEvent(e)),Hu(e=>{if(sh(e.guardsResult)){const t=Zc(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}}),Hu(e=>{const t=new qc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),Nu(e=>{if(!e.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Fc(e.id,this.serializeUrl(e.extractedUrl),"");return t.next(n),e.resolve(!1),!1}return!0}),Rh(e=>{if(e.guards.canActivateChecks.length)return xu(e).pipe(Hu(e=>{const t=new Nc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),function(e,t){return function(n){return n.pipe(W(n=>{const{targetSnapshot:r,guards:{canActivateChecks:l}}=n;return l.length?X(l).pipe(pa(n=>(function(e,t,n,l){return function(e,t,n,r){const l=Object.keys(e);if(0===l.length)return xu({});if(1===l.length){const s=l[0];return Nh(e[s],t,n,r).pipe(B(e=>({[s]:e})))}const s={};return X(l).pipe(W(l=>Nh(e[l],t,n,r).pipe(B(e=>(s[l]=e,e))))).pipe(Qu(),B(()=>s))}(e._resolve,e,r,l).pipe(B(t=>(e._resolvedData=t,e.data=Object.assign({},e.data,Rd(e,n).resolve),null)))})(n.route,0,e,t)),function(e,t){return arguments.length>=2?function(n){return b(da(e,t),Lu(1),Gu(t))(n)}:function(t){return b(da((t,n,r)=>e(t,n,r+1)),Lu(1))(t)}}((e,t)=>e),B(e=>n)):xu(n)}))}}(this.paramsInheritanceStrategy,this.ngModule.injector),Hu(e=>{const t=new Rc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),Rh(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:l,extras:{skipLocationChange:s,replaceUrl:i}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:l,skipLocationChange:!!s,replaceUrl:!!i})}),B(e=>{const t=function(e,t,n){const r=function e(t,n,r){if(r&&t.shouldReuseRoute(n.value,r.value.snapshot)){const l=r.value;l._futureSnapshot=n.value;const s=function(t,n,r){return n.children.map(n=>{for(const l of r.children)if(t.shouldReuseRoute(l.value.snapshot,n.value))return e(t,n,l);return e(t,n)})}(t,n,r);return new Td(l,s)}{const r=t.retrieve(n.value);if(r){const e=r.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(let r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(n,e),e}{const r=new Nd(new Iu((l=n.value).url),new Iu(l.params),new Iu(l.queryParams),new Iu(l.fragment),new Iu(l.data),l.outlet,l.component,l),s=n.children.map(n=>e(t,n));return new Td(r,s)}}var l}(e,t._root,n?n._root:void 0);return new Pd(r,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign({},e,{targetRouterState:t})}),Hu(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),th(this.rootContexts,this.routeReuseStrategy,e=>this.triggerEvent(e)),Hu({next(){n=!0},complete(){n=!0}}),function(e){return t=>t.lift(new ga(e))}(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Fc(e.id,this.serializeUrl(e.extractedUrl),`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`);t.next(n),e.resolve(!1)}this.currentNavigation=null}),Ju(n=>{if(r=!0,function(e){return n&&n[Kc]}()){const r=sh(n.url);r||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const l=new Fc(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(l),e.resolve(!1),r&&this.navigateByUrl(n.url)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const r=new Tc(e.id,this.serializeUrl(e.extractedUrl),n);t.next(r);try{e.resolve(this.errorHandler(n))}catch(l){e.reject(l)}}return Su}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign({},this.getTransition(),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{let t=this.parseUrl(e.url);const n="popstate"===e.type?"popstate":"hashchange",r=e.state&&e.state.navigationId?e.state:null;setTimeout(()=>{this.scheduleNavigation(t,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Yc(e),this.config=e.map(nd),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(e,t={}){const{relativeTo:n,queryParams:r,fragment:l,preserveQueryParams:s,queryParamsHandling:i,preserveFragment:o}=t;it()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const u=n||this.routerState.root,a=o?this.currentUrlTree.fragment:l;let c=null;if(i)switch(i){case"merge":c=Object.assign({},this.currentUrlTree.queryParams,r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}else c=s?this.currentUrlTree.queryParams:r||null;return null!==c&&(c=this.removeEmptyProps(c)),function(e,t,n,r,l){if(0===n.length)return zd(t.root,t.root,t,r,l);const s=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Xd(!0,0,e);let t=0,n=!1;const r=e.reduce((e,r,l)=>{if("object"==typeof r&&null!=r){if(r.outlets){const t={};return id(r.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(r.segmentPath)return[...e,r.segmentPath]}return"string"!=typeof r?[...e,r]:0===l?(r.split("/").forEach((r,l)=>{0==l&&"."===r||(0==l&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[...e,r]},[]);return new Xd(n,t,r)}(n);if(s.toRoot())return zd(t.root,new cd([],{}),t,r,l);const i=function(e,n,r){if(e.isAbsolute)return new Wd(t.root,!0,0);if(-1===r.snapshot._lastPathIndex)return new Wd(r.snapshot._urlSegment,!0,0);const l=Hd(e.commands[0])?0:1;return function(t,n,s){let i=r.snapshot._urlSegment,o=r.snapshot._lastPathIndex+l,u=e.numberOfDoubleDots;for(;u>o;){if(u-=o,!(i=i.parent))throw new Error("Invalid number of '../'");o=i.segments.length}return new Wd(i,!1,o-u)}()}(s,0,e),o=i.processChildren?Zd(i.segmentGroup,i.index,s.commands):Kd(i.segmentGroup,i.index,s.commands);return zd(i.segmentGroup,o,t,r,l)}(u,this.currentUrlTree,e,c,a)}navigateByUrl(e,t={skipLocationChange:!1}){it()&&this.isNgZoneEnabled&&!os.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=sh(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){if(sh(e))return ud(this.currentUrlTree,e,t);const n=this.parseUrl(e);return ud(this.currentUrlTree,n,t)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return null!=r&&(t[n]=r),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.events.next(new Oc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,r){const l=this.getTransition();if(l&&"imperative"!==t&&"imperative"===l.source&&l.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(l&&"hashchange"==t&&"popstate"===l.source&&l.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(l&&"popstate"==t&&"hashchange"===l.source&&l.rawUrl.toString()===e.toString())return Promise.resolve(!0);let s=null,i=null;const o=new Promise((e,t)=>{s=e,i=t}),u=++this.navigationId;return this.setTransition({id:u,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:s,reject:i,promise:o,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),o.catch(e=>Promise.reject(e))}setBrowserUrl(e,t,n,r){const l=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(l)||t?this.location.replaceState(l,"",Object.assign({},r,{navigationId:n})):this.location.go(l,"",Object.assign({},r,{navigationId:n}))}resetStateAndUrl(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}let Gh=(()=>(class{constructor(e,t,n,r,l){this.router=e,this.route=t,this.commands=[],null==n&&r.setAttribute(l.nativeElement,"tabindex","0")}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){it()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}onClick(){const e={skipLocationChange:Zh(this.skipLocationChange),replaceUrl:Zh(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Zh(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Zh(this.preserveFragment)})}}))(),Kh=(()=>(class{constructor(e,t,n){this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.subscription=e.events.subscribe(e=>{e instanceof Oc&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){it()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}ngOnChanges(e){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,n,r){if(0!==e||t||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const l={skipLocationChange:Zh(this.skipLocationChange),replaceUrl:Zh(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,l),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Zh(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Zh(this.preserveFragment)})}}))();function Zh(e){return""===e||!!e}class Qh{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Jh,this.attachRef=null}}class Jh{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Qh,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Yh=(()=>(class{constructor(e,t,n,r,l){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=l,this.activated=null,this._activatedRoute=null,this.activateEvents=new Al,this.deactivateEvents=new Al,this.name=r||Xc,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,l=new ef(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}))();class ef{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===Nd?this.route:e===Jh?this.childContexts:this.parent.get(e,t)}}class tf{}class nf{preload(e,t){return t().pipe(Ju(()=>xu(null)))}}class rf{preload(e,t){return xu(null)}}let lf=(()=>(class{constructor(e,t,n,r,l){this.router=e,this.injector=r,this.preloadingStrategy=l,this.loader=new Lh(t,n,t=>e.triggerEvent(new jc(t)),t=>e.triggerEvent(new $c(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(Nu(e=>e instanceof Oc),pa(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(nn);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const r of t)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const e=r._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(e,r)):r.children&&n.push(this.processRoutes(e,r.children));return X(n).pipe(Q(),B(e=>void 0))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>this.loader.load(e.injector,t).pipe(W(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}))();class sf{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ec?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Oc&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Hc&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new Hc(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const of=new xe("ROUTER_CONFIGURATION"),uf=new xe("ROUTER_FORROOT_GUARD"),af=[Co,{provide:pd,useClass:gd},{provide:Wh,useFactory:mf,deps:[xs,pd,Jh,Co,Ue,Ms,Yl,Vh,of,[Bh,new ae],[jh,new ae]]},Jh,{provide:Nd,useFactory:vf,deps:[Wh]},{provide:Ms,useClass:Fs},lf,rf,nf,{provide:of,useValue:{enableTracing:!1}}];function cf(){return new ws("Router",Wh)}let df=(()=>{class e{constructor(e,t){}static forRoot(t,n){return{ngModule:e,providers:[af,gf(t),{provide:uf,useFactory:pf,deps:[[Wh,new ae,new de]]},{provide:of,useValue:n||{}},{provide:Do,useFactory:ff,deps:[_o,[new ue(So),new ae],of]},{provide:sf,useFactory:hf,deps:[Wh,wu,of]},{provide:tf,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:rf},{provide:ws,multi:!0,useFactory:cf},[yf,{provide:Nl,multi:!0,useFactory:bf,deps:[yf]},{provide:wf,useFactory:_f,deps:[yf]},{provide:Ul,multi:!0,useExisting:wf}]]}}static forChild(t){return{ngModule:e,providers:[gf(t)]}}}return e})();function hf(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new sf(e,t,n)}function ff(e,t,n={}){return n.useHash?new xo(e,t):new Io(e,t)}function pf(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function gf(e){return[{provide:tt,multi:!0,useValue:e},{provide:Vh,multi:!0,useValue:e}]}function mf(e,t,n,r,l,s,i,o,u={},a,c){const d=new Wh(null,t,n,r,l,s,i,ld(o));if(a&&(d.urlHandlingStrategy=a),c&&(d.routeReuseStrategy=c),u.errorHandler&&(d.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(d.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){const e=ya();d.events.subscribe(t=>{e.logGroup(`Router Event: ${t.constructor.name}`),e.log(t.toString()),e.log(t),e.logGroupEnd()})}return u.onSameUrlNavigation&&(d.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(d.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(d.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(d.relativeLinkResolution=u.relativeLinkResolution),d}function vf(e){return e.routerState.root}let yf=(()=>(class{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new I}appInitializer(){return this.injector.get(wo,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),n=this.injector.get(Wh),r=this.injector.get(of);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))e(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),e(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?xu(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()}return t})}bootstrapListener(e){const t=this.injector.get(of),n=this.injector.get(lf),r=this.injector.get(sf),l=this.injector.get(Wh),s=this.injector.get(xs);e===s.components[0]&&(this.isLegacyEnabled(t)?l.initialNavigation():this.isLegacyDisabled(t)&&l.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),l.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}isLegacyDisabled(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}))();function bf(e){return e.appInitializer.bind(e)}function _f(e){return e.bootstrapListener.bind(e)}const wf=new xe("Router Initializer");var Df=Jn({encapsulation:2,styles:[],data:{}});function Sf(e){return ci(0,[(e()(),Xs(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),cl(1,212992,null,0,Yh,[Jh,Pn,Yt,[8,null],In],null,null)],function(e,t){e(t,1,0)},null)}function Cf(e){return ci(0,[(e()(),Xs(0,0,null,null,1,"ng-component",[],null,null,null,Sf,Df)),cl(1,49152,null,0,zc,[],null,null)],null,null)}var kf=Vr("ng-component",zc,Cf,{},{},[]);class xf extends L{constructor(e,t){super(e),this.sources=t,this.completed=0,this.haveValues=0;const n=t.length;this.values=new Array(n);for(let r=0;r<n;r++){const e=V(this,t[r],null,r);e&&this.add(e)}}notifyNext(e,t,n,r,l){this.values[n]=t,l._hasValue||(l._hasValue=!0,this.haveValues++)}notifyComplete(e){const{destination:t,haveValues:n,values:r}=this,l=r.length;e._hasValue?(this.completed++,this.completed===l&&(n===l&&t.next(r),t.complete())):t.complete()}}const If=new xe("NgValueAccessor");let Mf=(()=>(class{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}))();const Ef=new xe("CompositionEventMode");let Of=(()=>(class{constructor(e,t,n){this._renderer=e,this._elementRef=t,this._compositionMode=n,this.onChange=e=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=ya()?ya().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}))();class Ff{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Tf extends Ff{get formDirective(){return null}get path(){return null}}function Af(){throw new Error("unimplemented")}class Pf extends Ff{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return Af()}get asyncValidator(){return Af()}}class qf{constructor(e){this._cd=e}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let Nf=(()=>(class extends qf{constructor(e){super(e)}}))(),Rf=(()=>(class extends qf{constructor(e){super(e)}}))();function jf(e){return null==e||0===e.length}const $f=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/;class Vf{static min(e){return t=>{if(jf(t.value)||jf(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}static max(e){return t=>{if(jf(t.value)||jf(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}static required(e){return jf(e.value)?{required:!0}:null}static requiredTrue(e){return!0===e.value?null:{required:!0}}static email(e){return jf(e.value)?null:$f.test(e.value)?null:{email:!0}}static minLength(e){return t=>{if(jf(t.value))return null;const n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}static maxLength(e){return t=>{const n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}static pattern(e){if(!e)return Vf.nullValidator;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(jf(e.value))return null;const r=e.value;return t.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(e){return null}static compose(e){if(!e)return null;const t=e.filter(Lf);return 0==t.length?null:function(e){return Uf(function(e,n){return t.map(t=>t(e))}(e))}}static composeAsync(e){if(!e)return null;const t=e.filter(Lf);return 0==t.length?null:function(e){return function e(...t){let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&u(t[0])&&(t=t[0]),0===t.length?Su:n?e(t).pipe(B(e=>n(...e))):new w(e=>new xf(e,t))}(function(e,n){return t.map(t=>t(e))}(e).map(Bf)).pipe(B(Uf))}}}function Lf(e){return null!=e}function Bf(e){const t=zt(e)?X(e):e;if(!Xt(t))throw new Error("Expected validator to return Promise or Observable.");return t}function Uf(e){const t=e.reduce((e,t)=>null!=t?Object.assign({},e,t):e,{});return 0===Object.keys(t).length?null:t}function Hf(e){return e.validate?t=>e.validate(t):e}function zf(e){return e.validate?t=>e.validate(t):e}let Xf=(()=>(class{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}))(),Wf=(()=>(class{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}))(),Gf=(()=>(class{constructor(e,t,n,r){this._renderer=e,this._elementRef=t,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Pf),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}))(),Kf=(()=>(class{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}))();const Zf={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '};class Qf{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${Zf.formControlName}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${Zf.formGroupName}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${Zf.ngModelGroup}`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${Zf.formControlName}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${Zf.formGroupName}`)}static arrayParentException(){throw new Error(`formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        ${Zf.formArrayName}`)}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(e){console.warn(`\n    It looks like you're using ngModel on the same form field as ${e}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===e?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}function Jf(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let Yf=(()=>(class{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Vt}set compareWith(e){if("function"!=typeof e)throw new Error(`compareWith must be a function, but received ${JSON.stringify(e)}`);this._compareWith=e}writeValue(e){this.value=e;const t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=Jf(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}))(),ep=(()=>(class{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(Jf(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}))();function tp(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let np=(()=>(class{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Vt}set compareWith(e){if("function"!=typeof e)throw new Error(`compareWith must be a function, but received ${JSON.stringify(e)}`);this._compareWith=e}writeValue(e){let t;if(this.value=e,Array.isArray(e)){const n=e.map(e=>this._getOptionId(e));t=(e,t)=>{e._setSelected(n.indexOf(t.toString())>-1)}}else t=(e,t)=>{e._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{const n=[];if(t.hasOwnProperty("selectedOptions")){const e=t.selectedOptions;for(let t=0;t<e.length;t++){const r=e.item(t),l=this._getOptionValue(r.value);n.push(l)}}else{const e=t.options;for(let t=0;t<e.length;t++){const r=e.item(t);if(r.selected){const e=this._getOptionValue(r.value);n.push(e)}}}this.value=n,e(n)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}))(),rp=(()=>(class{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(tp(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(tp(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}))();function lp(e,t){return[...t.path,e]}function sp(e,t){e||ap(t,"Cannot find control with"),t.valueAccessor||ap(t,"No value accessor for form control with"),e.validator=Vf.compose([e.validator,t.validator]),e.asyncValidator=Vf.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&ip(e,t)})}(e,t),function(e,t){e.registerOnChange((e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&ip(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange(e=>{t.valueAccessor.setDisabledState(e)}),t._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())}),t._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())})}function ip(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function op(e,t){null==e&&ap(t,"Cannot find control with"),e.validator=Vf.compose([e.validator,t.validator]),e.asyncValidator=Vf.composeAsync([e.asyncValidator,t.asyncValidator])}function up(e){return ap(e,"There is no FormControl instance attached to form control element with")}function ap(e,t){let n;throw n=e.path.length>1?`path: '${e.path.join(" -> ")}'`:e.path[0]?`name: '${e.path}'`:"unspecified name attribute",new Error(`${t} ${n}`)}function cp(e){return null!=e?Vf.compose(e.map(Hf)):null}function dp(e){return null!=e?Vf.composeAsync(e.map(zf)):null}const hp=[Mf,Kf,Xf,Yf,np,Gf],fp="VALID",pp="INVALID",gp="PENDING",mp="DISABLED";function vp(e){const t=bp(e)?e.validators:e;return Array.isArray(t)?cp(t):t||null}function yp(e,t){const n=bp(t)?t.asyncValidators:e;return Array.isArray(n)?dp(n):n||null}function bp(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class _p{constructor(e,t){this.validator=e,this.asyncValidator=t,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return this.status===fp}get invalid(){return this.status===pp}get pending(){return this.status==gp}get disabled(){return this.status===mp}get enabled(){return this.status!==mp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this.validator=vp(e)}setAsyncValidators(e){this.asyncValidator=yp(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=gp,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=mp,this.errors=null,this._forEachChild(t=>{t.disable(Object.assign({},e,{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=fp,this._forEachChild(t=>{t.enable(Object.assign({},e,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==fp&&this.status!==gp||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?mp:fp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=gp;const t=Bf(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>this.setErrors(t,{emitEvent:e}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){return null==t?null:(t instanceof Array||(t=t.split(".")),t instanceof Array&&0===t.length?null:t.reduce((e,t)=>e instanceof Dp?e.controls.hasOwnProperty(t)?e.controls[t]:null:e instanceof Sp&&e.at(t)||null,e))}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Al,this.statusChanges=new Al}_calculateStatus(){return this._allControlsDisabled()?mp:this.errors?pp:this._anyControlsHaveStatus(gp)?gp:this._anyControlsHaveStatus(pp)?pp:fp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){bp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class wp extends _p{constructor(e=null,t,n){super(vp(t),yp(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Dp extends _p{constructor(e,t,n){super(vp(t),yp(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e={},t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof wp?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>e(this.controls[t],t))}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){let t=!1;return this._forEachChild((n,r)=>{t=t||this.contains(r)&&e(n)}),t}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,r)=>{n=t(n,e,r)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Sp extends _p{constructor(e,t,n){super(vp(t),yp(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(e){return this.controls[e]}push(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}insert(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}removeAt(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e=[],t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof wp?e.value:e.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Cp=new xe("NgFormSelectorWarning");class kp extends Tf{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return lp(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return cp(this._validators)}get asyncValidator(){return dp(this._asyncValidators)}_checkParentType(){}}let xp=(()=>(class{}))();const Ip=new xe("NgModelWithFormControlWarning");let Mp=(()=>(class extends Tf{constructor(e,t){super(),this._validators=e,this._asyncValidators=t,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new Al}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const t=this.form.get(e.path);return sp(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){!function(t,n){const r=t.indexOf(e);r>-1&&t.splice(r,1)}(this.directives)}addFormGroup(e){const t=this.form.get(e.path);op(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormGroup(e){}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){const t=this.form.get(e.path);op(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormArray(e){}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,t=this.directives,this.form._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}),this.ngSubmit.emit(e),!1;var t}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const t=this.form.get(e.path);e.control!==t&&(function(e,t){t.valueAccessor.registerOnChange(()=>up(t)),t.valueAccessor.registerOnTouched(()=>up(t)),t._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),t._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),e&&e._clearChangeFns()}(e.control,e),t&&sp(t,e),e.control=t)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const e=cp(this._validators);this.form.validator=Vf.compose([this.form.validator,e]);const t=dp(this._asyncValidators);this.form.asyncValidator=Vf.composeAsync([this.form.asyncValidator,t])}_checkFormPresent(){this.form||Qf.missingFormException()}}))(),Ep=(()=>(class extends kp{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}_checkParentType(){Fp(this._parent)&&Qf.groupParentException()}}))(),Op=(()=>(class extends Tf{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return lp(this.name,this._parent)}get validator(){return cp(this._validators)}get asyncValidator(){return dp(this._asyncValidators)}_checkParentType(){Fp(this._parent)&&Qf.arrayParentException()}}))();function Fp(e){return!(e instanceof Ep||e instanceof Mp||e instanceof Op)}let Tp=(()=>{class e extends Pf{constructor(e,t,n,r,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.update=new Al,this._ngModelWarningSent=!1,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(e,t){if(!t)return null;Array.isArray(t)||ap(e,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,l=void 0;return t.forEach(t=>{t.constructor===Of?n=t:function(e){return hp.some(t=>e.constructor===t)}(t)?(r&&ap(e,"More than one built-in value accessor matches form control with"),r=t):(l&&ap(e,"More than one custom value accessor matches form control with"),l=t)}),l||r||n||(ap(e,"No valid value accessor for form control with"),null)}(this,r)}set isDisabled(e){Qf.disabledAttrWarning()}ngOnChanges(t){var n,r;this._added||this._setUpControl(),function(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Vt(t,n.currentValue)}(t,this.viewModel)&&("formControlName",n=e,this,r=this._ngModelWarningConfig,it()&&"never"!==r&&((null!==r&&"once"!==r||n._ngModelWarningSentOnce)&&("always"!==r||this._ngModelWarningSent)||(Qf.ngModelWarning("formControlName"),n._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return lp(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return cp(this._rawValidators)}get asyncValidator(){return dp(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof Ep)&&this._parent instanceof kp?Qf.ngModelGroupException():this._parent instanceof Ep||this._parent instanceof Mp||this._parent instanceof Op||Qf.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return e._ngModelWarningSentOnce=!1,e})(),Ap=(()=>(class{}))(),Pp=(()=>(class{group(e,t=null){const n=this._reduceControls(e);let r=null,l=null,s=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(r=null!=t.validators?t.validators:null,l=null!=t.asyncValidators?t.asyncValidators:null,s=null!=t.updateOn?t.updateOn:void 0):(r=null!=t.validator?t.validator:null,l=null!=t.asyncValidator?t.asyncValidator:null)),new Dp(n,{asyncValidators:l,updateOn:s,validators:r})}control(e,t,n){return new wp(e,t,n)}array(e,t,n){const r=e.map(e=>this._createControl(e));return new Sp(r,t,n)}_reduceControls(e){const t={};return Object.keys(e).forEach(n=>{t[n]=this._createControl(e[n])}),t}_createControl(e){return e instanceof wp||e instanceof Dp||e instanceof Sp?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}))(),qp=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Cp,useValue:t.warnOnDeprecatedNgFormSelector}]}}}return e})(),Np=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Ip,useValue:t.warnOnNgModelWithFormControl}]}}}return e})();class Rp extends h{constructor(e,t){super()}schedule(e,t=0){return this}}class jp extends Rp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n=!1,r=void 0;try{this.work(e)}catch(l){n=!0,r=!!l&&l||new Error(l)}if(n)return this.unsubscribe(),r}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let $p=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class Vp extends $p{constructor(e,t=$p.now){super(e,()=>Vp.delegate&&Vp.delegate!==this?Vp.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return Vp.delegate&&Vp.delegate!==this?Vp.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}const Lp=new Vp(jp);function Bp(e){return!u(e)&&e-parseFloat(e)+1>=0}function Up(e){const{index:t,period:n,subscriber:r}=e;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}const Hp=new w(y);function zp(e,t,n,l){return r(n)&&(l=n,n=void 0),l?zp(e,t,n).pipe(B(e=>u(e)?l(...e):l(e))):new w(r=>{!function e(t,n,r,l,s){let i;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){const e=t;t.addEventListener(n,r,s),i=()=>e.removeEventListener(n,r,s)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){const e=t;t.on(n,r),i=()=>e.off(n,r)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){const e=t;t.addListener(n,r),i=()=>e.removeListener(n,r)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let i=0,o=t.length;i<o;i++)e(t[i],n,r,l,s)}l.add(i)}(e,t,function(e){r.next(arguments.length>1?Array.prototype.slice.call(arguments):e)},r,n)})}function Xp(e,t){return n=>n.lift(new Wp(e,t))}class Wp{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new Gp(e,this.compare,this.keySelector))}}class Gp extends g{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}function Kp(e){return t=>t.lift(new Zp(e))}class Zp{constructor(e){this.notifier=e}call(e,t){const n=new Qp(e),r=V(n,this.notifier);return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n}}class Qp extends L{constructor(e){super(e),this.seenValue=!1}notifyNext(e,t,n,r,l){this.seenValue=!0,this.complete()}notifyComplete(){}}function Jp(...e){return t=>{let n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new Yp(e,n))}}class Yp{constructor(e,t){this.observables=e,this.project=t}call(e,t){return t.subscribe(new eg(e,this.observables,this.project))}}class eg extends L{constructor(e,t,n){super(e),this.observables=t,this.project=n,this.toRespond=[];const r=t.length;this.values=new Array(r);for(let l=0;l<r;l++)this.toRespond.push(l);for(let l=0;l<r;l++){let e=t[l];this.add(V(this,e,e,l))}}notifyNext(e,t,n,r,l){this.values[n]=t;const s=this.toRespond;if(s.length>0){const e=s.indexOf(n);-1!==e&&s.splice(e,1)}}notifyComplete(){}_next(e){if(0===this.toRespond.length){const t=[e,...this.values];this.project?this._tryProject(t):this.destination.next(t)}}_tryProject(e){let t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function tg(e){return parseInt(`${e}`,10)}function ng(e){return null!=e?`${e}`:""}function rg(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function lg(e){return null!=e}function sg(e,t){return e&&e.className&&e.className.split&&e.className.split(/\s+/).indexOf(t)>=0}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(e){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});let ig=(()=>(class{}))(),og=(()=>{class e{constructor(){this.dismissible=!0,this.type="warning"}}return e.ngInjectableDef=pe({factory:function(){return new e},token:e,providedIn:"root"}),e})(),ug=(()=>(class{constructor(e,t,n){this._renderer=t,this._element=n,this.close=new Al,this.dismissible=e.dismissible,this.type=e.type}closeHandler(){this.close.emit(null)}ngOnChanges(e){const t=e.type;t&&!t.firstChange&&(this._renderer.removeClass(this._element.nativeElement,`alert-${t.previousValue}`),this._renderer.addClass(this._element.nativeElement,`alert-${t.currentValue}`))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,`alert-${this.type}`)}}))(),ag=(()=>(class{}))(),cg=(()=>(class{}))(),dg=(()=>{class e{constructor(){this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}}return e.ngInjectableDef=pe({factory:function(){return new e},token:e,providedIn:"root"}),e})(),hg=0,fg=(()=>(class{constructor(e){this.tplRef=e,this.id=`ngb-slide-${hg++}`}}))(),pg=(()=>(class{constructor(e,t,n,r){this._platformId=t,this._ngZone=n,this._cd=r,this.NgbSlideEventSource=mg,this._destroy$=new I,this._interval$=new Iu(0),this._mouseHover$=new Iu(!1),this._pauseOnHover$=new Iu(!1),this._pause$=new Iu(!1),this._wrap$=new Iu(!1),this.slide=new Al,this.interval=e.interval,this.wrap=e.wrap,this.keyboard=e.keyboard,this.pauseOnHover=e.pauseOnHover,this.showNavigationArrows=e.showNavigationArrows,this.showNavigationIndicators=e.showNavigationIndicators}set interval(e){this._interval$.next(e)}get interval(){return this._interval$.value}set wrap(e){this._wrap$.next(e)}get wrap(){return this._wrap$.value}set pauseOnHover(e){this._pauseOnHover$.next(e)}get pauseOnHover(){return this._pauseOnHover$.value}mouseEnter(){this._mouseHover$.next(!0)}mouseLeave(){this._mouseHover$.next(!1)}ngAfterContentInit(){"browser"===this._platformId&&this._ngZone.runOutsideAngular(()=>{const e=Fu(this.slide.pipe(B(e=>e.current),ca(this.activeId)),this._wrap$,this.slides.changes.pipe(ca(null))).pipe(B(([e,t])=>{const n=this.slides.toArray(),r=this._getSlideIdxById(e);return t?n.length>1:r<n.length-1}),Xp());Fu(this._pause$,this._pauseOnHover$,this._mouseHover$,this._interval$,e).pipe(B(([e,t,n,r,l])=>e||t&&n||!l?0:r),Xp(),oa(e=>e>0?function(e=0,t,n){let r=-1;return Bp(t)?r=Number(t)<1?1:Number(t):E(t)&&(n=t),E(n)||(n=Lp),new w(t=>{const l=Bp(e)?e:+e-n.now();return n.schedule(Up,l,{index:0,period:r,subscriber:t})})}(e,e):Hp),Kp(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(mg.TIMER)))}),this.slides.changes.pipe(Kp(this._destroy$)).subscribe(()=>this._cd.markForCheck())}ngAfterContentChecked(){let e=this._getSlideById(this.activeId);this.activeId=e?e.id:this.slides.length?this.slides.first.id:null}ngOnDestroy(){this._destroy$.next()}select(e,t){this._cycleToSelected(e,this._getSlideEventDirection(this.activeId,e),t)}prev(e){this._cycleToSelected(this._getPrevSlide(this.activeId),gg.RIGHT,e)}next(e){this._cycleToSelected(this._getNextSlide(this.activeId),gg.LEFT,e)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}_cycleToSelected(e,t,n){let r=this._getSlideById(e);r&&r.id!==this.activeId&&(this.slide.emit({prev:this.activeId,current:r.id,direction:t,paused:this._pause$.value,source:n}),this.activeId=r.id),this._cd.markForCheck()}_getSlideEventDirection(e,t){return this._getSlideIdxById(e)>this._getSlideIdxById(t)?gg.RIGHT:gg.LEFT}_getSlideById(e){return this.slides.find(t=>t.id===e)}_getSlideIdxById(e){return this.slides.toArray().indexOf(this._getSlideById(e))}_getNextSlide(e){const t=this.slides.toArray(),n=this._getSlideIdxById(e);return n===t.length-1?this.wrap?t[0].id:t[t.length-1].id:t[n+1].id}_getPrevSlide(e){const t=this.slides.toArray(),n=this._getSlideIdxById(e);return 0===n?this.wrap?t[t.length-1].id:t[0].id:t[n-1].id}}))();const gg={LEFT:"left",RIGHT:"right"},mg={TIMER:"timer",ARROW_LEFT:"arrowLeft",ARROW_RIGHT:"arrowRight",INDICATOR:"indicator"};let vg=(()=>(class{}))(),yg=(()=>(class{}))();class bg{static from(e){return e instanceof bg?e:e?new bg(e.year,e.month,e.day):null}constructor(e,t,n){this.year=rg(e)?e:null,this.month=rg(t)?t:null,this.day=rg(n)?n:null}equals(e){return e&&this.year===e.year&&this.month===e.month&&this.day===e.day}before(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day<e.day:this.month<e.month:this.year<e.year)}after(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day>e.day:this.month>e.month:this.year>e.year)}}function _g(e){return new bg(e.getFullYear(),e.getMonth()+1,e.getDate())}function wg(e){const t=new Date(e.year,e.month-1,e.day,12);return isNaN(t.getTime())||t.setFullYear(e.year),t}function Dg(){return new Cg}let Sg=(()=>{class e{}return e.ngInjectableDef=pe({factory:Dg,token:e,providedIn:"root"}),e})(),Cg=(()=>(class extends Sg{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(e,t="d",n=1){let r=wg(e);switch(t){case"y":return new bg(e.year+n,1,1);case"m":r=new Date(e.year,e.month+n-1,1,12);break;case"d":r.setDate(r.getDate()+n);break;default:return e}return _g(r)}getPrev(e,t="d",n=1){return this.getNext(e,t,-n)}getWeekday(e){let t=wg(e).getDay();return 0===t?7:t}getWeekNumber(e,t){7===t&&(t=0);const n=wg(e[(11-t)%7]);n.setDate(n.getDate()+4-(n.getDay()||7));const r=n.getTime();return n.setMonth(0),n.setDate(1),Math.floor(Math.round((r-n.getTime())/864e5)/7)+1}getToday(){return _g(new Date)}isValid(e){if(!(e&&rg(e.year)&&rg(e.month)&&rg(e.day)))return!1;if(0===e.year)return!1;const t=wg(e);return!isNaN(t.getTime())&&t.getFullYear()===e.year&&t.getMonth()+1===e.month&&t.getDate()===e.day}}))();function kg(e,t){return!function(e,t){return!e&&!t||!!e&&!!t&&e.equals(t)}(e,t)}function xg(e,t){return!(!e&&!t||e&&t&&e.year===t.year&&e.month===t.month)}function Ig(e,t,n){return e&&t&&e.before(t)?t:e&&n&&e.after(n)?n:e}function Mg(e,t){const{minDate:n,maxDate:r,disabled:l,markDisabled:s}=t;return!(!lg(e)||l||s&&s(e,{year:e.year,month:e.month})||n&&e.before(n)||r&&e.after(r))}let Eg=(()=>{class e{getDayNumerals(e){return`${e.day}`}getWeekNumerals(e){return`${e}`}getYearNumerals(e){return`${e}`}}return e.ngInjectableDef=pe({factory:function(){return e=je(zl),new Og(e);var e},token:e,providedIn:"root"}),e})(),Og=(()=>(class extends Eg{constructor(e){super(),this._locale=e;const t=Ao(e,Eo.Standalone,Oo.Short);this._weekdaysShort=t.map((e,n)=>t[(n+1)%7]),this._monthsShort=Po(e,Eo.Standalone,Oo.Abbreviated),this._monthsFull=Po(e,Eo.Standalone,Oo.Wide)}getWeekdayShortName(e){return this._weekdaysShort[e-1]}getMonthShortName(e){return this._monthsShort[e-1]}getMonthFullName(e){return this._monthsFull[e-1]}getDayAriaLabel(e){return function(e,t,n,r){let l=function(e){if(lu(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){const[t,n,r]=e.split("-").map(e=>+e);return new Date(t,n-1,r)}let n;if(n=e.match(Bo))return function(e){const t=new Date(0);let n=0,r=0;const l=e[8]?t.setUTCFullYear:t.setFullYear,s=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),l.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const i=Number(e[4]||0)-n,o=Number(e[5]||0)-r,u=Number(e[6]||0),a=Math.round(1e3*parseFloat("0."+(e[7]||0)));return s.call(t,i,o,u,a),t}(n)}const t=new Date(e);if(!lu(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=function e(t,n){const r=function(e){return Fl(e)[Ml.LocaleId]}(t);if(Uo[r]=Uo[r]||{},Uo[r][n])return Uo[r][n];let l="";switch(n){case"shortDate":l=qo(t,Fo.Short);break;case"mediumDate":l=qo(t,Fo.Medium);break;case"longDate":l=qo(t,Fo.Long);break;case"fullDate":l=qo(t,Fo.Full);break;case"shortTime":l=No(t,Fo.Short);break;case"mediumTime":l=No(t,Fo.Medium);break;case"longTime":l=No(t,Fo.Long);break;case"fullTime":l=No(t,Fo.Full);break;case"short":const r=e(t,"shortTime"),s=e(t,"shortDate");l=Go(Ro(t,Fo.Short),[r,s]);break;case"medium":const i=e(t,"mediumTime"),o=e(t,"mediumDate");l=Go(Ro(t,Fo.Medium),[i,o]);break;case"long":const u=e(t,"longTime"),a=e(t,"longDate");l=Go(Ro(t,Fo.Long),[u,a]);break;case"full":const c=e(t,"fullTime"),d=e(t,"fullDate");l=Go(Ro(t,Fo.Full),[c,d])}return l&&(Uo[r][n]=l),l}(n,t)||t;let s,i=[];for(;t;){if(!(s=Ho.exec(t))){i.push(t);break}{const e=(i=i.concat(s.slice(1))).pop();if(!e)break;t=e}}let o=l.getTimezoneOffset();r&&(o=ru(r,o),l=function(e,t,n){const r=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(ru(t,r)-r))}(l,r));let u="";return i.forEach(e=>{const t=function(e){if(nu[e])return nu[e];let t;switch(e){case"G":case"GG":case"GGG":t=Qo(Wo.Eras,Oo.Abbreviated);break;case"GGGG":t=Qo(Wo.Eras,Oo.Wide);break;case"GGGGG":t=Qo(Wo.Eras,Oo.Narrow);break;case"y":t=Zo(Xo.FullYear,1,0,!1,!0);break;case"yy":t=Zo(Xo.FullYear,2,0,!0,!0);break;case"yyy":t=Zo(Xo.FullYear,3,0,!1,!0);break;case"yyyy":t=Zo(Xo.FullYear,4,0,!1,!0);break;case"M":case"L":t=Zo(Xo.Month,1,1);break;case"MM":case"LL":t=Zo(Xo.Month,2,1);break;case"MMM":t=Qo(Wo.Months,Oo.Abbreviated);break;case"MMMM":t=Qo(Wo.Months,Oo.Wide);break;case"MMMMM":t=Qo(Wo.Months,Oo.Narrow);break;case"LLL":t=Qo(Wo.Months,Oo.Abbreviated,Eo.Standalone);break;case"LLLL":t=Qo(Wo.Months,Oo.Wide,Eo.Standalone);break;case"LLLLL":t=Qo(Wo.Months,Oo.Narrow,Eo.Standalone);break;case"w":t=tu(1);break;case"ww":t=tu(2);break;case"W":t=tu(1,!0);break;case"d":t=Zo(Xo.Date,1);break;case"dd":t=Zo(Xo.Date,2);break;case"E":case"EE":case"EEE":t=Qo(Wo.Days,Oo.Abbreviated);break;case"EEEE":t=Qo(Wo.Days,Oo.Wide);break;case"EEEEE":t=Qo(Wo.Days,Oo.Narrow);break;case"EEEEEE":t=Qo(Wo.Days,Oo.Short);break;case"a":case"aa":case"aaa":t=Qo(Wo.DayPeriods,Oo.Abbreviated);break;case"aaaa":t=Qo(Wo.DayPeriods,Oo.Wide);break;case"aaaaa":t=Qo(Wo.DayPeriods,Oo.Narrow);break;case"b":case"bb":case"bbb":t=Qo(Wo.DayPeriods,Oo.Abbreviated,Eo.Standalone,!0);break;case"bbbb":t=Qo(Wo.DayPeriods,Oo.Wide,Eo.Standalone,!0);break;case"bbbbb":t=Qo(Wo.DayPeriods,Oo.Narrow,Eo.Standalone,!0);break;case"B":case"BB":case"BBB":t=Qo(Wo.DayPeriods,Oo.Abbreviated,Eo.Format,!0);break;case"BBBB":t=Qo(Wo.DayPeriods,Oo.Wide,Eo.Format,!0);break;case"BBBBB":t=Qo(Wo.DayPeriods,Oo.Narrow,Eo.Format,!0);break;case"h":t=Zo(Xo.Hours,1,-12);break;case"hh":t=Zo(Xo.Hours,2,-12);break;case"H":t=Zo(Xo.Hours,1);break;case"HH":t=Zo(Xo.Hours,2);break;case"m":t=Zo(Xo.Minutes,1);break;case"mm":t=Zo(Xo.Minutes,2);break;case"s":t=Zo(Xo.Seconds,1);break;case"ss":t=Zo(Xo.Seconds,2);break;case"S":t=Zo(Xo.FractionalSeconds,1);break;case"SS":t=Zo(Xo.FractionalSeconds,2);break;case"SSS":t=Zo(Xo.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Jo(zo.Short);break;case"ZZZZZ":t=Jo(zo.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Jo(zo.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Jo(zo.Long);break;default:return null}return nu[e]=t,t}(e);u+=t?t(l,n,o):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}(new Date(e.year,e.month-1,e.day),"fullDate",this._locale)}}))(),Fg=(()=>(class{constructor(e,t){this._calendar=e,this._i18n=t,this._model$=new I,this._select$=new I,this._state={disabled:!1,displayMonths:1,firstDayOfWeek:1,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectBoxes:{years:[],months:[]},selectedDate:null}}get model$(){return this._model$.pipe(Nu(e=>e.months.length>0))}get select$(){return this._select$.pipe(Nu(e=>null!==e))}set dayTemplateData(e){this._state.dayTemplateData!==e&&this._nextState({dayTemplateData:e})}set disabled(e){this._state.disabled!==e&&this._nextState({disabled:e})}set displayMonths(e){rg(e=tg(e))&&e>0&&this._state.displayMonths!==e&&this._nextState({displayMonths:e})}set firstDayOfWeek(e){rg(e=tg(e))&&e>=0&&this._state.firstDayOfWeek!==e&&this._nextState({firstDayOfWeek:e})}set focusVisible(e){this._state.focusVisible===e||this._state.disabled||this._nextState({focusVisible:e})}set maxDate(e){const t=this.toValidDate(e,null);kg(this._state.maxDate,t)&&this._nextState({maxDate:t})}set markDisabled(e){this._state.markDisabled!==e&&this._nextState({markDisabled:e})}set minDate(e){const t=this.toValidDate(e,null);kg(this._state.minDate,t)&&this._nextState({minDate:t})}set navigation(e){this._state.navigation!==e&&this._nextState({navigation:e})}set outsideDays(e){this._state.outsideDays!==e&&this._nextState({outsideDays:e})}focus(e){!this._state.disabled&&this._calendar.isValid(e)&&kg(this._state.focusDate,e)&&this._nextState({focusDate:e})}focusMove(e,t){this.focus(this._calendar.getNext(this._state.focusDate,e,t))}focusSelect(){Mg(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(e){const t=this.toValidDate(e,this._calendar.getToday());this._state.disabled||this._state.firstDate&&!xg(this._state.firstDate,e)||this._nextState({firstDate:t})}select(e,t={}){const n=this.toValidDate(e,null);this._state.disabled||(kg(this._state.selectedDate,n)&&this._nextState({selectedDate:n}),t.emitEvent&&Mg(n,this._state)&&this._select$.next(n))}toValidDate(e,t){const n=bg.from(e);return void 0===t&&(t=this._calendar.getToday()),this._calendar.isValid(n)?n:t}_nextState(e){const t=this._updateState(e);this._patchContexts(t),this._state=t,this._model$.next(this._state)}_patchContexts(e){const{months:t,displayMonths:n,selectedDate:r,focusDate:l,focusVisible:s,disabled:i,outsideDays:o}=e;e.months.forEach(e=>{e.weeks.forEach(u=>{u.days.forEach(u=>{l&&(u.context.focused=l.equals(u.date)&&s),u.tabindex=!i&&u.date.equals(l)&&l.month===e.number?0:-1,!0===i&&(u.context.disabled=!0),void 0!==r&&(u.context.selected=null!==r&&r.equals(u.date)),e.number!==u.date.month&&(u.hidden="hidden"===o||"collapsed"===o||n>1&&u.date.after(t[0].firstDate)&&u.date.before(t[n-1].lastDate))})})})}_updateState(e){const t=Object.assign({},this._state,e);let n=t.firstDate;if(("minDate"in e||"maxDate"in e)&&(function(e,t){if(t&&e&&t.before(e))throw new Error(`'maxDate' ${t} should be greater than 'minDate' ${e}`)}(t.minDate,t.maxDate),t.focusDate=Ig(t.focusDate,t.minDate,t.maxDate),t.firstDate=Ig(t.firstDate,t.minDate,t.maxDate),n=t.focusDate),"disabled"in e&&(t.focusVisible=!1),"selectedDate"in e&&0===this._state.months.length&&(n=t.selectedDate),"focusVisible"in e)return t;if("focusDate"in e&&(t.focusDate=Ig(t.focusDate,t.minDate,t.maxDate),n=t.focusDate,0!==t.months.length&&!t.focusDate.before(t.firstDate)&&!t.focusDate.after(t.lastDate)))return t;if("firstDate"in e&&(t.firstDate=Ig(t.firstDate,t.minDate,t.maxDate),n=t.firstDate),n){const l=function(e,t,n,r,l){const{displayMonths:s,months:i}=n,o=i.splice(0,i.length);return Array.from({length:s},(n,r)=>{const s=e.getNext(t,"m",r);if(i[r]=null,!l){const e=o.findIndex(e=>e.firstDate.equals(s));-1!==e&&(i[r]=o.splice(e,1)[0])}return s}).forEach((t,l)=>{null===i[l]&&(i[l]=function(e,t,n,r,l={}){const{dayTemplateData:s,minDate:i,maxDate:o,firstDayOfWeek:u,markDisabled:a,outsideDays:c}=n,d=e.getToday();l.firstDate=null,l.lastDate=null,l.number=t.month,l.year=t.year,l.weeks=l.weeks||[],l.weekdays=l.weekdays||[],t=function(e,t,n){const r=e.getDaysPerWeek(),l=new bg(t.year,t.month,1),s=e.getWeekday(l)%r;return e.getPrev(l,"d",(r+s-n)%r)}(e,t,u);for(let h=0;h<e.getWeeksPerMonth();h++){let n=l.weeks[h];n||(n=l.weeks[h]={number:0,days:[],collapsed:!0});const f=n.days;for(let u=0;u<e.getDaysPerWeek();u++){0===h&&(l.weekdays[u]=e.getWeekday(t));const n=new bg(t.year,t.month,t.day),c=e.getNext(n),p=r.getDayAriaLabel(n);let g=!!(i&&n.before(i)||o&&n.after(o));!g&&a&&(g=a(n,{month:l.number,year:l.year}));let m=n.equals(d),v=s?s(n,{month:l.number,year:l.year}):void 0;null===l.firstDate&&n.month===l.number&&(l.firstDate=n),n.month===l.number&&c.month!==l.number&&(l.lastDate=n);let y=f[u];y||(y=f[u]={}),y.date=n,y.context=Object.assign(y.context||{},{$implicit:n,date:n,data:v,currentMonth:l.number,disabled:g,focused:!1,selected:!1,today:m}),y.tabindex=-1,y.ariaLabel=p,y.hidden=!1,t=c}n.number=e.getWeekNumber(f.map(e=>e.date),u),n.collapsed="collapsed"===c&&f[0].date.month!==l.number&&f[f.length-1].date.month!==l.number}return l}(e,t,n,r,o.shift()||{}))}),i}(this._calendar,n,t,this._i18n,"dayTemplateData"in e||"firstDayOfWeek"in e||"markDisabled"in e||"minDate"in e||"maxDate"in e||"disabled"in e||"outsideDays"in e);t.months=l,t.firstDate=l.length>0?l[0].firstDate:void 0,t.lastDate=l.length>0?l[l.length-1].lastDate:void 0,"selectedDate"in e&&!Mg(t.selectedDate,t)&&(t.selectedDate=null),"firstDate"in e&&(void 0===t.focusDate||t.focusDate.before(t.firstDate)||t.focusDate.after(t.lastDate))&&(t.focusDate=n);const s=!this._state.firstDate||this._state.firstDate.year!==t.firstDate.year,i=!this._state.firstDate||this._state.firstDate.month!==t.firstDate.month;"select"===t.navigation?(("minDate"in e||"maxDate"in e||0===t.selectBoxes.years.length||s)&&(t.selectBoxes.years=function(e,t,n){if(!e)return[];const r=t&&t.year||e.year-10;return Array.from({length:(n&&n.year||e.year+10)-r+1},(e,t)=>r+t)}(t.firstDate,t.minDate,t.maxDate)),("minDate"in e||"maxDate"in e||0===t.selectBoxes.months.length||s)&&(t.selectBoxes.months=function(e,t,n,r){if(!t)return[];let l=e.getMonths(t.year);if(n&&t.year===n.year){const e=l.findIndex(e=>e===n.month);l=l.slice(e)}if(r&&t.year===r.year){const e=l.findIndex(e=>e===r.month);l=l.slice(0,e+1)}return l}(this._calendar,t.firstDate,t.minDate,t.maxDate))):t.selectBoxes={years:[],months:[]},"arrows"!==t.navigation&&"select"!==t.navigation||!(i||s||"minDate"in e||"maxDate"in e||"disabled"in e)||(t.prevDisabled=t.disabled||function(e,n,r){const l=e.getPrev(t.firstDate,"m");return r&&(l.year===r.year&&l.month<r.month||l.year<r.year&&1===r.month)}(this._calendar,0,t.minDate),t.nextDisabled=t.disabled||(r=t.maxDate)&&this._calendar.getNext(t.lastDate,"m").after(r))}var r;return t}}))();const Tg=function(){var e={Tab:9,Enter:13,Escape:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40};return e[e.Tab]="Tab",e[e.Enter]="Enter",e[e.Escape]="Escape",e[e.Space]="Space",e[e.PageUp]="PageUp",e[e.PageDown]="PageDown",e[e.End]="End",e[e.Home]="Home",e[e.ArrowLeft]="ArrowLeft",e[e.ArrowUp]="ArrowUp",e[e.ArrowRight]="ArrowRight",e[e.ArrowDown]="ArrowDown",e}();let Ag=(()=>(class{constructor(e,t){this._service=e,this._calendar=t,e.model$.subscribe(e=>{this._minDate=e.minDate,this._maxDate=e.maxDate,this._firstViewDate=e.firstDate,this._lastViewDate=e.lastDate})}processKey(e){switch(e.which){case Tg.PageUp:this._service.focusMove(e.shiftKey?"y":"m",-1);break;case Tg.PageDown:this._service.focusMove(e.shiftKey?"y":"m",1);break;case Tg.End:this._service.focus(e.shiftKey?this._maxDate:this._lastViewDate);break;case Tg.Home:this._service.focus(e.shiftKey?this._minDate:this._firstViewDate);break;case Tg.ArrowLeft:this._service.focusMove("d",-1);break;case Tg.ArrowUp:this._service.focusMove("d",-this._calendar.getDaysPerWeek());break;case Tg.ArrowRight:this._service.focusMove("d",1);break;case Tg.ArrowDown:this._service.focusMove("d",this._calendar.getDaysPerWeek());break;case Tg.Enter:case Tg.Space:this._service.focusSelect();break;default:return}e.preventDefault(),e.stopPropagation()}}))();const Pg=function(){var e={PREV:0,NEXT:1};return e[e.PREV]="PREV",e[e.NEXT]="NEXT",e}();let qg=(()=>{class e{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekdays=!0,this.showWeekNumbers=!1}}return e.ngInjectableDef=pe({factory:function(){return new e},token:e,providedIn:"root"}),e})();function Ng(){return new jg}let Rg=(()=>{class e{}return e.ngInjectableDef=pe({factory:Ng,token:e,providedIn:"root"}),e})(),jg=(()=>(class extends Rg{fromModel(e){return e&&rg(e.year)&&rg(e.month)&&rg(e.day)?{year:e.year,month:e.month,day:e.day}:null}toModel(e){return e&&rg(e.year)&&rg(e.month)&&rg(e.day)?{year:e.year,month:e.month,day:e.day}:null}}))(),$g=(()=>(class{constructor(e,t,n,r,l,s,i,o,u){this._keyMapService=e,this._service=t,this._calendar=n,this.i18n=r,this._cd=s,this._elementRef=i,this._ngbDateAdapter=o,this._ngZone=u,this._destroyed$=new I,this.navigate=new Al,this.select=new Al,this.onChange=e=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekdays","showWeekNumbers","startDate"].forEach(e=>this[e]=l[e]),t.select$.pipe(Kp(this._destroyed$)).subscribe(e=>{this.select.emit(e)}),t.model$.pipe(Kp(this._destroyed$)).subscribe(e=>{const t=e.firstDate,n=this.model?this.model.firstDate:null;let r=!1;if(!t.equals(n)&&(this.navigate.emit({current:n?{year:n.year,month:n.month}:null,next:{year:t.year,month:t.month},preventDefault:()=>r=!0}),r&&null!==n))return void this._service.open(n);const l=e.selectedDate,i=e.focusDate,o=this.model?this.model.focusDate:null;this.model=e,kg(l,this._controlValue)&&(this._controlValue=l,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(l))),kg(i,o)&&o&&e.focusVisible&&this.focus(),s.markForCheck()})}focus(){this._ngZone.onStable.asObservable().pipe(ta(1)).subscribe(()=>{const e=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');e&&e.focus()})}navigateTo(e){this._service.open(bg.from(e?e.day?e:Object.assign({},e,{day:1}):null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{J(zp(this._monthsEl.nativeElement,"focusin"),zp(this._monthsEl.nativeElement,"focusout")).pipe(Nu(({target:e,relatedTarget:t})=>!(sg(e,"ngb-dp-day")&&sg(t,"ngb-dp-day"))),Kp(this._destroyed$)).subscribe(({type:e})=>this._ngZone.run(()=>this._service.focusVisible="focusin"===e))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){void 0===this.model&&(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays"].forEach(e=>this._service[e]=this[e]),this.navigateTo(this.startDate))}ngOnChanges(e){if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays"].filter(t=>t in e).forEach(e=>this._service[e]=this[e]),"startDate"in e){const{currentValue:t,previousValue:n}=e.startDate;xg(n,t)&&this.navigateTo(this.startDate)}}onDateSelect(e){this._service.focus(e),this._service.select(e,{emitEvent:!0})}onKeyDown(e){this._keyMapService.processKey(e)}onNavigateDateSelect(e){this._service.open(e)}onNavigateEvent(e){switch(e){case Pg.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case Pg.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._service.disabled=e}writeValue(e){this._controlValue=bg.from(this._ngbDateAdapter.fromModel(e)),this._service.select(this._controlValue)}}))(),Vg=(()=>(class{constructor(e){this.i18n=e,this.select=new Al}doSelect(e){e.context.disabled||e.hidden||this.select.emit(e.date)}}))(),Lg=(()=>(class{constructor(e){this.i18n=e,this.navigation=Pg,this.months=[],this.navigate=new Al,this.select=new Al}}))();"undefined"!=typeof navigator&&navigator.userAgent&&navigator;const Bg=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Ug(e){const t=Array.from(e.querySelectorAll(Bg)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}const Hg=(e,t,n=!1)=>{const r=zp(e,"focusin").pipe(Kp(t),B(e=>e.target));zp(e,"keydown").pipe(Kp(t),Nu(e=>e.which===Tg.Tab),Jp(r)).subscribe(([t,n])=>{const[r,l]=Ug(e);n!==r&&n!==e||!t.shiftKey||(l.focus(),t.preventDefault()),n!==l||t.shiftKey||(r.focus(),t.preventDefault())}),n&&zp(e,"click").pipe(Kp(t),Jp(r),B(e=>e[1])).subscribe(e=>e.focus())};let zg=(()=>(class{constructor(e){this.i18n=e}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}))(),Xg=(()=>(class{constructor(e){this.i18n=e,this.select=new Al}changeMonth(e){this.select.emit(new bg(this.date.year,tg(e),1))}changeYear(e){this.select.emit(new bg(tg(e),this.date.month,1))}}))(),Wg=(()=>(class{}))(),Gg=(()=>(class{}))(),Kg=(()=>(class{}))(),Zg=(()=>{class e{constructor(){this.backdrop=!0,this.keyboard=!0}}return e.ngInjectableDef=pe({factory:function(){return new e},token:e,providedIn:"root"}),e})();class Qg{constructor(e,t,n){this.nodes=e,this.viewRef=t,this.componentRef=n}}const Jg=()=>{};let Yg=(()=>{class e{constructor(e){this._document=e}compensate(){return this._isPresent()?this._adjustBody(this._getWidth()):Jg}_adjustBody(e){const t=this._document.body,n=t.style.paddingRight,r=parseFloat(window.getComputedStyle(t)["padding-right"]);return t.style["padding-right"]=`${r+e}px`,()=>t.style["padding-right"]=n}_isPresent(){const e=this._document.body.getBoundingClientRect();return e.left+e.right<window.innerWidth}_getWidth(){const e=this._document.createElement("div");e.className="modal-scrollbar-measure";const t=this._document.body;t.appendChild(e);const n=e.getBoundingClientRect().width-e.clientWidth;return t.removeChild(e),n}}return e.ngInjectableDef=pe({factory:function(){return new e(je(_u))},token:e,providedIn:"root"}),e})(),em=(()=>(class{}))();class tm{close(e){}dismiss(e){}}class nm{constructor(e,t,n,r){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=n,this._beforeDismiss=r,e.instance.dismissEvent.subscribe(e=>{this.dismiss(e)}),this.result=new Promise((e,t)=>{this._resolve=e,this._reject=t}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef.componentRef)return this._contentRef.componentRef.instance}close(e){this._windowCmptRef&&(this._resolve(e),this._removeModalElements())}_dismiss(e){this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();t&&t.then?t.then(t=>{!1!==t&&this._dismiss(e)},()=>{}):!1!==t&&this._dismiss(e)}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.location.nativeElement;if(e.parentNode.removeChild(e),this._windowCmptRef.destroy(),this._backdropCmptRef){const e=this._backdropCmptRef.location.nativeElement;e.parentNode.removeChild(e),this._backdropCmptRef.destroy()}this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._backdropCmptRef=null,this._contentRef=null}}const rm=function(){var e={BACKDROP_CLICK:0,ESC:1};return e[e.BACKDROP_CLICK]="BACKDROP_CLICK",e[e.ESC]="ESC",e}();let lm=(()=>(class{constructor(e,t){this._document=e,this._elRef=t,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Al}backdropClick(e){!0===this.backdrop&&this._elRef.nativeElement===e.target&&this.dismiss(rm.BACKDROP_CLICK)}escKey(e){this.keyboard&&!e.defaultPrevented&&this.dismiss(rm.ESC)}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement}ngAfterViewInit(){if(!this._elRef.nativeElement.contains(document.activeElement)){const e=this._elRef.nativeElement.querySelector("[ngbAutofocus]"),t=Ug(this._elRef.nativeElement)[0];(e||t||this._elRef.nativeElement).focus()}}ngOnDestroy(){const e=this._document.body,t=this._elWithFocus;let n;(n=t&&t.focus&&e.contains(t)?t:e).focus(),this._elWithFocus=null}}))(),sm=(()=>{class e{constructor(e,t,n,r,l){this._applicationRef=e,this._injector=t,this._document=n,this._scrollBar=r,this._rendererFactory=l,this._activeWindowCmptHasChanged=new I,this._ariaHiddenValues=new Map,this._backdropAttributes=["backdropClass"],this._modalRefs=[],this._windowAttributes=["ariaLabelledBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const e=this._windowCmpts[this._windowCmpts.length-1];Hg(e.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(e.location.nativeElement)}})}open(e,t,n,r){const l=lg(r.container)?this._document.querySelector(r.container):this._document.body,s=this._rendererFactory.createRenderer(null,null),i=this._scrollBar.compensate(),o=()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!l)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);const u=new tm,a=this._getContentRef(e,r.injector||t,n,u,r);let c=!1!==r.backdrop?this._attachBackdrop(e,l):null,d=this._attachWindowComponent(e,l,a),h=new nm(d,a,c,r.beforeDismiss);return this._registerModalRef(h),this._registerWindowCmpt(d),h.result.then(i,i),h.result.then(o,o),u.close=e=>{h.close(e)},u.dismiss=e=>{h.dismiss(e)},this._applyWindowOptions(d.instance,r),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),c&&c.instance&&this._applyBackdropOptions(c.instance,r),h}dismissAll(e){this._modalRefs.forEach(t=>t.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,t){let n=e.resolveComponentFactory(em).create(this._injector);return this._applicationRef.attachView(n.hostView),t.appendChild(n.location.nativeElement),n}_attachWindowComponent(e,t,n){let r=e.resolveComponentFactory(lm).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_applyWindowOptions(e,t){this._windowAttributes.forEach(n=>{lg(t[n])&&(e[n]=t[n])})}_applyBackdropOptions(e,t){this._backdropAttributes.forEach(n=>{lg(t[n])&&(e[n]=t[n])})}_getContentRef(e,t,n,r,l){return n?n instanceof Tn?this._createFromTemplateRef(n,r):"string"==typeof n?this._createFromString(n):this._createFromComponent(e,t,n,r,l):new Qg([])}_createFromTemplateRef(e,t){const n=e.createEmbeddedView({$implicit:t,close(e){t.close(e)},dismiss(e){t.dismiss(e)}});return this._applicationRef.attachView(n),new Qg([n.rootNodes],n)}_createFromString(e){const t=this._document.createTextNode(`${e}`);return new Qg([[t]])}_createFromComponent(e,t,n,r,l){const s=e.resolveComponentFactory(n),i=Ue.create({providers:[{provide:tm,useValue:r}],parent:t}),o=s.create(i),u=o.location.nativeElement;return l.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(o.hostView),new Qg([[u]],o.hostView,o)}_setAriaHidden(e){const t=e.parentElement;t&&e!==this._document.body&&(Array.from(t.children).forEach(t=>{t!==e&&"SCRIPT"!==t.nodeName&&(this._ariaHiddenValues.set(t,t.getAttribute("aria-hidden")),t.setAttribute("aria-hidden","true"))}),this._setAriaHidden(t))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,t)=>{e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const t=()=>{const t=this._modalRefs.indexOf(e);t>-1&&this._modalRefs.splice(t,1)};this._modalRefs.push(e),e.result.then(t,t)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const t=this._windowCmpts.indexOf(e);t>-1&&(this._windowCmpts.splice(t,1),this._activeWindowCmptHasChanged.next())})}}return e.ngInjectableDef=pe({factory:function(){return new e(je(xs),je(Ie),je(_u),je(Yg),je(an))},token:e,providedIn:"root"}),e})(),im=(()=>{class e{constructor(e,t,n,r){this._moduleCFR=e,this._injector=t,this._modalStack=n,this._config=r}open(e,t={}){const n=Object.assign({},this._config,t);return this._modalStack.open(this._moduleCFR,this._injector,e,n)}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return e.ngInjectableDef=pe({factory:function(){return new e(je(Yt),je(Ie),je(sm),je(Zg))},token:e,providedIn:"root"}),e})(),om=(()=>(class{}))(),um=(()=>(class{}))(),am=(()=>(class{isTitleTemplate(){return this.title instanceof Tn}}))(),cm=(()=>(class{}))(),dm=(()=>(class{}))(),hm=(()=>(class{}))(),fm=(()=>(class{}))(),pm=(()=>(class{}))(),gm=(()=>(class{}))(),mm=(()=>(class{}))(),vm=(()=>(class{}))(),ym=(()=>(class{constructor(){this.highlightClass="ngb-highlight"}ngOnChanges(e){const t=ng(this.result),n=(Array.isArray(this.term)?this.term:[this.term]).map(e=>(function(t){return ng(e).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")})()).filter(e=>e);this.parts=n.length?t.split(new RegExp(`(${n.join("|")})`,"gmi")):[t]}}))(),bm=(()=>(class{constructor(){this.activeIdx=0,this.focusFirst=!0,this.formatter=ng,this.selectEvent=new Al,this.activeChangeEvent=new Al}hasActive(){return this.activeIdx>-1&&this.activeIdx<this.results.length}getActive(){return this.results[this.activeIdx]}markActive(e){this.activeIdx=e,this._activeChanged()}next(){this.activeIdx===this.results.length-1?this.activeIdx=this.focusFirst?(this.activeIdx+1)%this.results.length:-1:this.activeIdx++,this._activeChanged()}prev(){this.activeIdx<0?this.activeIdx=this.results.length-1:0===this.activeIdx?this.activeIdx=this.focusFirst?this.results.length-1:-1:this.activeIdx--,this._activeChanged()}resetActive(){this.activeIdx=this.focusFirst?0:-1,this._activeChanged()}select(e){this.selectEvent.emit(e)}ngOnInit(){this.resetActive()}_activeChanged(){this.activeChangeEvent.emit(this.activeIdx>=0?this.id+"-"+this.activeIdx:void 0)}}))(),_m=(()=>(class{}))(),wm=(()=>(class{}))();var Dm=Jn({encapsulation:2,styles:["ngb-alert{display:block}"],data:{}});function Sm(e){return ci(0,[(e()(),Xs(0,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.closeHandler()&&r),r},null,null)),(e()(),Xs(1,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),oi(-1,null,["\xd7"]))],null,null)}function Cm(e){return ci(2,[ni(null,0),(e()(),zs(16777216,null,null,1,null,Sm)),cl(2,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,t.component.dismissible)},null)}function km(e){return ci(0,[(e()(),Xs(0,0,null,null,1,"ngb-alert",[["class","alert"],["role","alert"]],[[2,"alert-dismissible",null]],null,null,Cm,Dm)),cl(1,638976,null,0,ug,[og,dn,sn],null,null)],function(e,t){e(t,1,0)},function(e,t){e(t,0,0,Qr(t,1).dismissible)})}var xm=Vr("ngb-alert",ug,km,{dismissible:"dismissible",type:"type"},{close:"close"},["*"]),Im=Jn({encapsulation:2,styles:[],data:{}});function Mm(e){return ci(0,[(e()(),Xs(0,0,null,null,0,"li",[],[[8,"id",0],[2,"active",null]],[[null,"click"]],function(e,t,n){var r=!0,l=e.component;return"click"===t&&(r=!1!==l.select(e.context.$implicit.id,l.NgbSlideEventSource.INDICATOR)&&r),r},null,null))],null,function(e,t){e(t,0,0,t.context.$implicit.id,t.context.$implicit.id===t.component.activeId)})}function Em(e){return ci(0,[(e()(),Xs(0,0,null,null,2,"ol",[["class","carousel-indicators"]],null,null,null,null,null)),(e()(),zs(16777216,null,null,1,null,Mm)),cl(2,278528,null,0,fu,[Pn,Tn,kn],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.component.slides)},null)}function Om(e){return ci(0,[(e()(),zs(0,null,null,0))],null,null)}function Fm(e){return ci(0,[(e()(),Xs(0,0,null,null,2,"div",[["class","carousel-item"]],[[2,"active",null]],null,null,null,null)),(e()(),zs(16777216,null,null,1,null,Om)),cl(2,540672,null,0,yu,[Pn],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null)],function(e,t){e(t,2,0,t.context.$implicit.tplRef)},function(e,t){e(t,0,0,t.context.$implicit.id===t.component.activeId)})}function Tm(e){return ci(0,[(e()(),Xs(0,0,null,null,3,"a",[["class","carousel-control-prev"],["role","button"]],null,[[null,"click"]],function(e,t,n){var r=!0,l=e.component;return"click"===t&&(r=!1!==l.prev(l.NgbSlideEventSource.ARROW_LEFT)&&r),r},null,null)),(e()(),Xs(1,0,null,null,0,"span",[["aria-hidden","true"],["class","carousel-control-prev-icon"]],null,null,null,null,null)),(e()(),Xs(2,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(e()(),oi(-1,null,["Previous"]))],null,null)}function Am(e){return ci(0,[(e()(),Xs(0,0,null,null,3,"a",[["class","carousel-control-next"],["role","button"]],null,[[null,"click"]],function(e,t,n){var r=!0,l=e.component;return"click"===t&&(r=!1!==l.next(l.NgbSlideEventSource.ARROW_RIGHT)&&r),r},null,null)),(e()(),Xs(1,0,null,null,0,"span",[["aria-hidden","true"],["class","carousel-control-next-icon"]],null,null,null,null,null)),(e()(),Xs(2,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(e()(),oi(-1,null,["Next"]))],null,null)}function Pm(e){return ci(2,[(e()(),zs(16777216,null,null,1,null,Em)),cl(1,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(e()(),Xs(2,0,null,null,2,"div",[["class","carousel-inner"]],null,null,null,null,null)),(e()(),zs(16777216,null,null,1,null,Fm)),cl(4,278528,null,0,fu,[Pn,Tn,kn],{ngForOf:[0,"ngForOf"]},null),(e()(),zs(16777216,null,null,1,null,Tm)),cl(6,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(e()(),zs(16777216,null,null,1,null,Am)),cl(8,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,1,0,n.showNavigationIndicators),e(t,4,0,n.slides),e(t,6,0,n.showNavigationArrows),e(t,8,0,n.showNavigationArrows)},null)}var qm=Jn({encapsulation:2,styles:["ngb-datepicker-month-view{display:block}.ngb-dp-week-number,.ngb-dp-weekday{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:#5bc0de;color:var(--info)}.ngb-dp-week{border-radius:.25rem;display:-ms-flexbox;display:flex}.ngb-dp-weekdays{border-bottom:1px solid rgba(0,0,0,.125);border-radius:0}.ngb-dp-day,.ngb-dp-week-number,.ngb-dp-weekday{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default}"],data:{}});function Nm(e){return ci(0,[(e()(),Xs(0,0,null,null,0,"div",[["class","ngb-dp-weekday ngb-dp-showweek"]],null,null,null,null,null))],null,null)}function Rm(e){return ci(0,[(e()(),Xs(0,0,null,null,1,"div",[["class","ngb-dp-weekday small"]],null,null,null,null,null)),(e()(),oi(1,null,[" "," "]))],null,function(e,t){e(t,1,0,t.component.i18n.getWeekdayShortName(t.context.$implicit))})}function jm(e){return ci(0,[(e()(),Xs(0,0,null,null,4,"div",[["class","ngb-dp-week ngb-dp-weekdays bg-light"]],null,null,null,null,null)),(e()(),zs(16777216,null,null,1,null,Nm)),cl(2,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(e()(),zs(16777216,null,null,1,null,Rm)),cl(4,278528,null,0,fu,[Pn,Tn,kn],{ngForOf:[0,"ngForOf"]},null)],function(e,t){var n=t.component;e(t,2,0,n.showWeekNumbers),e(t,4,0,n.month.weekdays)},null)}function $m(e){return ci(0,[(e()(),Xs(0,0,null,null,1,"div",[["class","ngb-dp-week-number small text-muted"]],null,null,null,null,null)),(e()(),oi(1,null,["",""]))],null,function(e,t){e(t,1,0,t.component.i18n.getWeekNumerals(t.parent.parent.context.$implicit.number))})}function Vm(e){return ci(0,[(e()(),zs(0,null,null,0))],null,null)}function Lm(e){return ci(0,[(e()(),zs(16777216,null,null,1,null,Vm)),cl(1,540672,null,0,yu,[Pn],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),(e()(),zs(0,null,null,0))],function(e,t){e(t,1,0,t.parent.context.$implicit.context,t.component.dayTemplate)},null)}function Bm(e){return ci(0,[(e()(),Xs(0,0,null,null,2,"div",[["class","ngb-dp-day"],["role","gridcell"]],[[2,"disabled",null],[8,"tabIndex",0],[2,"hidden",null],[2,"ngb-dp-today",null],[1,"aria-label",0]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.doSelect(e.context.$implicit)&&r),r},null,null)),(e()(),zs(16777216,null,null,1,null,Lm)),cl(2,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,!t.context.$implicit.hidden)},function(e,t){e(t,0,0,t.context.$implicit.context.disabled,t.context.$implicit.tabindex,t.context.$implicit.hidden,t.context.$implicit.context.today,t.context.$implicit.ariaLabel)})}function Um(e){return ci(0,[(e()(),Xs(0,0,null,null,4,"div",[["class","ngb-dp-week"],["role","row"]],null,null,null,null,null)),(e()(),zs(16777216,null,null,1,null,$m)),cl(2,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(e()(),zs(16777216,null,null,1,null,Bm)),cl(4,278528,null,0,fu,[Pn,Tn,kn],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.component.showWeekNumbers),e(t,4,0,t.parent.context.$implicit.days)},null)}function Hm(e){return ci(0,[(e()(),zs(16777216,null,null,1,null,Um)),cl(1,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(e()(),zs(0,null,null,0))],function(e,t){e(t,1,0,!t.context.$implicit.collapsed)},null)}function zm(e){return ci(0,[(e()(),zs(16777216,null,null,1,null,jm)),cl(1,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(e()(),zs(16777216,null,null,1,null,Hm)),cl(3,278528,null,0,fu,[Pn,Tn,kn],{ngForOf:[0,"ngForOf"]},null)],function(e,t){var n=t.component;e(t,1,0,n.showWeekdays),e(t,3,0,n.month.weeks)},null)}var Xm=Jn({encapsulation:2,styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:0 0}[ngbDatepickerDayView].outside{opacity:.5}"],data:{}});function Wm(e){return ci(2,[(e()(),oi(0,null,["",""]))],null,function(e,t){var n=t.component;e(t,0,0,n.i18n.getDayNumerals(n.date))})}var Gm=Jn({encapsulation:2,styles:["ngb-datepicker-navigation{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;-webkit-transform:rotate(-135deg);transform:rotate(-135deg)}.right .ngb-dp-navigation-chevron{-webkit-transform:rotate(45deg);transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{-ms-flex-pack:end;justify-content:flex-end}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:-ms-flexbox;display:flex;-ms-flex:1 1 9rem;flex:1 1 9rem}"],data:{}});function Km(e){return ci(0,[(e()(),Xs(0,0,null,null,1,"ngb-datepicker-navigation-select",[["class","ngb-dp-navigation-select"]],null,[[null,"select"]],function(e,t,n){var r=!0;return"select"===t&&(r=!1!==e.component.select.emit(n)&&r),r},lv,tv)),cl(1,49152,null,0,Xg,[Eg],{date:[0,"date"],disabled:[1,"disabled"],months:[2,"months"],years:[3,"years"]},{select:"select"})],function(e,t){var n=t.component;e(t,1,0,n.date,n.disabled,n.selectBoxes.months,n.selectBoxes.years)},null)}function Zm(e){return ci(0,[(e()(),Xs(0,0,null,null,0,"div",[["class","ngb-dp-arrow"]],null,null,null,null,null))],null,null)}function Qm(e){return ci(0,[(e()(),Xs(0,0,null,null,0,"div",[["class","ngb-dp-arrow"]],null,null,null,null,null))],null,null)}function Jm(e){return ci(0,[(e()(),zs(16777216,null,null,1,null,Zm)),cl(1,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(e()(),Xs(2,0,null,null,1,"div",[["class","ngb-dp-month-name"]],null,null,null,null,null)),(e()(),oi(3,null,[" "," "," "])),(e()(),zs(16777216,null,null,1,null,Qm)),cl(5,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(e()(),zs(0,null,null,0))],function(e,t){var n=t.component;e(t,1,0,t.context.index>0),e(t,5,0,t.context.index!==n.months.length-1)},function(e,t){var n=t.component;e(t,3,0,n.i18n.getMonthFullName(t.context.$implicit.number,t.context.$implicit.year),n.i18n.getYearNumerals(t.context.$implicit.year))})}function Ym(e){return ci(0,[(e()(),zs(16777216,null,null,1,null,Jm)),cl(1,278528,null,0,fu,[Pn,Tn,kn],{ngForOf:[0,"ngForOf"]},null),(e()(),zs(0,null,null,0))],function(e,t){e(t,1,0,t.component.months)},null)}function ev(e){return ci(2,[(e()(),Xs(0,0,null,null,2,"div",[["class","ngb-dp-arrow"]],null,null,null,null,null)),(e()(),Xs(1,0,null,null,1,"button",[["aria-label","Previous month"],["class","btn btn-link ngb-dp-arrow-btn"],["title","Previous month"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(e,t,n){var r=!0,l=e.component;return"click"===t&&(r=!1!==l.navigate.emit(l.navigation.PREV)&&r),r},null,null)),(e()(),Xs(2,0,null,null,0,"span",[["class","ngb-dp-navigation-chevron"]],null,null,null,null,null)),(e()(),zs(16777216,null,null,1,null,Km)),cl(4,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(e()(),zs(16777216,null,null,1,null,Ym)),cl(6,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(e()(),Xs(7,0,null,null,2,"div",[["class","ngb-dp-arrow right"]],null,null,null,null,null)),(e()(),Xs(8,0,null,null,1,"button",[["aria-label","Next month"],["class","btn btn-link ngb-dp-arrow-btn"],["title","Next month"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(e,t,n){var r=!0,l=e.component;return"click"===t&&(r=!1!==l.navigate.emit(l.navigation.NEXT)&&r),r},null,null)),(e()(),Xs(9,0,null,null,0,"span",[["class","ngb-dp-navigation-chevron"]],null,null,null,null,null))],function(e,t){var n=t.component;e(t,4,0,n.showSelect),e(t,6,0,!n.showSelect)},function(e,t){var n=t.component;e(t,1,0,n.prevDisabled),e(t,8,0,n.nextDisabled)})}var tv=Jn({encapsulation:2,styles:["ngb-datepicker-navigation-select>.custom-select{-ms-flex:1 1 auto;flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}"],data:{}});function nv(e){return ci(0,[(e()(),Xs(0,0,null,null,3,"option",[],[[1,"aria-label",0]],null,null,null,null)),cl(1,147456,null,0,ep,[sn,dn,[8,null]],{value:[0,"value"]},null),cl(2,147456,null,0,rp,[sn,dn,[8,null]],{value:[0,"value"]},null),(e()(),oi(3,null,["",""]))],function(e,t){e(t,1,0,t.context.$implicit),e(t,2,0,t.context.$implicit)},function(e,t){var n=t.component;e(t,0,0,n.i18n.getMonthFullName(t.context.$implicit,null==n.date?null:n.date.year)),e(t,3,0,n.i18n.getMonthShortName(t.context.$implicit,null==n.date?null:n.date.year))})}function rv(e){return ci(0,[(e()(),Xs(0,0,null,null,3,"option",[],null,null,null,null,null)),cl(1,147456,null,0,ep,[sn,dn,[8,null]],{value:[0,"value"]},null),cl(2,147456,null,0,rp,[sn,dn,[8,null]],{value:[0,"value"]},null),(e()(),oi(3,null,["",""]))],function(e,t){e(t,1,0,t.context.$implicit),e(t,2,0,t.context.$implicit)},function(e,t){e(t,3,0,t.component.i18n.getYearNumerals(t.context.$implicit))})}function lv(e){return ci(2,[(e()(),Xs(0,0,null,null,2,"select",[["aria-label","Select month"],["class","custom-select"],["title","Select month"]],[[8,"disabled",0],[8,"value",0]],[[null,"change"]],function(e,t,n){var r=!0;return"change"===t&&(r=!1!==e.component.changeMonth(n.target.value)&&r),r},null,null)),(e()(),zs(16777216,null,null,1,null,nv)),cl(2,278528,null,0,fu,[Pn,Tn,kn],{ngForOf:[0,"ngForOf"]},null),(e()(),Xs(3,0,null,null,2,"select",[["aria-label","Select year"],["class","custom-select"],["title","Select year"]],[[8,"disabled",0],[8,"value",0]],[[null,"change"]],function(e,t,n){var r=!0;return"change"===t&&(r=!1!==e.component.changeYear(n.target.value)&&r),r},null,null)),(e()(),zs(16777216,null,null,1,null,rv)),cl(5,278528,null,0,fu,[Pn,Tn,kn],{ngForOf:[0,"ngForOf"]},null)],function(e,t){var n=t.component;e(t,2,0,n.months),e(t,5,0,n.years)},function(e,t){var n=t.component;e(t,0,0,n.disabled,null==n.date?null:n.date.month),e(t,3,0,n.disabled,null==n.date?null:n.date.year)})}var sv=Jn({encapsulation:2,styles:["ngb-datepicker{border:1px solid #dfdfdf;border-radius:.25rem;display:inline-block}ngb-datepicker-month-view{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}.ngb-dp-body{z-index:1050}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:#f8f9fa}.ngb-dp-months{display:-ms-flexbox;display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:#f8f9fa}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}"],data:{}});function iv(e){return ci(0,[(e()(),Xs(0,0,null,null,1,"div",[["class","btn-light"],["ngbDatepickerDayView",""]],[[2,"bg-primary",null],[2,"text-white",null],[2,"text-muted",null],[2,"outside",null],[2,"active",null]],null,null,Wm,Xm)),cl(1,49152,null,0,zg,[Eg],{currentMonth:[0,"currentMonth"],date:[1,"date"],disabled:[2,"disabled"],focused:[3,"focused"],selected:[4,"selected"]},null)],function(e,t){e(t,1,0,t.context.currentMonth,t.context.date,t.context.disabled,t.context.focused,t.context.selected)},function(e,t){e(t,0,0,Qr(t,1).selected,Qr(t,1).selected,Qr(t,1).isMuted(),Qr(t,1).isMuted(),Qr(t,1).focused)})}function ov(e){return ci(0,[(e()(),Xs(0,0,null,null,1,"ngb-datepicker-navigation",[],null,[[null,"navigate"],[null,"select"]],function(e,t,n){var r=!0,l=e.component;return"navigate"===t&&(r=!1!==l.onNavigateEvent(n)&&r),"select"===t&&(r=!1!==l.onNavigateDateSelect(n)&&r),r},ev,Gm)),cl(1,49152,null,0,Lg,[Eg],{date:[0,"date"],disabled:[1,"disabled"],months:[2,"months"],showSelect:[3,"showSelect"],prevDisabled:[4,"prevDisabled"],nextDisabled:[5,"nextDisabled"],selectBoxes:[6,"selectBoxes"]},{navigate:"navigate",select:"select"})],function(e,t){var n=t.component;e(t,1,0,n.model.firstDate,n.model.disabled,n.model.months,"select"===n.model.navigation,n.model.prevDisabled,n.model.nextDisabled,n.model.selectBoxes)},null)}function uv(e){return ci(0,[(e()(),Xs(0,0,null,null,1,"div",[["class","ngb-dp-month-name"]],null,null,null,null,null)),(e()(),oi(1,null,[" "," "," "]))],null,function(e,t){var n=t.component;e(t,1,0,n.i18n.getMonthFullName(t.parent.context.$implicit.number,t.parent.context.$implicit.year),n.i18n.getYearNumerals(t.parent.context.$implicit.year))})}function av(e){return ci(0,[(e()(),Xs(0,0,null,null,4,"div",[["class","ngb-dp-month"]],null,null,null,null,null)),(e()(),zs(16777216,null,null,1,null,uv)),cl(2,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(e()(),Xs(3,0,null,null,1,"ngb-datepicker-month-view",[["role","grid"]],null,[[null,"select"]],function(e,t,n){var r=!0;return"select"===t&&(r=!1!==e.component.onDateSelect(n)&&r),r},zm,qm)),cl(4,49152,null,0,Vg,[Eg],{dayTemplate:[0,"dayTemplate"],month:[1,"month"],showWeekdays:[2,"showWeekdays"],showWeekNumbers:[3,"showWeekNumbers"]},{select:"select"})],function(e,t){var n=t.component;e(t,2,0,"none"===n.navigation||n.displayMonths>1&&"select"===n.navigation),e(t,4,0,n.dayTemplate||Qr(t.parent,1),t.context.$implicit,n.showWeekdays,n.showWeekNumbers)},null)}function cv(e){return ci(0,[(e()(),zs(0,null,null,0))],null,null)}function dv(e){return ci(2,[Qs(402653184,1,{_monthsEl:0}),(e()(),zs(0,[["dt",2]],null,0,null,iv)),(e()(),Xs(2,0,null,null,2,"div",[["class","ngb-dp-header"]],null,null,null,null,null)),(e()(),zs(16777216,null,null,1,null,ov)),cl(4,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(e()(),Xs(5,0,[[1,0],["months",1]],null,2,"div",[["class","ngb-dp-months"]],null,[[null,"keydown"]],function(e,t,n){var r=!0;return"keydown"===t&&(r=!1!==e.component.onKeyDown(n)&&r),r},null,null)),(e()(),zs(16777216,null,null,1,null,av)),cl(7,278528,null,0,fu,[Pn,Tn,kn],{ngForOf:[0,"ngForOf"]},null),(e()(),zs(16777216,null,null,1,null,cv)),cl(9,540672,null,0,yu,[Pn],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null)],function(e,t){var n=t.component;e(t,4,0,"none"!==n.navigation),e(t,7,0,n.model.months),e(t,9,0,n.footerTemplate)},null)}function hv(e){return ci(0,[(e()(),Xs(0,0,null,null,4,"ngb-datepicker",[],null,null,null,dv,sv)),dl(5120,null,If,function(e){return[e]},[$g]),dl(512,null,Fg,Fg,[Sg,Eg]),dl(512,null,Ag,Ag,[Fg,Sg]),cl(4,4964352,null,0,$g,[Ag,Fg,Sg,Eg,qg,In,sn,Rg,os],null,null)],function(e,t){e(t,4,0)},null)}var fv=Vr("ngb-datepicker",$g,hv,{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekdays:"showWeekdays",showWeekNumbers:"showWeekNumbers",startDate:"startDate"},{navigate:"navigate",select:"select"},[]),pv=Jn({encapsulation:2,styles:["ngb-popover-window.bs-popover-bottom>.arrow,ngb-popover-window.bs-popover-top>.arrow{left:50%;margin-left:-.5rem}ngb-popover-window.bs-popover-bottom-left>.arrow,ngb-popover-window.bs-popover-top-left>.arrow{left:2em}ngb-popover-window.bs-popover-bottom-right>.arrow,ngb-popover-window.bs-popover-top-right>.arrow{left:auto;right:2em}ngb-popover-window.bs-popover-left>.arrow,ngb-popover-window.bs-popover-right>.arrow{top:50%;margin-top:-.5rem}ngb-popover-window.bs-popover-left-top>.arrow,ngb-popover-window.bs-popover-right-top>.arrow{top:.7em}ngb-popover-window.bs-popover-left-bottom>.arrow,ngb-popover-window.bs-popover-right-bottom>.arrow{top:auto;bottom:.7em}"],data:{}});function gv(e){return ci(0,[(e()(),oi(0,null,["",""]))],null,function(e,t){e(t,0,0,t.component.title)})}function mv(e){return ci(0,[(e()(),zs(0,null,null,0))],null,null)}function vv(e){return ci(0,[(e()(),Xs(0,0,null,null,3,"h3",[["class","popover-header"]],null,null,null,null,null)),(e()(),zs(0,[["simpleTitle",2]],null,0,null,gv)),(e()(),zs(16777216,null,null,1,null,mv)),cl(3,540672,null,0,yu,[Pn],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null)],function(e,t){var n=t.component;e(t,3,0,n.context,n.isTitleTemplate()?n.title:Qr(t,1))},null)}function yv(e){return ci(2,[(e()(),Xs(0,0,null,null,0,"div",[["class","arrow"]],null,null,null,null,null)),(e()(),zs(16777216,null,null,1,null,vv)),cl(2,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(e()(),Xs(3,0,null,null,1,"div",[["class","popover-body"]],null,null,null,null,null)),ni(null,0)],function(e,t){e(t,2,0,null!=t.component.title)},null)}function bv(e){return ci(0,[(e()(),Xs(0,0,null,null,1,"ngb-popover-window",[["role","tooltip"]],[[8,"className",0],[8,"id",0]],null,null,yv,pv)),cl(1,49152,null,0,am,[],null,null)],null,function(e,t){e(t,0,0,"popover"+(Qr(t,1).popoverClass?" "+Qr(t,1).popoverClass:""),Qr(t,1).id)})}var _v=Vr("ngb-popover-window",am,bv,{title:"title",id:"id",popoverClass:"popoverClass",context:"context"},{},["*"]),wv=Jn({encapsulation:2,styles:["ngb-tooltip-window.bs-tooltip-bottom .arrow,ngb-tooltip-window.bs-tooltip-top .arrow{left:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-bottom-left .arrow,ngb-tooltip-window.bs-tooltip-top-left .arrow{left:1em}ngb-tooltip-window.bs-tooltip-bottom-right .arrow,ngb-tooltip-window.bs-tooltip-top-right .arrow{left:auto;right:.8rem}ngb-tooltip-window.bs-tooltip-left .arrow,ngb-tooltip-window.bs-tooltip-right .arrow{top:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-left-top .arrow,ngb-tooltip-window.bs-tooltip-right-top .arrow{top:.4rem}ngb-tooltip-window.bs-tooltip-left-bottom .arrow,ngb-tooltip-window.bs-tooltip-right-bottom .arrow{top:auto;bottom:.4rem}"],data:{}});function Dv(e){return ci(2,[(e()(),Xs(0,0,null,null,0,"div",[["class","arrow"]],null,null,null,null,null)),(e()(),Xs(1,0,null,null,1,"div",[["class","tooltip-inner"]],null,null,null,null,null)),ni(null,0)],null,null)}function Sv(e){return ci(0,[(e()(),Xs(0,0,null,null,1,"ngb-tooltip-window",[["role","tooltip"]],[[8,"className",0],[8,"id",0]],null,null,Dv,wv)),cl(1,49152,null,0,mm,[],null,null)],null,function(e,t){e(t,0,0,"tooltip show"+(Qr(t,1).tooltipClass?" "+Qr(t,1).tooltipClass:""),Qr(t,1).id)})}var Cv=Vr("ngb-tooltip-window",mm,Sv,{id:"id",tooltipClass:"tooltipClass"},{},["*"]),kv=Jn({encapsulation:2,styles:[],data:{}});function xv(e){return ci(0,[(e()(),Xs(0,0,null,null,1,"ngb-highlight",[],null,null,null,Nv,Tv)),cl(1,573440,null,0,ym,[],{result:[0,"result"],term:[1,"term"]},null)],function(e,t){var n=t.context.formatter(t.context.result);e(t,1,0,n,t.context.term)},null)}function Iv(e){return ci(0,[(e()(),zs(0,null,null,0))],null,null)}function Mv(e){return ci(0,[(e()(),Xs(0,0,null,null,3,"button",[["class","dropdown-item"],["role","option"],["type","button"]],[[8,"id",0],[2,"active",null]],[[null,"mouseenter"],[null,"click"]],function(e,t,n){var r=!0,l=e.component;return"mouseenter"===t&&(r=!1!==l.markActive(e.context.index)&&r),"click"===t&&(r=!1!==l.select(e.context.$implicit)&&r),r},null,null)),(e()(),zs(16777216,null,null,2,null,Iv)),cl(2,540672,null,0,yu,[Pn],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),si(3,{result:0,term:1,formatter:2})],function(e,t){var n=t.component,r=e(t,3,0,t.context.$implicit,n.term,n.formatter);e(t,2,0,r,n.resultTemplate||Qr(t.parent,0))},function(e,t){var n=t.component;e(t,0,0,n.id+"-"+t.context.index,t.context.index===n.activeIdx)})}function Ev(e){return ci(0,[(e()(),zs(0,[["rt",2]],null,0,null,xv)),(e()(),zs(16777216,null,null,1,null,Mv)),cl(2,278528,null,0,fu,[Pn,Tn,kn],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.component.results)},null)}function Ov(e){return ci(0,[(e()(),Xs(0,0,null,null,1,"ngb-typeahead-window",[["class","dropdown-menu show"],["role","listbox"]],[[8,"id",0]],[[null,"mousedown"]],function(e,t,n){var r=!0;return"mousedown"===t&&(r=!1!==n.preventDefault()&&r),r},Ev,kv)),cl(1,114688,null,0,bm,[],null,null)],function(e,t){e(t,1,0)},function(e,t){e(t,0,0,Qr(t,1).id)})}var Fv=Vr("ngb-typeahead-window",bm,Ov,{id:"id",focusFirst:"focusFirst",results:"results",term:"term",formatter:"formatter",resultTemplate:"resultTemplate"},{selectEvent:"select",activeChangeEvent:"activeChange"},[]),Tv=Jn({encapsulation:2,styles:[".ngb-highlight{font-weight:700}"],data:{}});function Av(e){return ci(0,[(e()(),Xs(0,0,null,null,1,"span",[],[[8,"className",0]],null,null,null,null)),(e()(),oi(1,null,["",""]))],null,function(e,t){e(t,0,0,t.component.highlightClass),e(t,1,0,t.parent.context.$implicit)})}function Pv(e){return ci(0,[(e()(),oi(0,null,["",""]))],null,function(e,t){e(t,0,0,t.parent.context.$implicit)})}function qv(e){return ci(0,[(e()(),zs(16777216,null,null,1,null,Av)),cl(1,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),zs(0,[["even",2]],null,0,null,Pv))],function(e,t){e(t,1,0,t.context.odd,Qr(t,2))},null)}function Nv(e){return ci(2,[(e()(),zs(16777216,null,null,1,null,qv)),cl(1,278528,null,0,fu,[Pn,Tn,kn],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,1,0,t.component.parts)},null)}var Rv=Jn({encapsulation:2,styles:[],data:{}});function jv(e){return ci(0,[],null,null)}function $v(e){return ci(0,[(e()(),Xs(0,0,null,null,1,"ngb-modal-backdrop",[["style","z-index: 1050"]],[[8,"className",0]],null,null,jv,Rv)),cl(1,49152,null,0,em,[],null,null)],null,function(e,t){e(t,0,0,"modal-backdrop fade show"+(Qr(t,1).backdropClass?" "+Qr(t,1).backdropClass:""))})}var Vv=Vr("ngb-modal-backdrop",em,$v,{backdropClass:"backdropClass"},{},[]),Lv=Jn({encapsulation:2,styles:["ngb-modal-window .component-host-scrollable{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}"],data:{}});function Bv(e){return ci(0,[(e()(),Xs(0,0,null,null,2,"div",[["role","document"]],[[8,"className",0]],null,null,null,null)),(e()(),Xs(1,0,null,null,1,"div",[["class","modal-content"]],null,null,null,null,null)),ni(null,0)],null,function(e,t){var n=t.component;e(t,0,0,"modal-dialog"+(n.size?" modal-"+n.size:"")+(n.centered?" modal-dialog-centered":"")+(n.scrollable?" modal-dialog-scrollable":""))})}function Uv(e){return ci(0,[(e()(),Xs(0,0,null,null,1,"ngb-modal-window",[["role","dialog"],["tabindex","-1"]],[[8,"className",0],[1,"aria-modal",0],[1,"aria-labelledby",0]],[[null,"keyup.esc"],[null,"click"]],function(e,t,n){var r=!0;return"keyup.esc"===t&&(r=!1!==Qr(e,1).escKey(n)&&r),"click"===t&&(r=!1!==Qr(e,1).backdropClick(n)&&r),r},Bv,Lv)),cl(1,4440064,null,0,lm,[_u,sn],null,null)],function(e,t){e(t,1,0)},function(e,t){e(t,0,0,"modal fade show d-block"+(Qr(t,1).windowClass?" "+Qr(t,1).windowClass:""),!0,Qr(t,1).ariaLabelledBy)})}var Hv=Vr("ngb-modal-window",lm,Uv,{ariaLabelledBy:"ariaLabelledBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass"},{dismissEvent:"dismiss"},["*"]);class zv{constructor(){}ngOnInit(){}}var Xv=Jn({encapsulation:0,styles:[[""]],data:{}});function Wv(e){return ci(0,[(e()(),Xs(0,0,null,null,1,"div",[["class","picsum-img-wrapper"]],null,null,null,null,null)),(e()(),Xs(1,0,null,null,0,"img",[["alt","Create Feature Model"],["class","d-block w-100"],["src","assets/first_screen_exp.png"]],null,null,null,null,null)),(e()(),Xs(2,0,null,null,4,"div",[["class","carousel-caption"],["style","color: black;"]],null,null,null,null,null)),(e()(),Xs(3,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),oi(-1,null,["1. Create Feature Model"])),(e()(),Xs(5,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),oi(-1,null,["In the first step, the business developer has to create a feature model with the business model decisions."]))],null,null)}function Gv(e){return ci(0,[(e()(),Xs(0,0,null,null,1,"div",[["class","picsum-img-wrapper"]],null,null,null,null,null)),(e()(),Xs(1,0,null,null,0,"img",[["alt","Derive Business Models"],["class","d-block w-100"],["src","assets/second_screen_exp.png"]],null,null,null,null,null)),(e()(),Xs(2,0,null,null,4,"div",[["class","carousel-caption"],["style","color: black;"]],null,null,null,null,null)),(e()(),Xs(3,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),oi(-1,null,["2. Derive Business Models"])),(e()(),Xs(5,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),oi(-1,null,["In the second step, the business developer can derive different business models from the feature model."]))],null,null)}function Kv(e){return ci(0,[(e()(),Xs(0,0,null,null,1,"div",[["class","picsum-img-wrapper"]],null,null,null,null,null)),(e()(),Xs(1,0,null,null,0,"img",[["alt","Check Conformance"],["class","d-block w-100"],["src","assets/third_screen_exp.png"]],null,null,null,null,null)),(e()(),Xs(2,0,null,null,4,"div",[["class","carousel-caption"],["style","color: black;"]],null,null,null,null,null)),(e()(),Xs(3,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),oi(-1,null,["3. Check Conformance"])),(e()(),Xs(5,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),oi(-1,null,["In the third step, the business developer can check the conformance between feature model and business model."]))],null,null)}function Zv(e){return ci(0,[(e()(),Xs(0,0,null,null,3,"div",[["class","nav-scroller bg-white shadow-sm"]],null,null,null,null,null)),(e()(),Xs(1,0,null,null,2,"nav",[["class","nav nav-underline"]],null,null,null,null,null)),(e()(),Xs(2,0,null,null,1,"a",[["class","nav-link active"],["href","#"]],null,null,null,null,null)),(e()(),oi(-1,null,["Tool Explanation"])),(e()(),Xs(4,0,null,null,49,"main",[["class","container"],["role","main"]],null,null,null,null,null)),(e()(),Xs(5,0,null,null,6,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Xs(6,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),oi(-1,null,["Explanation of the BMDL Modeler"])),(e()(),Xs(8,0,null,null,1,"p",[["class","mt-2"]],null,null,null,null,null)),(e()(),oi(-1,null,["The BMDL Feature Modeler is a tool to describe Business Models through a combination of the Business Model Canvas (BMC) and a Software Product Line (SPL). We call this concept Business Model Decision Line (BMDL), where each feature describes a single business model decision. Features can be ordered in hierarchies and marked as mandatory or optional for the business models. Moreover, there can be Or (at least one sub-feature is selected) and Alternate (exactly one sub-feature is selected) relationships between a parent and a child feature. To refine the business models, cross-tree constraints for requiring and excluding dependencies can be made."])),(e()(),Xs(10,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),oi(-1,null,["The current state of the tool allows the creation of feature models and the deriving of business models. New business model decisions of single business models are synchronized with the corresponding feature model to ensure consistency. Moreover, the conformance of business models can be checked with the feature model and occurring conformance errors are explained."])),(e()(),Xs(12,0,null,null,26,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Xs(13,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),oi(-1,null,["Execution Steps"])),(e()(),Xs(15,0,null,null,8,"ngb-carousel",[["class","carousel slide"],["tabIndex","0"]],[[4,"display",null]],[[null,"keydown.arrowLeft"],[null,"keydown.arrowRight"],[null,"mouseenter"],[null,"mouseleave"]],function(e,t,n){var r=!0;return"keydown.arrowLeft"===t&&(r=!1!==(Qr(e,16).keyboard&&Qr(e,16).prev(Qr(e,16).NgbSlideEventSource.ARROW_LEFT))&&r),"keydown.arrowRight"===t&&(r=!1!==(Qr(e,16).keyboard&&Qr(e,16).next(Qr(e,16).NgbSlideEventSource.ARROW_RIGHT))&&r),"mouseenter"===t&&(r=!1!==Qr(e,16).mouseEnter()&&r),"mouseleave"===t&&(r=!1!==Qr(e,16).mouseLeave()&&r),r},Pm,Im)),cl(16,3325952,null,1,pg,[dg,Bl,os,In],null,null),Qs(603979776,1,{slides:1}),(e()(),zs(0,null,null,1,null,Wv)),cl(19,16384,[[1,4]],0,fg,[Tn],null,null),(e()(),zs(0,null,null,1,null,Gv)),cl(21,16384,[[1,4]],0,fg,[Tn],null,null),(e()(),zs(0,null,null,1,null,Kv)),cl(23,16384,[[1,4]],0,fg,[Tn],null,null),(e()(),Xs(24,0,null,null,1,"p",[["class","mt-2"]],null,null,null,null,null)),(e()(),oi(-1,null,[" Information about the execution steps: "])),(e()(),Xs(26,0,null,null,12,"ol",[],null,null,null,null,null)),(e()(),Xs(27,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),Xs(28,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),oi(-1,null,["Create Feature Model:"])),(e()(),oi(-1,null,[" In the first step, the business developer has to create a feature model with all business model decisions. To support the conformance checking process, he can define mandatory and optional features and create dependencies (requires, excludes) between the features."])),(e()(),Xs(31,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),Xs(32,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),oi(-1,null,["Derive Business Models:"])),(e()(),oi(-1,null,[" In the second step, the business developer can derive a different business model from the feature model. Here, he can use the existing features from the feature model or add new business model decisions. These new feature model decisions will be added to the feature model to save consistency."])),(e()(),Xs(35,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),Xs(36,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),oi(-1,null,["Check Conformance:"])),(e()(),oi(-1,null,[" In the third step, the business developer can check the conformance between the feature model and the business model. Conformance errors will be explained to support the resolution."])),(e()(),Xs(39,0,null,null,14,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Xs(40,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),oi(-1,null,["Further Information"])),(e()(),Xs(42,0,null,null,1,"p",[["class","mt-2"]],null,null,null,null,null)),(e()(),oi(-1,null,[" Further information can be accessed in two ways: "])),(e()(),Xs(44,0,null,null,9,"ul",[],null,null,null,null,null)),(e()(),Xs(45,0,null,null,4,"li",[],null,null,null,null,null)),(e()(),Xs(46,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),oi(-1,null,["Download Source Code: "])),(e()(),Xs(48,0,null,null,1,"a",[["href","https://github.com/SebastianGTTS/bmdl-feature-modeler"]],null,null,null,null,null)),(e()(),oi(-1,null,["https://github.com/SebastianGTTS/bmdl-feature-modeler"])),(e()(),Xs(50,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),Xs(51,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),oi(-1,null,["Read Research Paper:"])),(e()(),oi(-1,null,[" Currently under review"]))],null,function(e,t){e(t,15,0,"block")})}function Qv(e){return ci(0,[(e()(),Xs(0,0,null,null,1,"app-tool-explanation",[],null,null,null,Zv,Xv)),cl(1,114688,null,0,zv,[],null,null)],function(e,t){e(t,1,0)},null)}var Jv=Vr("app-tool-explanation",zv,Qv,{},{},[]);class Yv{constructor(){this.openDependenciesEmitter=new Al,this.updateFeatureEmitter=new Al,this.deleteFeatureEmitter=new Al}openDependencies(e){this.openDependenciesEmitter.emit(e)}openDependenciesForwardEmitter(e){this.openDependencies(e)}updateFeature(e){this.updateFeatureEmitter.emit(e)}updateFeatureForwardEmitter(e){this.updateFeature(e)}deleteFeature(e){this.deleteFeatureEmitter.emit(e)}deleteFeatureForwardEmitter(e){this.deleteFeature(e)}}var ey=Jn({encapsulation:0,styles:[[""]],data:{}});function ty(e){return ci(0,[(e()(),Xs(0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),Xs(1,0,null,null,0,"b",[],null,null,null,null,null))],null,null)}function ny(e){return ci(0,[(e()(),Xs(0,0,null,null,0,"i",[["class","fa fa-circle"]],null,null,null,null,null))],null,null)}function ry(e){return ci(0,[(e()(),Xs(0,0,null,null,0,"i",[["class","fa fa-circle-o"]],null,null,null,null,null))],null,null)}function ly(e){return ci(0,[(e()(),Xs(0,0,null,null,0,"i",[["class","fa fa-caret-up"]],null,null,null,null,null))],null,null)}function sy(e){return ci(0,[(e()(),Xs(0,0,null,null,0,"i",[["class","fa fa-angle-up"]],null,null,null,null,null))],null,null)}function iy(e){return ci(0,[(e()(),Xs(0,0,null,null,1,"button",[["class","btn btn-dark bottom-right-three btn-xs"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.openDependencies(e.parent.context.$implicit.id)&&r),r},null,null)),(e()(),oi(-1,null,["Show Dependencies"]))],null,null)}function oy(e){return ci(0,[(e()(),Xs(0,0,null,null,1,"button",[["class","btn btn-danger btn-xs bottom-right"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.deleteFeature(e.parent.context.$implicit.id)&&r),r},null,null)),(e()(),oi(-1,null,["Delete"]))],null,null)}function uy(e){return ci(0,[(e()(),Xs(0,0,null,null,19,"li",[["class","list-group-item justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),zs(16777216,null,null,1,null,ty)),cl(2,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(e()(),zs(16777216,null,null,1,null,ny)),cl(4,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(e()(),zs(16777216,null,null,1,null,ry)),cl(6,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(e()(),oi(7,null,[" "," "])),(e()(),zs(16777216,null,null,1,null,ly)),cl(9,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(e()(),zs(16777216,null,null,1,null,sy)),cl(11,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(e()(),zs(16777216,null,null,1,null,iy)),cl(13,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(e()(),Xs(14,0,null,null,1,"button",[["class","btn btn-warning btn-xs bottom-right-two"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.updateFeature(e.context.$implicit.id)&&r),r},null,null)),(e()(),oi(-1,null,["Update"])),(e()(),zs(16777216,null,null,1,null,oy)),cl(17,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(e()(),Xs(18,0,null,null,1,"app-feature-tree",[],null,[[null,"openDependenciesEmitter"],[null,"updateFeatureEmitter"],[null,"deleteFeatureEmitter"]],function(e,t,n){var r=!0,l=e.component;return"openDependenciesEmitter"===t&&(r=!1!==l.openDependenciesForwardEmitter(n)&&r),"updateFeatureEmitter"===t&&(r=!1!==l.updateFeatureForwardEmitter(n)&&r),"deleteFeatureEmitter"===t&&(r=!1!==l.deleteFeatureForwardEmitter(n)&&r),r},cy,ey)),cl(19,49152,null,0,Yv,[],{features:[0,"features"]},{openDependenciesEmitter:"openDependenciesEmitter",updateFeatureEmitter:"updateFeatureEmitter",deleteFeatureEmitter:"deleteFeatureEmitter"})],function(e,t){e(t,2,0,0!=t.context.$implicit.feature),e(t,4,0,t.context.$implicit.isMandatory),e(t,6,0,!t.context.$implicit.isMandatory),e(t,9,0,t.context.$implicit.hasOrSubfeatures),e(t,11,0,t.context.$implicit.hasXOrSubfeatures),e(t,13,0,0!=t.context.$implicit.requiringDependencyTo.length||0!=t.context.$implicit.requiringDependencyFrom.length||0!=t.context.$implicit.excludingDependency.length),e(t,17,0,t.context.$implicit.isDeletable),e(t,19,0,t.context.$implicit.features)},function(e,t){e(t,7,0,t.context.$implicit.name)})}function ay(e){return ci(0,[(e()(),Xs(0,0,null,null,2,"ul",[["class","list-group inner"],["style","margin:5px;"]],null,null,null,null,null)),(e()(),zs(16777216,null,null,1,null,uy)),cl(2,278528,null,0,fu,[Pn,Tn,kn],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.component.features)},null)}function cy(e){return ci(0,[(e()(),zs(16777216,null,null,1,null,ay)),cl(1,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,1,0,t.component.features)},null)}class dy{constructor(e,t,n,r,l){this.fb=e,this.route=t,this.location=n,this.pouchDBServer=r,this.modalService=l,this.featureList=[]}ngOnInit(){this.featureModelId=this.route.snapshot.paramMap.get("id"),this.loadFeatureModel(this.featureModelId),this.loadForms()}openDependenciesModal(e){this.pouchDBServer.getFeatureWithParent(this.featureModelId,e).then(e=>{this.modalFeature=e,this.modalReference=this.modalService.open(this.dependencyModal,{size:"lg"})},e=>{console.log("OpenDependencyModal: "+e)})}updateFeatureModal(e){this.pouchDBServer.getFeatureWithParent(this.featureModelId,e).then(e=>{this.modalFeature=e,this.modalSubfeatureIds=this.pouchDBServer.listSubfeatureIdsHelper(this.modalFeature.features),this.modalFeatureForm=this.fb.group({name:[this.modalFeature.name,Vf.required],isMandatory:this.modalFeature.isMandatory,hasOrSubfeatures:this.modalFeature.hasOrSubfeatures,hasXOrSubfeatures:this.modalFeature.hasXOrSubfeatures,subfeatureOf:this.modalFeature.parentId}),this.modalReference=this.modalService.open(this.updateModal,{size:"lg"})},e=>{console.log("UpdateFeatureModal: "+e)})}deleteFeatureModal(e){this.pouchDBServer.getFeatureWithParent(this.featureModelId,e).then(e=>{this.modalFeature=e,this.modalReference=this.modalService.open(this.deleteModal,{size:"lg"})},e=>{console.log("DeleteFeatureModal: "+e)})}closeModal(){this.modalReference.close(),this.modalFeature=null,this.loadForms(),this.loadFeatureModel(this.featureModelId)}deleteDependency(e,t,n){this.pouchDBServer.deleteDependency(this.featureModelId,e,t,n).then(e=>{this.pouchDBServer.getFeatureWithParent(this.featureModelId,this.modalFeature.id).then(e=>{this.modalFeature=e,this.loadFeatureModel(this.featureModelId)},e=>{console.log("DeleteDependency (new load): "+e)})},e=>{console.log("DeleteDependency: "+e)})}updateFeature(){this.pouchDBServer.updateFeature(this.featureModelId,this.modalFeature.id,this.modalFeatureForm.value.name,this.modalFeatureForm.value.isMandatory,this.modalFeatureForm.value.hasOrSubfeatures,this.modalFeatureForm.value.hasXOrSubfeatures,this.modalFeatureForm.value.subfeatureOf).then(e=>{this.closeModal()},e=>{console.log("UpdateFeature: "+e)})}deleteFeature(e){this.pouchDBServer.deleteFeature(this.featureModelId,e).then(e=>{this.closeModal()},e=>{console.log("DeleteFeature: "+e)})}loadForms(){this.featureModelForm=this.fb.group({name:["",Vf.required],description:[""]}),this.featureForm=this.fb.group({featureName:["",Vf.required],isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,subfeatureOf:["1"]}),this.dependencyForm=this.fb.group({dependencyType:"requiringDependencyTo",fromFeatureId:["1"],toFeatureId:["2"]})}loadFeatureModel(e){this.pouchDBServer.getFeatureModel(this.featureModelId).then(e=>{this.featureModel=e,this.featureModelForm.patchValue({name:this.featureModel.name,description:this.featureModel.description}),this.featureList=this.getFeaturesAsList()},e=>{console.log("LoadFeatureModel: "+e)})}insertFeature(){this.pouchDBServer.addFeature(this.featureModelId,this.featureForm.value.featureName,this.featureForm.value.isMandatory,this.featureForm.value.hasOrSubfeatures,this.featureForm.value.hasXOrSubfeatures,this.featureForm.value.subfeatureOf).then(e=>{this.loadForms(),this.loadFeatureModel(this.featureModelId)},e=>{console.log("InsertFeature: "+e)})}insertDependency(){this.pouchDBServer.addDependency(this.featureModelId,this.dependencyForm.value.dependencyType,this.dependencyForm.value.fromFeatureId,this.dependencyForm.value.toFeatureId).then(e=>{this.loadForms(),this.loadFeatureModel(this.featureModelId)},e=>{console.log("InsertDependency: "+e)})}updateFeatureModel(){this.pouchDBServer.updateFeatureModel(this.featureModel._id,this.featureModelForm.value.name,this.featureModelForm.value.description).then(e=>{},e=>{console.log("UpdateFeatureModel: "+e)})}deleteFeatureModel(){this.pouchDBServer.deleteFeatureModel(this.featureModel._id).then(e=>{this.location.back()},e=>{console.log("DeleteFeatureModel: "+e)})}getFeaturesAsList(){for(var e=[],t=[],n=0;n<this.featureModel.features.length;n++)(l=this.featureModel.features[this.featureModel.features.length-1-n]).level=1,t.push(l);for(;t.length>0;){var r=t.pop();if(e.push({id:r.id,name:r.name,levelname:"-".repeat(r.level)+" "+r.name,level:r.level}),r.features)for(n=0;n<r.features.length;n++){var l;(l=r.features[r.features.length-1-n]).level=r.level+1,t.push(l)}}return e}}var hy,fy,py=n("3j3K"),gy=n.n(py),my=n("yBqk"),vy=n.n(my),yy=n("aaBP"),by=n.n(yy),_y=n("byjP"),wy=n.n(_y),Dy=n("3Y9A"),Sy=n.n(Dy),Cy=n("fVBe"),ky=n.n(Cy),xy=n("+qE3");function Iy(e){return"$"+e}function My(e){return e.substring(1)}function Ey(){this._store={}}function Oy(e){if(this._store=new Ey,e&&Array.isArray(e))for(var t=0,n=e.length;t<n;t++)this.add(e[t])}Ey.prototype.get=function(e){var t=Iy(e);return this._store[t]},Ey.prototype.set=function(e,t){var n=Iy(e);return this._store[n]=t,!0},Ey.prototype.has=function(e){return Iy(e)in this._store},Ey.prototype.delete=function(e){var t=Iy(e),n=t in this._store;return delete this._store[t],n},Ey.prototype.forEach=function(e){for(var t=Object.keys(this._store),n=0,r=t.length;n<r;n++){var l=t[n];e(this._store[l],l=My(l))}},Object.defineProperty(Ey.prototype,"size",{get:function(){return Object.keys(this._store).length}}),Oy.prototype.add=function(e){return this._store.set(e,!0)},Oy.prototype.has=function(e){return this._store.has(e)},Oy.prototype.forEach=function(e){this._store.forEach(function(t,n){e(n)})},Object.defineProperty(Oy.prototype,"size",{get:function(){return this._store.size}}),function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(hy=Set,fy=Map):(hy=Oy,fy=Ey);var Fy=Function.prototype.toString,Ty=Fy.call(Object);function Ay(e){var t,n,r;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],n=0,r=e.length;n<r;n++)t[n]=Ay(e[n]);return t}if(e instanceof Date)return e.toISOString();if(function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}(e))return function(e){if(e instanceof ArrayBuffer)return function(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),r=new Uint8Array(e);return n.set(r),t}(e);var t=e.size,n=e.type;return"function"==typeof e.slice?e.slice(0,t,n):e.webkitSlice(0,t,n)}(e);if(!function(t){var n=Object.getPrototypeOf(e);if(null===n)return!0;var r=n.constructor;return"function"==typeof r&&r instanceof r&&Fy.call(r)==Ty}())return e;for(n in t={},e)if(Object.prototype.hasOwnProperty.call(e,n)){var l=Ay(e[n]);void 0!==l&&(t[n]=l)}return t}function Py(e){var t=!1;return Sy()(function(n){if(t)throw new Error("once called more than once");t=!0,e.apply(this,n)})}function qy(e){return Sy()(function(t){t=Ay(t);var n=this,r="function"==typeof t[t.length-1]&&t.pop(),l=new Promise(function(r,l){var s;try{var i=Py(function(e,t){e?l(e):r(t)});t.push(i),(s=e.apply(n,t))&&"function"==typeof s.then&&r(s)}catch(o){l(o)}});return r&&l.then(function(e){r(null,e)},r),l})}function Ny(e,t){return qy(Sy()(function(n){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var r=this;return function(e,t,n){if(e.constructor.listeners("debug").length){for(var r=["api",e.name,t],l=0;l<n.length-1;l++)r.push(n[l]);e.constructor.emit("debug",r);var s=n[n.length-1];n[n.length-1]=function(n,r){var l=["api",e.name,t];l=l.concat(n?["error",n]:["success",r]),e.constructor.emit("debug",l),s(n,r)}}}(r,e,n),this.taskqueue.isReady?t.apply(this,n):new Promise(function(t,l){r.taskqueue.addTask(function(s){s?l(s):t(r[e].apply(r,n))})})}))}function Ry(e,t){for(var n={},r=0,l=t.length;r<l;r++){var s=t[r];s in e&&(n[s]=e[s])}return n}var jy,$y=6;function Vy(e){return e}function Ly(e){return[{ok:e}]}function By(e,t,n){var r=t.docs,l=new fy;r.forEach(function(e){l.has(e.id)?l.get(e.id).push(e):l.set(e.id,[e])});var s=l.size,i=0,o=new Array(s),u=[];l.forEach(function(e,t){u.push(t)});var a=0;!function r(){if(!(a>=u.length)){var c=Math.min(a+$y,u.length),d=u.slice(a,c);!function(u,a){u.forEach(function(u,c){var d=a+c,h=l.get(u),f=Ry(h[0],["atts_since","attachments"]);f.open_revs=h.map(function(e){return e.rev}),f.open_revs=f.open_revs.filter(Vy);var p=Vy;0===f.open_revs.length&&(delete f.open_revs,p=Ly),["revs","attachments","binary","ajax","latest"].forEach(function(e){e in t&&(f[e]=t[e])}),e.get(u,f,function(e,t){var l,a;l=e?[{error:e}]:p(t),o[d]={id:u,docs:l},++i===s&&(a=[],o.forEach(function(e){e.docs.forEach(function(t){a.push({id:e.id,docs:[t]})})}),n(null,{results:a})),r()})})}(d,a),a+=d.length}}()}try{localStorage.setItem("_pouch_check_localstorage",1),jy=!!localStorage.getItem("_pouch_check_localstorage")}catch(Hk){jy=!1}function Uy(){return jy}function Hy(){xy.EventEmitter.call(this),this._listeners={},function(e){Uy()&&addEventListener("storage",function(t){e.emit(t.key)})}(this)}function zy(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function Xy(e){var t=0;return e||(t=2e3),function(e,t){return e=parseInt(e,10)||0,(t=parseInt(t,10))!=t||t<=e?t=(e||1)<<1:t+=1,t>6e5&&(e=3e5,t=6e5),~~((t-e)*Math.random()+e)}(e,t)}function Wy(e,t){zy("info","The above "+e+" is totally normal. "+t)}ky()(Hy,xy.EventEmitter),Hy.prototype.addListener=function(e,t,n,r){if(!this._listeners[t]){var l=this,s=!1;this._listeners[t]=i,this.on(e,i)}function i(){if(l._listeners[t])if(s)s="waiting";else{s=!0;var e=Ry(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);n.changes(e).on("change",function(e){e.seq>r.since&&!r.cancelled&&(r.since=e.seq,r.onChange(e))}).on("complete",function(){"waiting"===s&&gy()(i),s=!1}).on("error",function(){s=!1})}}},Hy.prototype.removeListener=function(e,t){t in this._listeners&&(xy.EventEmitter.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},Hy.prototype.notifyLocalWindows=function(e){Uy()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},Hy.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var Gy="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l])}return t};function Ky(e,t,n){Error.call(this,n),this.status=e,this.name=t,this.message=n,this.error=!0}ky()(Ky,Error),Ky.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})},new Ky(401,"unauthorized","Name or password is incorrect.");var Zy=new Ky(400,"bad_request","Missing JSON list of 'docs'"),Qy=new Ky(404,"not_found","missing"),Jy=new Ky(409,"conflict","Document update conflict"),Yy=new Ky(400,"bad_request","_id field must contain a string"),eb=new Ky(412,"missing_id","_id is required for puts"),tb=new Ky(400,"bad_request","Only reserved document ids may start with underscore."),nb=(new Ky(412,"precondition_failed","Database not open"),new Ky(500,"unknown_error","Database encountered an unknown error")),rb=new Ky(500,"badarg","Some query argument is invalid"),lb=(new Ky(400,"invalid_request","Request was invalid"),new Ky(400,"query_parse_error","Some query parameter is invalid")),sb=new Ky(500,"doc_validation","Bad special document member"),ib=new Ky(400,"bad_request","Something wrong with the request"),ob=new Ky(400,"bad_request","Document must be a JSON object"),ub=(new Ky(404,"not_found","Database not found"),new Ky(500,"indexed_db_went_bad","unknown")),ab=(new Ky(500,"web_sql_went_bad","unknown"),new Ky(500,"levelDB_went_went_bad","unknown"),new Ky(403,"forbidden","Forbidden by design doc validate_doc_update function"),new Ky(400,"bad_request","Invalid rev format")),cb=(new Ky(412,"file_exists","The database could not be created, the file already exists."),new Ky(412,"missing_stub","A pre-existing attachment stub wasn't found"));function db(e,t){function n(t){for(var n in e)"function"!=typeof e[n]&&(this[n]=e[n]);void 0!==t&&(this.reason=t)}return n.prototype=Ky.prototype,new n(t)}function hb(e){if("object"!=typeof e){var t=e;(e=nb).data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),e}function fb(e){var t={},n=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(r){r.doc||(r.doc={});var l=n&&function(e,t,n){try{return!e(t,n)}catch(l){var r="Filter function threw: "+l.toString();return db(ib,r)}}(e.filter,r.doc,t);if("object"==typeof l)return l;if(l)return!1;if(e.include_docs){if(!e.attachments)for(var s in r.doc._attachments)r.doc._attachments.hasOwnProperty(s)&&(r.doc._attachments[s].stub=!0)}else delete r.doc;return!0}}function pb(e){for(var t=[],n=0,r=e.length;n<r;n++)t=t.concat(e[n]);return t}function gb(e){var t;if(e?"string"!=typeof e?t=db(Yy):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=db(tb)):t=db(eb),t)throw t}function mb(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(zy("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function vb(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function yb(e){var t=vb(e);return t?t.join("/"):null}new Ky(413,"invalid_url","Provided URL is invalid");var bb=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],_b="queryKey",wb=/(?:^|&)([^&=]*)=?([^&]*)/g,Db=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function Sb(e){for(var t=Db.exec(e),n={},r=14;r--;){var l=bb[r],s=t[r]||"",i=-1!==["user","password"].indexOf(l);n[l]=i?decodeURIComponent(s):s}return n[_b]={},n[bb[12]].replace(wb,function(e,t,r){t&&(n[_b][t]=r)}),n}function Cb(e,t){var n=[],r=[];for(var l in t)t.hasOwnProperty(l)&&(n.push(l),r.push(t[l]));return n.push(e),Function.apply(null,n).apply(null,r)}function kb(e,t,n){return new Promise(function(r,l){e.get(t,function(s,i){if(s){if(404!==s.status)return l(s);i={}}var o=i._rev,u=n(i);if(!u)return r({updated:!1,rev:o});u._id=t,u._rev=o,r(function(e,t,n){return e.put(t).then(function(e){return{updated:!0,rev:e.rev}},function(r){if(409!==r.status)throw r;return kb(e,t._id,n)})}(e,u,n))})})}var xb=function(e){return atob(e)},Ib=function(e){return btoa(e)};function Mb(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(Hk){if("TypeError"!==Hk.name)throw Hk;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}function Eb(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),l=0;l<t;l++)r[l]=e.charCodeAt(l);return n}function Ob(e,t){return Mb([Eb(e)],{type:t})}function Fb(e,t){return Ob(xb(e),t)}function Tb(e,t){var n=new FileReader,r="function"==typeof n.readAsBinaryString;n.onloadend=function(e){var n=e.target.result||"";if(r)return t(n);t(function(e){for(var t="",r=new Uint8Array(n),l=r.byteLength,s=0;s<l;s++)t+=String.fromCharCode(r[s]);return t}())},r?n.readAsBinaryString(e):n.readAsArrayBuffer(e)}function Ab(e,t){Tb(e,function(e){t(e)})}function Pb(e,t){Ab(e,function(e){t(Ib(e))})}var qb=global.setImmediate||global.setTimeout,Nb=32768;function Rb(e,t,n,r,l){(n>0||r<t.size)&&(t=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.slice(t,n)}(t,n,r)),function(e,t){var n=new FileReader;n.onloadend=function(e){var n=e.target.result||new ArrayBuffer(0);t(n)},n.readAsArrayBuffer(e)}(t,function(t){e.append(t),l()})}function jb(e,t,n,r,l){(n>0||r<t.length)&&(t=t.substring(n,r)),e.appendBinary(t),l()}function $b(e,t){var n="string"==typeof e,r=n?e.length:e.size,l=Math.min(Nb,r),s=Math.ceil(r/l),i=0,o=n?new by.a:new by.a.ArrayBuffer,u=n?jb:Rb;function a(){qb(d)}function c(){var e=function(e){return Ib(e)}(o.end(!0));t(e),o.destroy()}function d(){var t=i*l;u(o,e,t,t+l,++i<s?a:c)}d()}function Vb(e){return by.a.hash(e)}function Lb(e,t){var n=Ay(e);return t?(delete n._rev_tree,Vb(JSON.stringify(n))):vy.a.v4().replace(/-/g,"").toLowerCase()}var Bb=vy.a.v4;function Ub(e){for(var t,n,r,l,s=e.rev_tree.slice();l=s.pop();){var i=l.ids,o=i[2],u=l.pos;if(o.length)for(var a=0,c=o.length;a<c;a++)s.push({pos:u+1,ids:o[a]});else{var d=!!i[1].deleted,h=i[0];t&&!(r!==d?r:n!==u?n<u:t<h)||(t=h,n=u,r=d)}}return n+"-"+t}function Hb(e,t){for(var n,r=e.slice();n=r.pop();)for(var l=n.pos,s=n.ids,i=s[2],o=t(0===i.length,l,s[0],n.ctx,s[1]),u=0,a=i.length;u<a;u++)r.push({pos:l+1,ids:i[u],ctx:o})}function zb(e,t){return e.pos-t.pos}function Xb(e){var t=[];Hb(e,function(e,n,r,l,s){e&&t.push({rev:n+"-"+r,pos:n,opts:s})}),t.sort(zb).reverse();for(var n=0,r=t.length;n<r;n++)delete t[n].pos;return t}function Wb(e){for(var t=Ub(e),n=Xb(e.rev_tree),r=[],l=0,s=n.length;l<s;l++){var i=n[l];i.rev===t||i.opts.deleted||r.push(i.rev)}return r}function Gb(e){for(var t,n=[],r=e.slice();t=r.pop();){var l=t.pos,s=t.ids,i=s[0],o=s[1],u=s[2],a=0===u.length,c=t.history?t.history.slice():[];c.push({id:i,opts:o}),a&&n.push({pos:l+1-c.length,ids:c});for(var d=0,h=u.length;d<h;d++)r.push({pos:l+1,ids:u[d],history:c})}return n.reverse()}function Kb(e,t){return e.pos-t.pos}function Zb(e,t,n){var r=function(e,t,n){for(var r,l=0,s=e.length;l<s;)n(e[r=l+s>>>1],t)<0?l=r+1:s=r;return l}(e,t,n);e.splice(r,0,t)}function Qb(e,t){for(var n,r,l=t,s=e.length;l<s;l++){var i=e[l],o=[i.id,i.opts,[]];r?(r[2].push(o),r=o):n=r=o}return n}function Jb(e,t){return e[0]<t[0]?-1:1}function Yb(e,t){for(var n=[{tree1:e,tree2:t}],r=!1;n.length>0;){var l=n.pop(),s=l.tree1,i=l.tree2;(s[1].status||i[1].status)&&(s[1].status="available"===s[1].status||"available"===i[1].status?"available":"missing");for(var o=0;o<i[2].length;o++)if(s[2][0]){for(var u=!1,a=0;a<s[2].length;a++)s[2][a][0]===i[2][o][0]&&(n.push({tree1:s[2][a],tree2:i[2][o]}),u=!0);u||(r="new_branch",Zb(s[2],i[2][o],Jb))}else r="new_leaf",s[2][0]=i[2][o]}return{conflicts:r,tree:e}}function e_(e,t,n){var r,l=[],s=!1,i=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var o=0,u=e.length;o<u;o++){var a=e[o];if(a.pos===t.pos&&a.ids[0]===t.ids[0])r=Yb(a.ids,t.ids),l.push({pos:a.pos,ids:r.tree}),s=s||r.conflicts,i=!0;else if(!0!==n){var c=a.pos<t.pos?a:t,d=a.pos<t.pos?t:a,h=[],f=[];for(f.push({ids:c.ids,diff:d.pos-c.pos,parent:null,parentIdx:null});f.length>0;){var p=f.pop();if(0!==p.diff)for(var g=p.ids[2],m=0,v=g.length;m<v;m++)f.push({ids:g[m],diff:p.diff-1,parent:p.ids,parentIdx:m});else p.ids[0]===d.ids[0]&&h.push(p)}var y=h[0];y?(r=Yb(y.ids,d.ids),y.parent[2][y.parentIdx]=r.tree,l.push({pos:c.pos,ids:c.ids}),s=s||r.conflicts,i=!0):l.push(a)}else l.push(a)}return i||l.push(t),l.sort(Kb),{tree:l,conflicts:s||"internal_node"}}function t_(e,t,n){var r=e_(e,t),l=function(e,t){for(var n,l,s=Gb(r.tree),i=0,o=s.length;i<o;i++){var u,a=s[i],c=a.ids;if(c.length>t){n||(n={});var d=c.length-t;u={pos:a.pos+d,ids:Qb(c,d)};for(var h=0;h<d;h++)n[a.pos+h+"-"+c[h].id]=!0}else u={pos:a.pos,ids:Qb(c,0)};l=l?e_(l,u,!0).tree:[u]}return n&&Hb(l,function(e,t,r){delete n[t+"-"+r]}),{tree:l,revs:n?Object.keys(n):[]}}(0,n);return{tree:l.tree,stemmedRevs:l.revs,conflicts:r.conflicts}}function n_(e){return e.ids}function r_(e,t){t||(t=Ub(e));for(var n,r=t.substring(t.indexOf("-")+1),l=e.rev_tree.map(n_);n=l.pop();){if(n[0]===r)return!!n[1].deleted;l=l.concat(n[2])}}function l_(e){return/^_local/.test(e)}function s_(e,t,n){xy.EventEmitter.call(this);var r=this;this.db=e;var l=(t=t?Ay(t):{}).complete=Py(function(t,n){var l;t?("listenerCount"in(l=r)?l.listenerCount("error"):xy.EventEmitter.listenerCount(l,"error"))>0&&r.emit("error",t):r.emit("complete",n),r.removeAllListeners(),e.removeListener("destroyed",s)});function s(){r.cancel()}n&&(r.on("complete",function(e){n(null,e)}),r.on("error",n)),e.once("destroyed",s),t.onChange=function(e,t,n){r.isCancelled||function(e,t,n,r){try{e.emit("change",t,n,r)}catch(Hk){zy("error",'Error in .on("change", function):',Hk)}}(r,e,t,n)};var i=new Promise(function(e,n){t.complete=function(t,r){t?n(t):e(r)}});r.once("cancel",function(){e.removeListener("destroyed",s),t.complete(null,{status:"cancelled"})}),this.then=i.then.bind(i),this.catch=i.catch.bind(i),this.then(function(e){l(null,e)},l),e.taskqueue.isReady?r.validateChanges(t):e.taskqueue.addTask(function(e){e?t.complete(e):r.isCancelled?r.emit("cancel"):r.validateChanges(t)})}function i_(e,t,n){var r=[{rev:e._rev}];"all_docs"===n.style&&(r=Xb(t.rev_tree).map(function(e){return{rev:e.rev}}));var l={id:t.id,changes:r,doc:e};return r_(t,e._rev)&&(l.deleted=!0),n.conflicts&&(l.doc._conflicts=Wb(t),l.doc._conflicts.length||delete l.doc._conflicts),l}function o_(e,t){return e<t?-1:e>t?1:0}function u_(e,t){return function(n,r){n||r[0]&&r[0].error?((n=n||r[0]).docId=t,e(n)):e(null,r.length?r[0]:r)}}function a_(e,t){var n=o_(e._id,t._id);return 0!==n?n:o_(e._revisions?e._revisions.start:0,t._revisions?t._revisions.start:0)}function c_(){for(var e in xy.EventEmitter.call(this),c_.prototype)"function"==typeof this[e]&&(this[e]=this[e].bind(this))}function d_(){this.isReady=!1,this.failed=!1,this.queue=[]}function h_(e,t){if(!(this instanceof h_))return new h_(e,t);var n=this;if(t=t||{},e&&"object"==typeof e&&(e=(t=e).name,delete t.name),void 0===t.deterministic_revs&&(t.deterministic_revs=!0),this.__opts=t=Ay(t),n.auto_compaction=t.auto_compaction,n.prefix=h_.prefix,"string"!=typeof e)throw new Error("Missing/invalid DB name");var r=function(e,t){var n=e.match(/([a-z-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var r=h_.adapters,l=h_.preferredAdapters,s=h_.prefix,i=t.adapter;if(!i)for(var o=0;o<l.length&&"idb"===(i=l[o])&&"websql"in r&&Uy()&&localStorage["_pouch__websqldb_"+s+e];++o)zy("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');var u=r[i];return{name:u&&"use_prefix"in u&&!u.use_prefix?e:s+e,adapter:i}}((t.prefix||"")+e,t);if(t.name=r.name,t.adapter=t.adapter||r.adapter,n.name=e,n._adapter=t.adapter,h_.emit("debug",["adapter","Picked adapter: ",t.adapter]),!h_.adapters[t.adapter]||!h_.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);c_.call(n),n.taskqueue=new d_,n.adapter=t.adapter,h_.adapters[t.adapter].call(n,t,function(e){if(e)return n.taskqueue.fail(e);!function(e){function t(t){e.removeListener("closed",n),t||e.constructor.emit("destroyed",e.name)}function n(){e.removeListener("destroyed",t),e.constructor.emit("unref",e)}e.once("destroyed",t),e.once("closed",n),e.constructor.emit("ref",e)}(n),n.emit("created",n),h_.emit("created",n.name),n.taskqueue.ready(n)})}ky()(s_,xy.EventEmitter),s_.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},s_.prototype.validateChanges=function(e){var t=e.complete,n=this;h_._changesFilterPlugin?h_._changesFilterPlugin.validate(e,function(r){if(r)return t(r);n.doChanges(e)}):n.doChanges(e)},s_.prototype.doChanges=function(e){var t=this,n=e.complete;if("live"in(e=Ay(e))&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=i_,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"!==e.since){if(h_._changesFilterPlugin){if(h_._changesFilterPlugin.normalize(e),h_._changesFilterPlugin.shouldFilter(this,e))return h_._changesFilterPlugin.filter(this,e)}else["doc_ids","filter","selector","view"].forEach(function(t){t in e&&zy("warn",'The "'+t+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=n;var r=this.db._changes(e);if(r&&"function"==typeof r.cancel){var l=t.cancel;t.cancel=Sy()(function(e){r.cancel(),l.apply(this,e)})}}else this.db.info().then(function(r){t.isCancelled?n(null,{status:"cancelled"}):(e.since=r.update_seq,t.doChanges(e))},n)},ky()(c_,xy.EventEmitter),c_.prototype.post=Ny("post",function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(db(ob));this.bulkDocs({docs:[e]},t,u_(n,e._id))}),c_.prototype.put=Ny("put",function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(db(ob));if(gb(e._id),l_(e._id)&&"function"==typeof this._putLocal)return e._deleted?this._removeLocal(e,n):this._putLocal(e,n);var r,l,s,i,o=this;function u(n){"function"==typeof o._put&&!1!==t.new_edits?o._put(e,t,n):o.bulkDocs({docs:[e]},t,u_(n,e._id))}t.force&&e._rev?(l=(r=e._rev.split("-"))[1],s=parseInt(r[0],10)+1,i=Lb(),e._revisions={start:s,ids:[i,l]},e._rev=s+"-"+i,t.new_edits=!1,u(function(t){n(t,t?null:{ok:!0,id:e._id,rev:e._rev})})):u(n)}),c_.prototype.putAttachment=Ny("putAttachment",function(e,t,n,r,l){var s=this;function i(e){var n="_rev"in e?parseInt(e._rev,10):0;return e._attachments=e._attachments||{},e._attachments[t]={content_type:l,data:r,revpos:++n},s.put(e)}return"function"==typeof l&&(l=r,r=n,n=null),void 0===l&&(l=r,r=n,n=null),l||zy("warn","Attachment",t,"on document",e,"is missing content_type"),s.get(e).then(function(e){if(e._rev!==n)throw db(Jy);return i(e)},function(t){if(t.reason===Qy.message)return i({_id:e});throw t})}),c_.prototype.removeAttachment=Ny("removeAttachment",function(e,t,n,r){var l=this;l.get(e,function(e,s){if(e)r(e);else if(s._rev===n){if(!s._attachments)return r();delete s._attachments[t],0===Object.keys(s._attachments).length&&delete s._attachments,l.put(s,r)}else r(db(Jy))})}),c_.prototype.remove=Ny("remove",function(e,t,n,r){var l;"string"==typeof t?(l={_id:e,_rev:t},"function"==typeof n&&(r=n,n={})):(l=e,"function"==typeof t?(r=t,n={}):(r=n,n=t)),(n=n||{}).was_delete=!0;var s={_id:l._id,_rev:l._rev||n.rev,_deleted:!0};if(l_(s._id)&&"function"==typeof this._removeLocal)return this._removeLocal(l,r);this.bulkDocs({docs:[s]},n,u_(r,s._id))}),c_.prototype.revsDiff=Ny("revsDiff",function(e,t,n){"function"==typeof t&&(n=t,t={});var r=Object.keys(e);if(!r.length)return n(null,{});var l=0,s=new fy;function i(e,t){s.has(e)||s.set(e,{missing:[]}),s.get(e).missing.push(t)}r.map(function(t){this._getRevisionTree(t,function(o,u){if(o&&404===o.status&&"missing"===o.message)s.set(t,{missing:e[t]});else{if(o)return n(o);!function(t,n){var r=e[t].slice(0);Hb(n,function(e,n,l,s,o){var u=n+"-"+l,a=r.indexOf(u);-1!==a&&(r.splice(a,1),"available"!==o.status&&i(t,u))}),r.forEach(function(e){i(t,e)})}(t,u)}if(++l===r.length){var a={};return s.forEach(function(e,t){a[t]=e}),n(null,a)}})},this)}),c_.prototype.bulkGet=Ny("bulkGet",function(e,t){By(this,e,t)}),c_.prototype.compactDocument=Ny("compactDocument",function(e,t,n){var r=this;this._getRevisionTree(e,function(l,s){if(l)return n(l);var i=function(e){var t={},n=[];return Hb(s,function(e,r,l,s){var i=r+"-"+l;return e&&(t[i]=0),void 0!==s&&n.push({from:s,to:i}),i}),n.reverse(),n.forEach(function(e){t[e.from]=void 0===t[e.from]?1+t[e.to]:Math.min(t[e.from],1+t[e.to])}),t}(),o=[],u=[];Object.keys(i).forEach(function(e){i[e]>t&&o.push(e)}),Hb(s,function(e,t,n,r,l){var s=t+"-"+n;"available"===l.status&&-1!==o.indexOf(s)&&u.push(s)}),r._doCompaction(e,u,n)})}),c_.prototype.compact=Ny("compact",function(e,t){"function"==typeof e&&(t=e,e={}),e=e||{},this._compactionQueue=this._compactionQueue||[],this._compactionQueue.push({opts:e,callback:t}),1===this._compactionQueue.length&&function e(t){var n=t._compactionQueue[0],r=n.opts,l=n.callback;t.get("_local/compaction").catch(function(){return!1}).then(function(n){n&&n.last_seq&&(r.last_seq=n.last_seq),t._compact(r,function(n,r){n?l(n):l(null,r),gy()(function(){t._compactionQueue.shift(),t._compactionQueue.length&&e(t)})})})}(this)}),c_.prototype._compact=function(e,t){var n=this,r=[];n.changes({return_docs:!1,last_seq:e.last_seq||0}).on("change",function(e){r.push(n.compactDocument(e.id,0))}).on("complete",function(e){var l=e.last_seq;Promise.all(r).then(function(){return kb(n,"_local/compaction",function(e){return(!e.last_seq||e.last_seq<l)&&(e.last_seq=l,e)})}).then(function(){t(null,{ok:!0})}).catch(t)}).on("error",t)},c_.prototype.get=Ny("get",function(e,t,n){if("function"==typeof t&&(n=t,t={}),"string"!=typeof e)return n(db(Yy));if(l_(e)&&"function"==typeof this._getLocal)return this._getLocal(e,n);var r=[],l=this;function s(){var s=[],i=r.length;if(!i)return n(null,s);r.forEach(function(r){l.get(e,{rev:r,revs:t.revs,latest:t.latest,attachments:t.attachments,binary:t.binary},function(e,t){if(e)s.push({missing:r});else{for(var l,o=0,u=s.length;o<u;o++)if(s[o].ok&&s[o].ok._rev===t._rev){l=!0;break}l||s.push({ok:t})}--i||n(null,s)})})}if(!t.open_revs)return this._get(e,t,function(r,s){if(r)return r.docId=e,n(r);var i=s.doc,o=s.metadata,u=s.ctx;if(t.conflicts){var a=Wb(o);a.length&&(i._conflicts=a)}if(r_(o,i._rev)&&(i._deleted=!0),t.revs||t.revs_info){for(var c=i._rev.split("-"),d=parseInt(c[0],10),h=c[1],f=Gb(o.rev_tree),p=null,g=0;g<f.length;g++){var m=f[g],v=m.ids.map(function(e){return e.id}).indexOf(h);(v===d-1||!p&&-1!==v)&&(p=m)}if(!p)return(r=new Error("invalid rev tree")).docId=e,n(r);var y=p.ids.map(function(e){return e.id}).indexOf(i._rev.split("-")[1])+1;if(p.ids.splice(y,p.ids.length-y),p.ids.reverse(),t.revs&&(i._revisions={start:p.pos+p.ids.length-1,ids:p.ids.map(function(e){return e.id})}),t.revs_info){var b=p.pos+p.ids.length;i._revs_info=p.ids.map(function(e){return{rev:--b+"-"+e.id,status:e.opts.status}})}}if(t.attachments&&i._attachments){var _=i._attachments,w=Object.keys(_).length;if(0===w)return n(null,i);Object.keys(_).forEach(function(e){this._getAttachment(i._id,e,_[e],{rev:i._rev,binary:t.binary,ctx:u},function(t,r){var l=i._attachments[e];l.data=r,delete l.stub,delete l.length,--w||n(null,i)})},l)}else{if(i._attachments)for(var D in i._attachments)i._attachments.hasOwnProperty(D)&&(i._attachments[D].stub=!0);n(null,i)}});if("all"===t.open_revs)this._getRevisionTree(e,function(e,t){if(e)return n(e);r=Xb(t).map(function(e){return e.rev}),s()});else{if(!Array.isArray(t.open_revs))return n(db(nb,"function_clause"));r=t.open_revs;for(var i=0;i<r.length;i++){var o=r[i];if("string"!=typeof o||!/^\d+-/.test(o))return n(db(ab))}s()}}),c_.prototype.getAttachment=Ny("getAttachment",function(e,t,n,r){var l=this;n instanceof Function&&(r=n,n={}),this._get(e,n,function(s,i){return s?r(s):i.doc._attachments&&i.doc._attachments[t]?(n.ctx=i.ctx,n.binary=!0,void l._getAttachment(e,t,i.doc._attachments[t],n,r)):r(db(Qy))})}),c_.prototype.allDocs=Ny("allDocs",function(e,t){if("function"==typeof e&&(t=e,e={}),e.skip=void 0!==e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter(function(t){return t in e})[0];if(n)return void t(db(lb,"Query parameter `"+n+"` is not compatible with multi-get"));if(!mb(this)&&(function(e){var t="limit"in e?e.keys.slice(e.skip,e.limit+e.skip):e.skip>0?e.keys.slice(e.skip):e.keys;e.keys=t,e.skip=0,delete e.limit,e.descending&&(t.reverse(),e.descending=!1)}(e),0===e.keys.length))return this._allDocs({limit:0},t)}return this._allDocs(e,t)}),c_.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),(e=e||{}).return_docs="return_docs"in e?e.return_docs:!e.live,new s_(this,e,t)},c_.prototype.close=Ny("close",function(e){return this._closed=!0,this.emit("closed"),this._close(e)}),c_.prototype.info=Ny("info",function(e){var t=this;this._info(function(n,r){if(n)return e(n);r.db_name=r.db_name||t.name,r.auto_compaction=!(!t.auto_compaction||mb(t)),r.adapter=t.adapter,e(null,r)})}),c_.prototype.id=Ny("id",function(e){return this._id(e)}),c_.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},c_.prototype.bulkDocs=Ny("bulkDocs",function(e,t,n){if("function"==typeof t&&(n=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return n(db(Zy));for(var r=0;r<e.docs.length;++r)if("object"!=typeof e.docs[r]||Array.isArray(e.docs[r]))return n(db(ob));var l;if(e.docs.forEach(function(e){e._attachments&&Object.keys(e._attachments).forEach(function(t){l=l||function(e){return"_"===e.charAt(0)&&e+" is not a valid attachment name, attachment names cannot start with '_'"}(t),e._attachments[t].content_type||zy("warn","Attachment",t,"on document",e._id,"is missing content_type")})}),l)return n(db(ib,l));"new_edits"in t||(t.new_edits=!("new_edits"in e)||e.new_edits);var s=this;t.new_edits||mb(s)||e.docs.sort(a_),function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n._deleted)delete n._attachments;else if(n._attachments)for(var r=Object.keys(n._attachments),l=0;l<r.length;l++){var s=r[l];n._attachments[s]=Ry(n._attachments[s],["data","digest","content_type","length","revpos","stub"])}}}(e.docs);var i=e.docs.map(function(e){return e._id});return this._bulkDocs(e,t,function(e,r){if(e)return n(e);if(t.new_edits||(r=r.filter(function(e){return e.error})),!mb(s))for(var l=0,o=r.length;l<o;l++)r[l].id=r[l].id||i[l];n(null,r)})}),c_.prototype.registerDependentDatabase=Ny("registerDependentDatabase",function(e,t){var n=new this.constructor(e,this.__opts);kb(this,"_local/_pouch_dependentDbs",function(t){return t.dependentDbs=t.dependentDbs||{},!t.dependentDbs[e]&&(t.dependentDbs[e]=!0,t)}).then(function(){t(null,{db:n})}).catch(t)}),c_.prototype.destroy=Ny("destroy",function(e,t){"function"==typeof e&&(t=e,e={});var n=this,r=!("use_prefix"in n)||n.use_prefix;function l(){n._destroy(e,function(e,r){if(e)return t(e);n._destroyed=!0,n.emit("destroyed"),t(null,r||{ok:!0})})}if(mb(n))return l();n.get("_local/_pouch_dependentDbs",function(e,s){if(e)return 404!==e.status?t(e):l();var i=n.constructor,o=Object.keys(s.dependentDbs).map(function(e){var t=r?e.replace(new RegExp("^"+i.prefix),""):e;return new i(t,n.__opts).destroy()});Promise.all(o).then(l,t)})}),d_.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},d_.prototype.fail=function(e){this.failed=e,this.execute()},d_.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},d_.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()},ky()(h_,c_);var f_="undefined"!=typeof AbortController?AbortController:function(){return{abort:function(){}}},p_=fetch,g_=Headers;h_.adapters={},h_.preferredAdapters=[],h_.prefix="_pouch_";var m_=new xy.EventEmitter;function v_(e,t){for(var n=e,r=0,l=t.length;r<l&&(n=n[t[r]]);r++);return n}function y_(e){for(var t=[],n="",r=0,l=e.length;r<l;r++){var s=e[r];"."===s?r>0&&"\\"===e[r-1]?n=n.substring(0,n.length-1)+".":(t.push(n),n=""):n+=s}return t.push(n),t}!function(e){Object.keys(xy.EventEmitter.prototype).forEach(function(t){"function"==typeof xy.EventEmitter.prototype[t]&&(e[t]=m_[t].bind(m_))});var t=e._destructionListeners=new fy;e.on("ref",function(e){t.has(e.name)||t.set(e.name,[]),t.get(e.name).push(e)}),e.on("unref",function(e){if(t.has(e.name)){var n=t.get(e.name),r=n.indexOf(e);r<0||(n.splice(r,1),n.length>1?t.set(e.name,n):t.delete(e.name))}}),e.on("destroyed",function(e){if(t.has(e)){var n=t.get(e);t.delete(e),n.forEach(function(e){e.emit("destroyed",!0)})}})}(h_),h_.adapter=function(e,t,n){t.valid()&&(h_.adapters[e]=t,n&&h_.preferredAdapters.push(e))},h_.plugin=function(e){if("function"==typeof e)e(h_);else{if("object"!=typeof e||0===Object.keys(e).length)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach(function(t){h_.prototype[t]=e[t]})}return this.__defaults&&(h_.__defaults=Gy({},this.__defaults)),h_},h_.defaults=function(e){function t(e,n){if(!(this instanceof t))return new t(e,n);n=n||{},e&&"object"==typeof e&&(e=(n=e).name,delete n.name),n=Gy({},t.__defaults,n),h_.call(this,e,n)}return ky()(t,h_),t.preferredAdapters=h_.preferredAdapters.slice(),Object.keys(h_).forEach(function(e){e in t||(t[e]=h_[e])}),t.__defaults=Gy({},this.__defaults,e),t},h_.fetch=function(e,t){return p_(e,t)};var b_=["$or","$nor","$not"];function __(e){return b_.indexOf(e)>-1}function w_(e){return Object.keys(e)[0]}function D_(e){var t={};return e.forEach(function(e){Object.keys(e).forEach(function(n){var r=e[n];if("object"!=typeof r&&(r={$eq:r}),__(n))t[n]=r instanceof Array?r.map(function(e){return D_([e])}):D_([r]);else{var l=t[n]=t[n]||{};Object.keys(r).forEach(function(e){var t=r[e];return"$gt"===e||"$gte"===e?function(e,t,n){void 0===n.$eq&&(void 0!==n.$gte?"$gte"===e?t>n.$gte&&(n.$gte=t):t>=n.$gte&&(delete n.$gte,n.$gt=t):void 0!==n.$gt?"$gte"===e?t>n.$gt&&(delete n.$gt,n.$gte=t):t>n.$gt&&(n.$gt=t):n[e]=t)}(e,t,l):"$lt"===e||"$lte"===e?function(e,t,n){void 0===n.$eq&&(void 0!==n.$lte?"$lte"===e?t<n.$lte&&(n.$lte=t):t<=n.$lte&&(delete n.$lte,n.$lt=t):void 0!==n.$lt?"$lte"===e?t<n.$lt&&(delete n.$lt,n.$lte=t):t<n.$lt&&(n.$lt=t):n[e]=t)}(e,t,l):"$ne"===e?function(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}(t,l):"$eq"===e?function(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}(t,l):void(l[e]=t)})}})}),t}function S_(e){var t=Ay(e),n=!1;(function e(t,n){for(var r in t){"$and"===r&&(n=!0);var l=t[r];"object"==typeof l&&(n=e(l,n))}return n})(t,!1)&&("$and"in(t=function e(t){for(var n in t){if(Array.isArray(t))for(var r in t)t[r].$and&&(t[r]=D_(t[r].$and));var l=t[n];"object"==typeof l&&e(l)}return t}(t))&&(t=D_(t.$and)),n=!0),["$or","$nor"].forEach(function(e){e in t&&t[e].forEach(function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var r=t[n],l=e[r];"object"==typeof l&&null!==l||(e[r]={$eq:l})}})}),"$not"in t&&(t.$not=D_([t.$not]));for(var r=Object.keys(t),l=0;l<r.length;l++){var s=r[l],i=t[s];"object"!=typeof i||null===i?i={$eq:i}:"$ne"in i&&!n&&(i.$ne=[i.$ne]),t[s]=i}return t}var C_=-324,k_=3,x_="";function I_(e,t){if(e===t)return 0;e=M_(e),t=M_(t);var n=T_(e),r=T_(t);if(n-r!=0)return n-r;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return function(e,t){return e===t?0:e>t?1:-1}(e,t)}return Array.isArray(e)?function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var l=I_(e[r],t[r]);if(0!==l)return l}return e.length===t.length?0:e.length>t.length?1:-1}(e,t):function(e,t){for(var n=Object.keys(e),r=Object.keys(t),l=Math.min(n.length,r.length),s=0;s<l;s++){var i=I_(n[s],r[s]);if(0!==i)return i;if(0!==(i=I_(e[n[s]],t[r[s]])))return i}return n.length===r.length?0:n.length>r.length?1:-1}(e,t)}function M_(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var n=e.length;e=new Array(n);for(var r=0;r<n;r++)e[r]=M_(t[r])}else{if(e instanceof Date)return e.toJSON();if(null!==e)for(var l in e={},t)if(t.hasOwnProperty(l)){var s=t[l];void 0!==s&&(e[l]=M_(s))}}}return e}function E_(e){return T_(e=M_(e))+x_+function(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return function(e){if(0===e)return"1";var t,n=e.toExponential().split(/e\+?/),r=parseInt(n[1],10),l=e<0,s=l?"0":"2",i=function(e,t,n){for(var r="",l=k_-e.length;r.length<l;)r+="0";return r}(t=((l?-r:r)-C_).toString())+t;s+=x_+i;var o=Math.abs(parseFloat(n[0]));l&&(o=10-o);var u=o.toFixed(20);return u=u.replace(/\.?0+$/,""),s+(x_+u)}(e);case"string":return e.replace(/\u0002/g,"\x02\x02").replace(/\u0001/g,"\x01\x02").replace(/\u0000/g,"\x01\x01");case"object":var t=Array.isArray(e),n=t?e:Object.keys(e),r=-1,l=n.length,s="";if(t)for(;++r<l;)s+=E_(n[r]);else for(;++r<l;){var i=n[r];s+=E_(i)+E_(e[i])}return s}return""}(e)+"\0"}function O_(e,t){var n,r=t;if("1"===e[t])n=0,t++;else{var l="0"===e[t],s="",i=e.substring(++t,t+k_),o=parseInt(i,10)+C_;for(l&&(o=-o),t+=k_;;){var u=e[t];if("\0"===u)break;s+=u,t++}n=1===(s=s.split(".")).length?parseInt(s,10):parseFloat(s[0]+"."+s[1]),l&&(n-=10),0!==o&&(n=parseFloat(n+"e"+o))}return{num:n,length:t-r}}function F_(e,t){var n=e.pop();if(t.length){var r=t[t.length-1];n===r.element&&(t.pop(),r=t[t.length-1]);var l=r.element,s=r.index;Array.isArray(l)?l.push(n):s===e.length-2?l[e.pop()]=n:e.push(n)}}function T_(e){var t=["boolean","number","string","object"].indexOf(typeof e);return~t?null===e?1:Array.isArray(e)?5:t<3?t+2:t+3:Array.isArray(e)?5:void 0}function A_(e,t,n){return n.every(function(n){var r=t[n],l=y_(n),s=v_(e,l);return __(n)?function(e,t,n){return"$or"===e?t.some(function(e){return A_(n,e,Object.keys(e))}):"$not"===e?!A_(n,t,Object.keys(t)):!t.find(function(e){return A_(n,e,Object.keys(e))})}(n,r,e):P_(r,e,l,s)})}function P_(e,t,n,r){return!e||("object"==typeof e?Object.keys(e).every(function(l){return function(e,t,n,r,l){if(!j_[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return j_[e](t,n,r,l)}(l,t,e[l],n,r)}):e===r)}function q_(e){return null!=e}function N_(e){return void 0!==e}function R_(e,t){return t.some(function(t){return e instanceof Array?e.indexOf(t)>-1:e===t})}var j_={$elemMatch:function(e,t,n,r){return!!Array.isArray(r)&&0!==r.length&&r.some("object"==typeof r[0]?function(e){return A_(e,t,Object.keys(t))}:function(r){return P_(t,e,n,r)})},$allMatch:function(e,t,n,r){return!!Array.isArray(r)&&0!==r.length&&r.every("object"==typeof r[0]?function(e){return A_(e,t,Object.keys(t))}:function(r){return P_(t,e,n,r)})},$eq:function(e,t,n,r){return N_(r)&&0===I_(r,t)},$gte:function(e,t,n,r){return N_(r)&&I_(r,t)>=0},$gt:function(e,t,n,r){return N_(r)&&I_(r,t)>0},$lte:function(e,t,n,r){return N_(r)&&I_(r,t)<=0},$lt:function(e,t,n,r){return N_(r)&&I_(r,t)<0},$exists:function(e,t,n,r){return t?N_(r):!N_(r)},$mod:function(e,t,n,r){return q_(r)&&function(e,t){var n=t[0],r=t[1];if(0===n)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(n,10)!==n)throw new Error("Divisor is not an integer");if(parseInt(r,10)!==r)throw new Error("Modulus is not an integer");return parseInt(e,10)===e&&e%n===r}(r,t)},$ne:function(e,t,n,r){return t.every(function(e){return 0!==I_(r,e)})},$in:function(e,t,n,r){return q_(r)&&R_(r,t)},$nin:function(e,t,n,r){return q_(r)&&!R_(r,t)},$size:function(e,t,n,r){return q_(r)&&function(e,t){return e.length===t}(r,t)},$all:function(e,t,n,r){return Array.isArray(r)&&function(e,t){return t.every(function(t){return e.indexOf(t)>-1})}(r,t)},$regex:function(e,t,n,r){return q_(r)&&function(e,t){return new RegExp(t).test(e)}(r,t)},$type:function(e,t,n,r){return function(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}throw new Error(t+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}(r,t)}};function $_(e,t){if(e.selector&&e.filter&&"_selector"!==e.filter)return t(new Error('selector invalid for filter "'+("string"==typeof e.filter?e.filter:"function")+'"'));t()}function V_(e){e.view&&!e.filter&&(e.filter="_view"),e.selector&&!e.filter&&(e.filter="_selector"),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=yb(e.view):e.filter=yb(e.filter))}function L_(e,t){return t.filter&&"string"==typeof t.filter&&!t.doc_ids&&!mb(e.db)}function B_(e,t){var n=t.complete;if("_view"===t.filter){if(!t.view||"string"!=typeof t.view){var r=db(ib,"`view` filter parameter not found or invalid.");return n(r)}var l=vb(t.view);e.db.get("_design/"+l[0],function(r,s){if(e.isCancelled)return n(null,{status:"cancelled"});if(r)return n(hb(r));var i=s&&s.views&&s.views[l[1]]&&s.views[l[1]].map;if(!i)return n(db(Qy,s.views?"missing json key: "+l[1]:"missing json key: views"));t.filter=Cb(["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+i+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),{}),e.doChanges(t)})}else if(t.selector)t.filter=function(e){return function(e,t){if("object"!=typeof t)throw new Error("Selector error: expected a JSON object");var n=function(e,t,n){if(e=e.filter(function(e){return A_(e.doc,t.selector,n)}),t.sort){var r=function(e){function t(t){return e.map(function(e){var n=y_(w_(e));return v_(t,n)})}return function(e,n){var r,l,s=I_(t(e.doc),t(n.doc));return 0!==s?s:(r=e.doc._id)<(l=n.doc._id)?-1:r>l?1:0}}(t.sort);e=e.sort(r),"string"!=typeof t.sort[0]&&"desc"===(l=t.sort[0])[w_(l)]&&(e=e.reverse())}var l;if("limit"in t||"skip"in t){var s=t.skip||0;e=e.slice(s,("limit"in t?t.limit:e.length)+s)}return e}([{doc:e}],{selector:t=S_(t)},Object.keys(t));return n&&1===n.length}(e,t.selector)},e.doChanges(t);else{var s=vb(t.filter);e.db.get("_design/"+s[0],function(r,l){if(e.isCancelled)return n(null,{status:"cancelled"});if(r)return n(hb(r));var i=l&&l.filters&&l.filters[s[1]];if(!i)return n(db(Qy,l&&l.filters?"missing json key: "+s[1]:"missing json key: filters"));t.filter=Cb('"use strict";\nreturn '+i+";",{}),e.doChanges(t)})}}function U_(e){return e.reduce(function(e,t){return e[t]=!0,e},{})}h_.plugin(function(e){e._changesFilterPlugin={validate:$_,normalize:V_,shouldFilter:L_,filter:B_}}),h_.version="7.1.1";var H_=U_(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),z_=U_(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function X_(e){if(!/^\d+-./.test(e))return db(ab);var t=e.indexOf("-"),n=e.substring(0,t),r=e.substring(t+1);return{prefix:parseInt(n,10),id:r}}function W_(e,t,n){var r,l,s;n||(n={deterministic_revs:!0});var i={status:"available"};if(e._deleted&&(i.deleted=!0),t)if(e._id||(e._id=Bb()),l=Lb(e,n.deterministic_revs),e._rev){if((s=X_(e._rev)).error)return s;e._rev_tree=[{pos:s.prefix,ids:[s.id,{status:"missing"},[[l,i,[]]]]}],r=s.prefix+1}else e._rev_tree=[{pos:1,ids:[l,i,[]]}],r=1;else if(e._revisions&&(e._rev_tree=function(e,t){for(var n=e.start-e.ids.length+1,r=e.ids,l=[r[0],t,[]],s=1,i=r.length;s<i;s++)l=[r[s],{status:"missing"},[l]];return[{pos:n,ids:l}]}(e._revisions,i),r=e._revisions.start,l=e._revisions.ids[0]),!e._rev_tree){if((s=X_(e._rev)).error)return s;e._rev_tree=[{pos:r=s.prefix,ids:[l=s.id,i,[]]}]}gb(e._id),e._rev=r+"-"+l;var o={metadata:{},data:{}};for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var a="_"===u[0];if(a&&!H_[u]){var c=db(sb,u);throw c.message=sb.message+": "+u,c}a&&!z_[u]?o.metadata[u.slice(1)]=e[u]:o.data[u]=e[u]}return o}function G_(e,t,n){if(e.stub)return n();"string"==typeof e.data?function(e,t,n){var r=function(e){try{return xb(e)}catch(Hk){return{error:db(rb,"Attachment is not a valid base64 string")}}}(e.data);if(r.error)return n(r.error);e.length=r.length,e.data="blob"===t?Ob(r,e.content_type):"base64"===t?Ib(r):r,$b(r,function(t){e.digest="md5-"+t,n()})}(e,t,n):function(e,t,n){$b(e.data,function(r){e.digest="md5-"+r,e.length=e.data.size||e.data.length||0,"binary"===t?Ab(e.data,function(t){e.data=t,n()}):"base64"===t?Pb(e.data,function(t){e.data=t,n()}):n()})}(e,t,n)}var K_=5,Z_="document-store",Q_="by-sequence",J_="attach-store",Y_="attach-seq-store",ew="meta-store",tw="local-store",nw="detect-blob-support";function rw(e){try{return JSON.stringify(e)}catch(Hk){return wy.a.stringify(e)}}function lw(e){return function(t){var n="unknown_error";t.target&&t.target.error&&(n=t.target.error.name||t.target.error.message),e(db(ub,n))}}function sw(e,t,n){return{data:rw(e),winningRev:t,deletedOrLocal:n?"1":"0",seq:e.seq,id:e.id}}function iw(e){if(!e)return null;var t=function(e){try{return JSON.parse(e)}catch(Hk){return wy.a.parse(e)}}(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function ow(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function uw(e,t,n,r){n?r(e?"string"!=typeof e?e:Fb(e,t):Mb([""],{type:t})):e?"string"!=typeof e?Tb(e,function(e){r(Ib(e))}):r(e):r("")}function aw(e,t,n,r){var l=Object.keys(e._attachments||{});if(!l.length)return r&&r();var s=0;function i(){++s===l.length&&r&&r()}l.forEach(function(r){t.attachments&&t.include_docs?function(e,t){var r=e._attachments[t],l=r.digest;n.objectStore(J_).get(l).onsuccess=function(e){r.body=e.target.result.body,i()}}(e,r):(e._attachments[r].stub=!0,i())})}function cw(e,t){return Promise.all(e.map(function(e){if(e.doc&&e.doc._attachments){var n=Object.keys(e.doc._attachments);return Promise.all(n.map(function(n){var r=e.doc._attachments[n];if("body"in r){var l=r.body,s=r.content_type;return new Promise(function(i){uw(l,s,t,function(t){e.doc._attachments[n]=Gy(Ry(r,["digest","content_type"]),{data:t}),i()})})}}))}}))}function dw(e,t,n){var r=[],l=n.objectStore(Q_),s=n.objectStore(J_),i=n.objectStore(Y_),o=e.length;function u(){--o||r.length&&r.forEach(function(e){i.index("digestSeq").count(IDBKeyRange.bound(e+"::",e+"::\uffff",!1,!1)).onsuccess=function(t){t.target.result||s.delete(e)}})}e.forEach(function(e){l.index("_doc_id_rev").getKey(t+"::"+e).onsuccess=function(e){var t=e.target.result;if("number"!=typeof t)return u();l.delete(t),i.index("seq").openCursor(IDBKeyRange.only(t)).onsuccess=function(e){var t=e.target.result;if(t){var n=t.value.digestSeq.split("::")[0];r.push(n),i.delete(t.primaryKey),t.continue()}else u()}}})}function hw(e,t,n){try{return{txn:e.transaction(t,n)}}catch(r){return{error:r}}}var fw=new Hy;function pw(e,t,n,r,l){var s,i,o;function u(e){i=e.target.result,s&&l(s,i,o)}function a(e){s=e.target.result,i&&l(s,i,o)}function c(e){var t=e.target.result;if(!t)return l();l([t.key],[t.value],t)}-1===r&&(r=1e3),"function"==typeof e.getAll&&"function"==typeof e.getAllKeys&&r>1&&!n?(o={continue:function(){if(!s.length)return l();var n,o=s[s.length-1];if(t&&t.upper)try{n=IDBKeyRange.bound(o,t.upper,!0,t.upperOpen)}catch(Hk){if("DataError"===Hk.name&&0===Hk.code)return l()}else n=IDBKeyRange.lowerBound(o,!0);s=null,i=null,e.getAll(t=n,r).onsuccess=u,e.getAllKeys(t,r).onsuccess=a}},e.getAll(t,r).onsuccess=u,e.getAllKeys(t,r).onsuccess=a):n?e.openCursor(t,"prev").onsuccess=c:e.openCursor(t).onsuccess=c}var gw=!1,mw=[];function vw(){!gw&&mw.length&&(gw=!0,mw.shift()())}var yw,bw=new fy,_w=new fy;function ww(e,t){var n=this;!function(t,r,l){mw.push(function(){!function(e,t,n){var r=t.name,l=null;function s(e,t){var n=e.objectStore(Z_);n.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),n.openCursor().onsuccess=function(e){var r=e.target.result;if(r){var l=r.value,s=r_(l);l.deletedOrLocal=s?"1":"0",n.put(l),r.continue()}else t()}}function i(e,t){var n=e.objectStore(tw),r=e.objectStore(Z_),l=e.objectStore(Q_);r.openCursor().onsuccess=function(e){var s=e.target.result;if(s){var i=s.value,o=i.id,u=l_(o),a=Ub(i);if(u){var c=o+"::"+a,d=o+"::",h=o+"::~",f=l.index("_doc_id_rev"),p=IDBKeyRange.bound(d,h,!1,!1),g=f.openCursor(p);g.onsuccess=function(e){if(g=e.target.result){var t=g.value;t._doc_id_rev===c&&n.put(t),l.delete(g.primaryKey),g.continue()}else r.delete(s.primaryKey),s.continue()}}else s.continue()}else t&&t()}}function o(e,t){var n=e.objectStore(Q_),r=e.objectStore(J_),l=e.objectStore(Y_);r.count().onsuccess=function(e){if(!e.target.result)return t();n.openCursor().onsuccess=function(e){var n=e.target.result;if(!n)return t();for(var r=n.value,s=n.primaryKey,i=Object.keys(r._attachments||{}),o={},u=0;u<i.length;u++){o[r._attachments[i[u]].digest]=!0}var a=Object.keys(o);for(u=0;u<a.length;u++){l.put({seq:s,digestSeq:a[u]+"::"+s})}n.continue()}}}function u(e){var t=e.objectStore(Q_),n=e.objectStore(Z_);n.openCursor().onsuccess=function(e){var r,l=e.target.result;if(l){var s=(r=l.value).data?iw(r):(r.deleted="1"===r.deletedOrLocal,r);if(s.winningRev=s.winningRev||Ub(s),s.seq)return i();!function(){var e=s.id+"::",n=s.id+"::\uffff",r=t.index("_doc_id_rev").openCursor(IDBKeyRange.bound(e,n)),l=0;r.onsuccess=function(e){var t=e.target.result;if(!t)return s.seq=l,i();var n=t.primaryKey;n>l&&(l=n),t.continue()}}()}function i(){var e=sw(s,s.winningRev,s.deleted);n.put(e).onsuccess=function(){l.continue()}}}}e._meta=null,e._remote=!1,e.type=function(){return"idb"},e._id=qy(function(t){t(null,e._meta.instanceId)}),e._bulkDocs=function(n,r,s){!function(e,t,n,r,l,s){for(var i,o,u,a,c,d,h,f,p=t.docs,g=0,m=p.length;g<m;g++){var v=p[g];v._id&&l_(v._id)||(v=p[g]=W_(v,n.new_edits,e)).error&&!h&&(h=v)}if(h)return s(h);var y=!1,b=0,_=new Array(p.length),w=new fy,D=!1;function S(){y=!0,C()}function C(){f&&y&&(f.docCount+=b,d.put(f))}function k(){D||(fw.notify(r._meta.name),s(null,_))}function x(e,t,n,r,l,s,i,o){e.metadata.winningRev=t,e.metadata.deleted=n;var u=e.data;if(u._id=e.metadata.id,u._rev=e.metadata.rev,r&&(u._deleted=!0),u._attachments&&Object.keys(u._attachments).length)return function(e,t,n,r,l,s){var i=0,o=Object.keys(e.data._attachments);function u(){i===o.length&&I(e,t,n,r,l,s)}function c(){i++,u()}o.forEach(function(n){var r=e.data._attachments[n];if(r.stub)i++,u();else{var l=r.data;delete r.data,r.revpos=parseInt(t,10),function(e,t,n){a.count(e).onsuccess=function(r){if(r.target.result)return n();a.put({digest:e,body:t}).onsuccess=n}}(r.digest,l,c)}})}(e,t,n,l,i,o);b+=s,C(),I(e,t,n,l,i,o)}function I(e,t,n,l,s,a){var d=e.data,h=e.metadata;function f(s){var u,a=e.stemmedRevs||[];l&&r.auto_compaction&&(a=a.concat((u=[],Hb(e.metadata.rev_tree,function(e,t,n,r,l){"available"!==l.status||e||(u.push(t+"-"+n),l.status="missing")}),u))),a&&a.length&&dw(a,e.metadata.id,i),h.seq=s.target.result;var c=sw(h,t,n);o.put(c).onsuccess=p}function p(){_[s]={ok:!0,id:h.id,rev:h.rev},w.set(e.metadata.id,e.metadata),function(e,t,n){var r=0,l=Object.keys(e.data._attachments||{});if(!l.length)return n();function s(){++r===l.length&&n()}function i(n){var r=c.put({seq:t,digestSeq:e.data._attachments[n].digest+"::"+t});r.onsuccess=s,r.onerror=function(e){e.preventDefault(),e.stopPropagation(),s()}}for(var o=0;o<l.length;o++)i(l[o])}(e,h.seq,a)}d._doc_id_rev=h.id+"::"+h.rev,delete d._id,delete d._rev;var g=u.put(d);g.onsuccess=f,g.onerror=function(e){e.preventDefault(),e.stopPropagation(),u.index("_doc_id_rev").getKey(d._doc_id_rev).onsuccess=function(e){u.put(d,e.target.result).onsuccess=f}}}!function(e,t,n){if(!e.length)return n();var r,l=0;function s(){e.length===++l&&(r?n(r):n())}e.forEach(function(e){var n=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],l=0;if(!n.length)return s();function i(e){r=e,++l===n.length&&s()}for(var o in e.data._attachments)e.data._attachments.hasOwnProperty(o)&&G_(e.data._attachments[o],t,i)})}(p,r._meta.blobSupport?"blob":"base64",function(t){if(t)return s(t);!function(){var t=hw(l,[Z_,Q_,J_,tw,Y_,ew],"readwrite");if(t.error)return s(t.error);(i=t.txn).onabort=lw(s),i.ontimeout=lw(s),i.oncomplete=k,o=i.objectStore(Z_),u=i.objectStore(Q_),a=i.objectStore(J_),c=i.objectStore(Y_),(d=i.objectStore(ew)).get(ew).onsuccess=function(e){f=e.target.result,C()},function(e){var t=[];if(p.forEach(function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach(function(n){var r=e.data._attachments[n];r.stub&&t.push(r.digest)})}),!t.length)return e();var n,r=0;t.forEach(function(l){!function(e,t){a.get(e).onsuccess=function(n){if(n.target.result)t();else{var r=db(cb,"unknown stub attachment with digest "+e);r.status=412,t(r)}}}(l,function(l){l&&!n&&(n=l),++r===t.length&&e(n)})})}(function(t){if(t)return D=!0,s(t);!function(){if(p.length)for(var t=0,l=0,s=p.length;l<s;l++){var u=p[l];u._id&&l_(u._id)?a():o.get(u.metadata.id).onsuccess=c}function a(){++t===p.length&&function(e,t,n,r,l,s,i,o,u){e=e||1e3;var a=o.new_edits,c=new fy,d=0,h=t.length;function f(){++d===h&&u&&u()}t.forEach(function(e,t){if(e._id&&l_(e._id))n[e._deleted?"_removeLocal":"_putLocal"](e,{ctx:l},function(e,n){s[t]=e||n,f()});else{var r=e.metadata.id;c.has(r)?(h--,c.get(r).push([e,t])):c.set(r,[[e,t]])}}),c.forEach(function(t,n){var l=0;function u(){++l<t.length?c():f()}function c(){var c=t[l],d=c[0],h=c[1];if(r.has(n))!function(e,t,n,r,l,s,i,o){if(function(e,n){for(var r,l=t.rev_tree.slice(),s=n.split("-"),i=parseInt(s[0],10),o=s[1];r=l.pop();){if(r.pos===i&&r.ids[0]===o)return!0;for(var u=r.ids[2],a=0,c=u.length;a<c;a++)l.push({pos:r.pos+1,ids:u[a]})}return!1}(0,n.metadata.rev)&&!o)return r[l]=n,s();var u=t.winningRev||Ub(t),a="deleted"in t?t.deleted:r_(t,u),c="deleted"in n.metadata?n.metadata.deleted:r_(n.metadata),d=/^1-/.test(n.metadata.rev);if(a&&!c&&o&&d){var h=n.data;h._rev=u,h._id=n.metadata.id,n=W_(h,o)}var f=t_(t.rev_tree,n.metadata.rev_tree[0],e);if(o&&(a&&c&&"new_leaf"!==f.conflicts||!a&&"new_leaf"!==f.conflicts||a&&!c&&"new_branch"===f.conflicts)){var p=db(Jy);return r[l]=p,s()}var g=n.metadata.rev;n.metadata.rev_tree=f.tree,n.stemmedRevs=f.stemmedRevs||[],t.rev_map&&(n.metadata.rev_map=t.rev_map);var m=Ub(n.metadata),v=r_(n.metadata,m),y=a===v?0:a<v?-1:1;i(n,m,v,g===m?v:r_(n.metadata,g),!0,y,l,s)}(e,r.get(n),d,s,h,u,i,a);else{var f=t_([],d.metadata.rev_tree[0],e);d.metadata.rev_tree=f.tree,d.stemmedRevs=f.stemmedRevs||[],function(e,t,n){var r=Ub(e.metadata),l=r_(e.metadata,r);if("was_delete"in o&&l)return s[t]=db(Qy,"deleted"),n();if(a&&function(e){return"missing"===e.metadata.rev_tree[0].ids[1].status}(e)){var u=db(Jy);return s[t]=u,n()}i(e,r,l,l,!1,l?0:1,t,n)}(d,h,u)}}c()})}(e.revs_limit,p,r,w,i,_,x,n,S)}function c(e){var t=iw(e.target.result);t&&w.set(t.id,t),a()}}()})}()})}(t,n,r,e,l,s)},e._get=function(e,t,n){var r,s,i,o=t.ctx;if(!o){var u=hw(l,[Z_,Q_,J_],"readonly");if(u.error)return n(u.error);o=u.txn}function a(){n(i,{doc:r,metadata:s,ctx:o})}o.objectStore(Z_).get(e).onsuccess=function(e){if(!(s=iw(e.target.result)))return i=db(Qy,"missing"),a();var n;if(t.rev)n=t.latest?function(e,t){for(var n,r=t.rev_tree.slice();n=r.pop();){var l=n.pos,s=n.ids,i=s[0],o=s[1],u=s[2],a=0===u.length,c=n.history?n.history.slice():[];if(c.push({id:i,pos:l,opts:o}),a)for(var d=0,h=c.length;d<h;d++){var f=c[d];if(f.pos+"-"+f.id===e)return l+"-"+i}for(var p=0,g=u.length;p<g;p++)r.push({pos:l+1,ids:u[p],history:c})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}(t.rev,s):t.rev;else if(n=s.winningRev,r_(s))return i=db(Qy,"deleted"),a();var l=o.objectStore(Q_),u=s.id+"::"+n;l.index("_doc_id_rev").get(u).onsuccess=function(e){if((r=e.target.result)&&(r=ow(r)),!r)return i=db(Qy,"missing"),a();a()}}},e._getAttachment=function(e,t,n,r,s){var i;if(r.ctx)i=r.ctx;else{var o=hw(l,[Z_,Q_,J_],"readonly");if(o.error)return s(o.error);i=o.txn}var u=n.digest,a=n.content_type;i.objectStore(J_).get(u).onsuccess=function(e){uw(e.target.result.body,a,r.binary,function(e){s(null,e)})}},e._info=function(t){var n,r,s=hw(l,[ew,Q_],"readonly");if(s.error)return t(s.error);var i=s.txn;i.objectStore(ew).get(ew).onsuccess=function(e){r=e.target.result.docCount},i.objectStore(Q_).openCursor(null,"prev").onsuccess=function(e){var t=e.target.result;n=t?t.key:0},i.oncomplete=function(){t(null,{doc_count:r,update_seq:n,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(e,t){!function(e,t,n){var r,l,s="keys"in e&&e.keys,i=e.skip||0,o="number"==typeof e.limit?e.limit:-1;if(!s&&(l=(r=function(e,t,n,r,l){try{if(e&&t)return l?IDBKeyRange.bound(t,e,!n,!1):IDBKeyRange.bound(e,t,!1,!n);if(e)return l?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return l?IDBKeyRange.lowerBound(t,!n):IDBKeyRange.upperBound(t,!n);if(r)return IDBKeyRange.only(r)}catch(Hk){return{error:Hk}}return null}("startkey"in e&&e.startkey,"endkey"in e&&e.endkey,!1!==e.inclusive_end,"key"in e&&e.key,e.descending))&&r.error)&&("DataError"!==l.name||0!==l.code))return n(db(ub,l.name));var u=[Z_,Q_,ew];e.attachments&&u.push(J_);var a=hw(t,u,"readonly");if(a.error)return n(a.error);var c=a.txn;c.oncomplete=function(){e.attachments?cw(y,e.binary).then(D):D()},c.onabort=lw(n);var d,h,f,p=c.objectStore(Z_),g=c.objectStore(Q_),m=c.objectStore(ew),v=g.index("_doc_id_rev"),y=[];function b(t,n){var r={id:n.id,key:n.id,value:{rev:t}};n.deleted?s&&(y.push(r),r.value.deleted=!0,r.doc=null):i--<=0&&(y.push(r),e.include_docs&&function(t,n,r){v.get(t.id+"::"+r).onsuccess=function(r){if(n.doc=ow(r.target.result)||{},e.conflicts){var l=Wb(t);l.length&&(n.doc._conflicts=l)}aw(n.doc,e,c)}}(n,r,t))}function _(e){for(var t=0,n=e.length;t<n&&y.length!==o;t++){var r=e[t];if(r.error&&s)y.push(r);else{var l=iw(r);b(l.winningRev,l)}}}function w(e,t,n){n&&(_(t),y.length<o&&n.continue())}function D(){var t={total_rows:d,offset:e.skip,rows:y};e.update_seq&&void 0!==h&&(t.update_seq=h),n(null,t)}m.get(ew).onsuccess=function(e){d=e.target.result.docCount},e.update_seq&&(f=function(e){e.target.result&&e.target.result.length>0&&(h=e.target.result[0])},g.openCursor(null,"prev").onsuccess=function(e){var t=e.target.result,n=void 0;return t&&t.key&&(n=t.key),f({target:{result:[n]}})}),l||0===o||(s?function(e,t,n){var r=new Array(e.length),l=0;e.forEach(function(s,i){t.get(s).onsuccess=function(t){r[i]=t.target.result?t.target.result:{key:s,error:"not_found"},++l===e.length&&n(e,r,{})}})}(e.keys,p,w):-1===o?function(e,t,n){if("function"!=typeof e.getAll){var r=[];e.openCursor(t).onsuccess=function(e){var t=e.target.result;t?(r.push(t.value),t.continue()):n({target:{result:r}})}}else e.getAll(t).onsuccess=n}(p,r,function(t){var n=t.target.result;e.descending&&(n=n.reverse()),_(n)}):pw(p,r,e.descending,o+i,w))}(e,l,t)},e._changes=function(t){return function(e,t,n,r){if((e=Ay(e)).continuous){var l=n+":"+Bb();return fw.addListener(n,l,t,e),fw.notify(n),{cancel:function(){fw.removeListener(n,l)}}}var s=e.doc_ids&&new hy(e.doc_ids);e.since=e.since||0;var i=e.since,o="limit"in e?e.limit:-1;0===o&&(o=1);var u,a,c,d,h=[],f=0,p=fb(e),g=new fy;function m(e,t,n,r){return n.seq!==t?r():n.winningRev===e._rev?r(n,e):void(d.get(e._id+"::"+n.winningRev).onsuccess=function(e){r(n,ow(e.target.result))})}function v(){e.complete(null,{results:h,last_seq:i})}var y=[Z_,Q_];e.attachments&&y.push(J_);var b=hw(r,y,"readonly");if(b.error)return e.complete(b.error);(u=b.txn).onabort=lw(e.complete),u.oncomplete=function(){!e.continuous&&e.attachments?cw(h).then(v):v()},a=u.objectStore(Q_),c=u.objectStore(Z_),d=a.index("_doc_id_rev"),pw(a,e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null,e.descending,o,function(t,n,r){if(r&&t.length){var l=new Array(t.length),a=new Array(t.length),d=0;n.forEach(function(n,i){!function(e,t,n){if(s&&!s.has(e._id))return n();var r=g.get(e._id);if(r)return m(e,t,r,n);c.get(e._id).onsuccess=function(l){r=iw(l.target.result),g.set(e._id,r),m(e,t,r,n)}}(ow(n),t[i],function(n,s){a[i]=n,l[i]=s,++d===t.length&&function(){for(var t=[],n=0,s=l.length;n<s&&f!==o;n++){var i=l[n];i&&t.push(v(a[n],i))}Promise.all(t).then(function(t){for(var n=0,r=t.length;n<r;n++)t[n]&&e.onChange(t[n])}).catch(e.complete),f!==o&&r.continue()}()})})}function v(t,n){var r=e.processChange(n,t,e);i=r.seq=t.seq;var l=p(r);return"object"==typeof l?Promise.reject(l):l?(f++,e.return_docs&&h.push(r),e.attachments&&e.include_docs?new Promise(function(t){aw(n,e,u,function(){cw([r],e.binary).then(function(){t(r)})})}):Promise.resolve(r)):Promise.resolve()}})}(t,e,r,l)},e._close=function(e){l.close(),bw.delete(r),e()},e._getRevisionTree=function(e,t){var n=hw(l,[Z_],"readonly");if(n.error)return t(n.error);n.txn.objectStore(Z_).get(e).onsuccess=function(e){var n=iw(e.target.result);n?t(null,n.rev_tree):t(db(Qy))}},e._doCompaction=function(e,t,n){var r=hw(l,[Z_,Q_,J_,Y_],"readwrite");if(r.error)return n(r.error);var s=r.txn;s.objectStore(Z_).get(e).onsuccess=function(n){var r=iw(n.target.result);Hb(r.rev_tree,function(e,n,r,l,s){-1!==t.indexOf(n+"-"+r)&&(s.status="missing")}),dw(t,e,s);var l=r.winningRev,i=r.deleted;s.objectStore(Z_).put(sw(r,l,i))},s.onabort=lw(n),s.oncomplete=function(){n()}},e._getLocal=function(e,t){var n=hw(l,[tw],"readonly");if(n.error)return t(n.error);var r=n.txn.objectStore(tw).get(e);r.onerror=lw(t),r.onsuccess=function(e){var n=e.target.result;n?(delete n._doc_id_rev,t(null,n)):t(db(Qy))}},e._putLocal=function(e,t,n){"function"==typeof t&&(n=t,t={}),delete e._revisions;var r=e._rev,s=e._id;e._rev=r?"0-"+(parseInt(r.split("-")[1],10)+1):"0-1";var i,o=t.ctx;if(!o){var u=hw(l,[tw],"readwrite");if(u.error)return n(u.error);(o=u.txn).onerror=lw(n),o.oncomplete=function(){i&&n(null,i)}}var a,c=o.objectStore(tw);r?(a=c.get(s)).onsuccess=function(l){var s=l.target.result;s&&s._rev===r?c.put(e).onsuccess=function(){i={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,i)}:n(db(Jy))}:((a=c.add(e)).onerror=function(e){n(db(Jy)),e.preventDefault(),e.stopPropagation()},a.onsuccess=function(){i={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,i)})},e._removeLocal=function(e,t,n){"function"==typeof t&&(n=t,t={});var r,s=t.ctx;if(!s){var i=hw(l,[tw],"readwrite");if(i.error)return n(i.error);(s=i.txn).oncomplete=function(){r&&n(null,r)}}var o=e._id,u=s.objectStore(tw),a=u.get(o);a.onerror=lw(n),a.onsuccess=function(l){var s=l.target.result;s&&s._rev===e._rev?(u.delete(o),r={ok:!0,id:o,rev:"0-0"},t.ctx&&n(null,r)):n(db(Qy))}},e._destroy=function(e,t){fw.removeAllListeners(r);var n=_w.get(r);n&&n.result&&(n.result.close(),bw.delete(r));var l=indexedDB.deleteDatabase(r);l.onsuccess=function(){_w.delete(r),Uy()&&r in localStorage&&delete localStorage[r],t(null,{ok:!0})},l.onerror=lw(t)};var a=bw.get(r);if(a)return l=a.idb,e._meta=a.global,gy()(function(){n(null,e)});var c=indexedDB.open(r,K_);_w.set(r,c),c.onupgradeneeded=function(e){var t=e.target.result;if(e.oldVersion<1)return function(e){var t=e.createObjectStore(Z_,{keyPath:"id"});e.createObjectStore(Q_,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore(J_,{keyPath:"digest"}),e.createObjectStore(ew,{keyPath:"id",autoIncrement:!1}),e.createObjectStore(nw),t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),e.createObjectStore(tw,{keyPath:"_id"});var n=e.createObjectStore(Y_,{autoIncrement:!0});n.createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0})}(t);var n=e.currentTarget.transaction;e.oldVersion<3&&function(e){e.createObjectStore(tw,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}(t),e.oldVersion<4&&function(e){var t=e.createObjectStore(Y_,{autoIncrement:!0});t.createIndex("seq","seq"),t.createIndex("digestSeq","digestSeq",{unique:!0})}(t);var r=[s,i,o,u],l=e.oldVersion;!function e(){var t=r[l-1];l++,t&&t(n,e)}()},c.onsuccess=function(t){(l=t.target.result).onversionchange=function(){l.close(),bw.delete(r)},l.onabort=function(e){zy("error","Database has a global failure",e.target.error),l.close(),bw.delete(r)};var s,i,o,u,a=l.transaction([ew,nw,Z_],"readwrite"),c=!1;function d(){void 0!==o&&c&&(e._meta={name:r,instanceId:u,blobSupport:o},bw.set(r,{idb:l,global:e._meta}),n(null,e))}function h(){if(void 0!==i&&void 0!==s){var e=r+"_id";e in s?u=s[e]:s[e]=u=Bb(),s.docCount=i,a.objectStore(ew).put(s)}}a.objectStore(ew).get(ew).onsuccess=function(e){s=e.target.result||{id:ew},h()},function(e,t){e.objectStore(Z_).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(e){i=e.target.result,h()}}(a),yw||(yw=function(e){return new Promise(function(t){var n=Mb([""]),r=e.objectStore(nw).put(n,"key");r.onsuccess=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)},r.onerror=e.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)}}).catch(function(){return!1})}(a)),yw.then(function(e){o=e,d()}),a.oncomplete=function(){c=!0,d()},a.onabort=lw(n)},c.onerror=function(){var e="Failed to open indexedDB, are you in private browsing mode?";zy("error",e),n(db(ub,e))}}(n,e,function(e,t){!function(e,t,n,r){try{e(t,n)}catch(t){r.emit("error",t)}}(r,e,t,l),gw=!1,gy()(function(){vw()})})}),vw()}(0,t,n.constructor)}ww.valid=function(){try{return"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(Hk){return!1}};var Dw=25,Sw=50,Cw=5e3,kw=1e4,xw={};function Iw(e){var t=e.doc||e.ok,n=t&&t._attachments;n&&Object.keys(n).forEach(function(e){var t=n[e];t.data=Fb(t.data,t.content_type)})}function Mw(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):/^_local/.test(e)?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function Ew(e){return e._attachments&&Object.keys(e._attachments)?Promise.all(Object.keys(e._attachments).map(function(t){var n=e._attachments[t];if(n.data&&"string"!=typeof n.data)return new Promise(function(e){Pb(n.data,e)}).then(function(e){n.data=e})})):Promise.resolve()}function Ow(e,t){return Fw(e,e.db+"/"+t)}function Fw(e,t){return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+(e.path?"/":"")+t}function Tw(e){return"?"+Object.keys(e).map(function(t){return t+"="+encodeURIComponent(e[t])}).join("&")}function Aw(e,t){var n=this,r=function(e,t){if(function(e){if(!e.prefix)return!1;var t=Sb(e.prefix).protocol;return"http"===t||"https"===t}(t)){var n=t.name.substr(t.prefix.length);e=t.prefix.replace(/\/?$/,"/")+encodeURIComponent(n)}var r=Sb(e);(r.user||r.password)&&(r.auth={username:r.user,password:r.password});var l=r.path.replace(/(^\/|\/$)/g,"").split("/");return r.db=l.pop(),-1===r.db.indexOf("%")&&(r.db=encodeURIComponent(r.db)),r.path=l.join("/"),r}(e.name,e),l=Ow(r,"");e=Ay(e);var s,i=function(t,n){if((n=n||{}).headers=n.headers||new g_,n.credentials="include",e.auth||r.auth){var l=e.auth||r.auth,s=Ib(unescape(encodeURIComponent(l.username+":"+l.password)));n.headers.set("Authorization","Basic "+s)}var i=e.headers||{};return Object.keys(i).forEach(function(e){n.headers.append(e,i[e])}),function(e){var t="undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",n=-1!==t.indexOf("msie"),r=-1!==t.indexOf("trident"),l=-1!==t.indexOf("edge");return(n||r||l)&&(!("method"in e)||"GET"===e.method)}(n)&&(t+=(-1===t.indexOf("?")?"?":"&")+"_nonce="+Date.now()),(e.fetch||p_)(t,n)};function o(e,t){return Ny(e,Sy()(function(e){a().then(function(){return t.apply(this,e)}).catch(function(t){e.pop()(t)})})).bind(n)}function u(e,t,n){var r={};return(t=t||{}).headers=t.headers||new g_,t.headers.get("Content-Type")||t.headers.set("Content-Type","application/json"),t.headers.get("Accept")||t.headers.set("Accept","application/json"),i(e,t).then(function(e){return r.ok=e.ok,r.status=e.status,e.json()}).then(function(e){if(r.data=e,!r.ok){r.data.status=r.status;var t=hb(r.data);if(n)return n(t);throw t}if(Array.isArray(r.data)&&(r.data=r.data.map(function(e){return e.error||e.missing?hb(e):e})),!n)return r;n(null,r.data)})}function a(){return e.skip_setup?Promise.resolve():s||((s=u(l).catch(function(e){return e&&e.status&&404===e.status?(Wy(404,"PouchDB is just detecting if the remote exists."),u(l,{method:"PUT"})):Promise.reject(e)}).catch(function(e){return!(!e||!e.status||412!==e.status)||Promise.reject(e)})).catch(function(){s=null}),s)}function c(e){return e.split("/").map(encodeURIComponent).join("/")}gy()(function(){t(null,n)}),n._remote=!0,n.type=function(){return"http"},n.id=o("id",function(e){i(Fw(r,"")).then(function(e){return e.json()}).catch(function(){return{}}).then(function(t){var n=t&&t.uuid?t.uuid+r.db:Ow(r,"");e(null,n)})}),n.compact=o("compact",function(e,t){"function"==typeof e&&(t=e,e={}),e=Ay(e),u(Ow(r,"_compact"),{method:"POST"}).then(function(){!function r(){n.info(function(n,l){l&&!l.compact_running?t(null,{ok:!0}):setTimeout(r,e.interval||200)})}()})}),n.bulkGet=Ny("bulkGet",function(e,t){var n=this;function l(t){var n={};e.revs&&(n.revs=!0),e.attachments&&(n.attachments=!0),e.latest&&(n.latest=!0),u(Ow(r,"_bulk_get"+Tw(n)),{method:"POST",body:JSON.stringify({docs:e.docs})}).then(function(n){e.attachments&&e.binary&&n.data.results.forEach(function(e){e.docs.forEach(Iw)}),t(null,n.data)}).catch(t)}function s(){var r=Sw,l=Math.ceil(e.docs.length/r),s=0,i=new Array(l);function o(e){return function(n,r){i[e]=r.results,++s===l&&t(null,{results:pb(i)})}}for(var u=0;u<l;u++){var a=Ry(e,["revs","attachments","binary","latest"]);a.docs=e.docs.slice(u*r,Math.min(e.docs.length,(u+1)*r)),By(n,a,o(u))}}var i=Fw(r,""),o=xw[i];"boolean"!=typeof o?l(function(e,n){e?(xw[i]=!1,Wy(e.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),s()):(xw[i]=!0,t(null,n))}):o?l(t):s()}),n._info=function(e){a().then(function(){return i(Ow(r,""))}).then(function(e){return e.json()}).then(function(t){t.host=Ow(r,""),e(null,t)}).catch(e)},n.fetch=function(e,t){return a().then(function(){var n="/"===e.substring(0,1)?Fw(r,e.substring(1)):Ow(r,e);return i(n,t)})},n.get=o("get",function(e,t,n){"function"==typeof t&&(n=t,t={});var l={};function s(e){var n=e._attachments,l=n&&Object.keys(n);if(n&&l.length)return function(e,t){return new Promise(function(n,r){var l,s=0,i=0,o=0,u=e.length;function a(){++o===u?l?r(l):n():h()}function c(){s--,a()}function d(e){s--,l=l||e,a()}function h(){for(;s<t&&i<u;)s++,e[i++]().then(c,d)}h()})}(l.map(function(l){return function(){return function(l){var s=n[l],o=Mw(e._id)+"/"+c(l)+"?rev="+e._rev;return i(Ow(r,o)).then(function(e){return"undefined"==typeof process||process.browser?e.blob():e.buffer()}).then(function(e){return t.binary?("undefined"==typeof process||process.browser||(e.type=s.content_type),e):new Promise(function(t){Pb(e,t)})}).then(function(e){delete s.stub,delete s.length,s.data=e})}(l)}}),5)}(t=Ay(t)).revs&&(l.revs=!0),t.revs_info&&(l.revs_info=!0),t.latest&&(l.latest=!0),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),l.open_revs=t.open_revs),t.rev&&(l.rev=t.rev),t.conflicts&&(l.conflicts=t.conflicts),t.update_seq&&(l.update_seq=t.update_seq),e=Mw(e),u(Ow(r,e+Tw(l))).then(function(e){return Promise.resolve().then(function(){if(t.attachments)return n=e.data,Array.isArray(n)?Promise.all(n.map(function(e){if(e.ok)return s(e.ok)})):s(n);var n}).then(function(){n(null,e.data)})}).catch(function(t){t.docId=e,n(t)})}),n.remove=o("remove",function(e,t,n,l){var s;"string"==typeof t?(s={_id:e,_rev:t},"function"==typeof n&&(l=n,n={})):(s=e,"function"==typeof t?(l=t,n={}):(l=n,n=t));var i=s._rev||n.rev;u(Ow(r,Mw(s._id))+"?rev="+i,{method:"DELETE"},l).catch(l)}),n.getAttachment=o("getAttachment",function(e,t,n,l){"function"==typeof n&&(l=n,n={});var s,o=n.rev?"?rev="+n.rev:"",u=Ow(r,Mw(e))+"/"+c(t)+o;i(u,{method:"GET"}).then(function(e){if(s=e.headers.get("content-type"),e.ok)return"undefined"==typeof process||process.browser?e.blob():e.buffer();throw e}).then(function(e){"undefined"==typeof process||process.browser||(e.type=s),l(null,e)}).catch(function(e){l(e)})}),n.removeAttachment=o("removeAttachment",function(e,t,n,l){u(Ow(r,Mw(e)+"/"+c(t))+"?rev="+n,{method:"DELETE"},l).catch(l)}),n.putAttachment=o("putAttachment",function(e,t,n,l,s,i){"function"==typeof s&&(i=s,s=l,l=n,n=null);var o=Mw(e)+"/"+c(t),a=Ow(r,o);if(n&&(a+="?rev="+n),"string"==typeof l){var d;try{d=xb(l)}catch(h){return i(db(rb,"Attachment is not a valid base64 string"))}l=d?Ob(d,s):""}u(a,{headers:new g_({"Content-Type":s}),method:"PUT",body:l},i).catch(i)}),n._bulkDocs=function(e,t,n){e.new_edits=t.new_edits,a().then(function(){return Promise.all(e.docs.map(Ew))}).then(function(){return u(Ow(r,"_bulk_docs"),{method:"POST",body:JSON.stringify(e)},n)}).catch(n)},n._put=function(e,t,n){a().then(function(){return Ew(e)}).then(function(){return u(Ow(r,Mw(e._id)),{method:"PUT",body:JSON.stringify(e)})}).then(function(e){n(null,e.data)}).catch(function(t){t.docId=e&&e._id,n(t)})},n.allDocs=o("allDocs",function(e,t){"function"==typeof e&&(t=e,e={});var n,l={},s="GET";(e=Ay(e)).conflicts&&(l.conflicts=!0),e.update_seq&&(l.update_seq=!0),e.descending&&(l.descending=!0),e.include_docs&&(l.include_docs=!0),e.attachments&&(l.attachments=!0),e.key&&(l.key=JSON.stringify(e.key)),e.start_key&&(e.startkey=e.start_key),e.startkey&&(l.startkey=JSON.stringify(e.startkey)),e.end_key&&(e.endkey=e.end_key),e.endkey&&(l.endkey=JSON.stringify(e.endkey)),void 0!==e.inclusive_end&&(l.inclusive_end=!!e.inclusive_end),void 0!==e.limit&&(l.limit=e.limit),void 0!==e.skip&&(l.skip=e.skip);var i=Tw(l);void 0!==e.keys&&(s="POST",n={keys:e.keys}),u(Ow(r,"_all_docs"+i),{method:s,body:JSON.stringify(n)}).then(function(n){e.include_docs&&e.attachments&&e.binary&&n.data.rows.forEach(Iw),t(null,n.data)}).catch(t)}),n._changes=function(e){var t="batch_size"in e?e.batch_size:Dw;!(e=Ay(e)).continuous||"heartbeat"in e||(e.heartbeat=kw);var n="timeout"in e?e.timeout:3e4;"timeout"in e&&e.timeout&&n-e.timeout<Cw&&(n=e.timeout+Cw),"heartbeat"in e&&e.heartbeat&&n-e.heartbeat<Cw&&(n=e.heartbeat+Cw);var l={};"timeout"in e&&e.timeout&&(l.timeout=e.timeout);var s=void 0!==e.limit&&e.limit,i=s;if(e.style&&(l.style=e.style),(e.include_docs||e.filter&&"function"==typeof e.filter)&&(l.include_docs=!0),e.attachments&&(l.attachments=!0),e.continuous&&(l.feed="longpoll"),e.seq_interval&&(l.seq_interval=e.seq_interval),e.conflicts&&(l.conflicts=!0),e.descending&&(l.descending=!0),e.update_seq&&(l.update_seq=!0),"heartbeat"in e&&e.heartbeat&&(l.heartbeat=e.heartbeat),e.filter&&"string"==typeof e.filter&&(l.filter=e.filter),e.view&&"string"==typeof e.view&&(l.filter="_view",l.view=e.view),e.query_params&&"object"==typeof e.query_params)for(var o in e.query_params)e.query_params.hasOwnProperty(o)&&(l[o]=e.query_params[o]);var c,d="GET";e.doc_ids?(l.filter="_doc_ids",d="POST",c={doc_ids:e.doc_ids}):e.selector&&(l.filter="_selector",d="POST",c={selector:e.selector});var h,f=new f_,p=function(n,o){if(!e.aborted){l.since=n,"object"==typeof l.since&&(l.since=JSON.stringify(l.since)),e.descending?s&&(l.limit=i):l.limit=!s||i>t?t:i;var p=Ow(r,"_changes"+Tw(l)),g={signal:f.signal,method:d,body:JSON.stringify(c)};h=n,e.aborted||a().then(function(){return u(p,g,o)}).catch(o)}},g={results:[]},m=function(n,r){if(!e.aborted){var l=0;if(r&&r.results){l=r.results.length,g.last_seq=r.last_seq;var o=null,u=null;"number"==typeof r.pending&&(o=r.pending),"string"!=typeof g.last_seq&&"number"!=typeof g.last_seq||(u=g.last_seq),r.results=r.results.filter(function(t){i--;var n=fb(e)(t);return n&&(e.include_docs&&e.attachments&&e.binary&&Iw(t),e.return_docs&&g.results.push(t),e.onChange(t,o,u)),n})}else if(n)return e.aborted=!0,void e.complete(n);r&&r.last_seq&&(h=r.last_seq),(!e.continuous||s&&i<=0)&&(s&&i<=0||r&&l<t||e.descending)?e.complete(null,g):gy()(function(){p(h,m)})}};return p(e.since||0,m),{cancel:function(){e.aborted=!0,f.abort()}}},n.revsDiff=o("revsDiff",function(e,t,n){"function"==typeof t&&(n=t,t={}),u(Ow(r,"_revs_diff"),{method:"POST",body:JSON.stringify(e)},n).catch(n)}),n._close=function(e){e()},n._destroy=function(e,t){u(Ow(r,""),{method:"DELETE"}).then(function(e){t(null,e)}).catch(function(e){404===e.status?t(null,{ok:!0}):t(e)})}}function Pw(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Pw)}catch(Hk){}}function qw(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,qw)}catch(Hk){}}function Nw(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Nw)}catch(Hk){}}function Rw(e,t){return t&&e.then(function(e){gy()(function(){t(null,e)})},function(e){gy()(function(){t(e)})}),e}function jw(e,t){return function(){var n=arguments,r=this;return e.add(function(){return t.apply(r,n)})}}function $w(e){var t=new hy(e),n=new Array(t.size),r=-1;return t.forEach(function(e){n[++r]=e}),n}function Vw(e){var t=new Array(e.size),n=-1;return e.forEach(function(e,r){t[++n]=r}),t}function Lw(e){return new Nw("builtin "+e+" function requires map values to be numbers or number arrays")}function Bw(e){for(var t=0,n=0,r=e.length;n<r;n++){var l=e[n];if("number"!=typeof l){if(!Array.isArray(l))throw Lw("_sum");t="number"==typeof t?[t]:t;for(var s=0,i=l.length;s<i;s++){var o=l[s];if("number"!=typeof o)throw Lw("_sum");void 0===t[s]?t.push(o):t[s]+=o}}else"number"==typeof t?t+=l:t[0]+=l}return t}Aw.valid=function(){return!0},ky()(Pw,Error),ky()(qw,Error),ky()(Nw,Error);var Uw=zy.bind(null,"log"),Hw=Array.isArray,zw=JSON.parse;function Xw(e,t){return Cb("return ("+e.replace(/;\s*$/,"")+");",{emit:t,sum:Bw,log:Uw,isArray:Hw,toJSON:zw})}function Ww(){this.promise=new Promise(function(e){e()})}function Gw(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}function Kw(e,t,n,r,l,s){var i,o=function(e,t){return Gw(e)+Gw(t)+"undefined"}(n,r);if(!l&&(i=e._cachedViews=e._cachedViews||{})[o])return i[o];var u=e.info().then(function(u){var a=u.db_name+"-mrview-"+(l?"temp":Vb(o));return kb(e,"_local/"+s,function(e){e.views=e.views||{};var n=t;-1===n.indexOf("/")&&(n=t+"/"+t);var r=e.views[n]=e.views[n]||{};if(!r[a])return r[a]=!0,e}).then(function(){return e.registerDependentDatabase(a).then(function(t){var l=t.db;l.auto_compaction=!0;var s={name:a,db:l,sourceDB:e,adapter:e.adapter,mapFun:n,reduceFun:r};return s.db.get("_local/lastSeq").catch(function(e){if(404!==e.status)throw e}).then(function(e){return s.seq=e?e.seq:0,i&&s.db.once("destroyed",function(){delete i[o]}),s})})})});return i&&(i[o]=u),u}Ww.prototype.add=function(e){return this.promise=this.promise.catch(function(){}).then(function(){return e()}),this.promise},Ww.prototype.finish=function(){return this.promise};var Zw={},Qw=new Ww,Jw=50;function Yw(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function eD(e,t){try{e.emit("error",t)}catch(n){zy("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),zy("error",t)}}var tD=function(e,t){return Bw(t)},nD=function(e,t){return t.length},rD=function(e,t){return{sum:Bw(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:function(e){for(var t=0,n=0,r=e.length;n<r;n++){var l=e[n];t+=l*l}return t}(t)}},lD=function(e,t,n,r){function l(e,t,n){try{t(n)}catch(Hk){eD(e,Hk)}}function s(e,t,n,r,l){try{return{output:t(n,r,l)}}catch(Hk){return eD(e,Hk),{error:Hk}}}function i(e,t){var n=I_(e.key,t.key);return 0!==n?n:I_(e.value,t.value)}function o(e,t,n){return n=n||0,"number"==typeof t?e.slice(n,t+n):n>0?e.slice(n):e}function u(e){var t=e.value;return t&&"object"==typeof t&&t._id||e.id}function a(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&function(e){e.rows.forEach(function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach(function(e){var n=t[e];t[e].data=Fb(n.data,n.content_type)})})}(t),t}}function c(e,t,n,r){var l=t[e];void 0!==l&&(r&&(l=encodeURIComponent(JSON.stringify(l))),n.push(e+"="+l))}function d(e){if(void 0!==e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function h(e,t){var n=e.descending?"endkey":"startkey",r=e.descending?"startkey":"endkey";if(void 0!==e[n]&&void 0!==e[r]&&I_(e[n],e[r])>0)throw new Pw("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new Pw("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new Pw("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(t){var n=function(e){if(e){if("number"!=typeof e)return new Pw('Invalid value for integer: "'+e+'"');if(e<0)return new Pw('Invalid value for positive integer: "'+e+'"')}}(e[t]);if(n)throw n})}function f(e){return function(t){if(404===t.status)return e;throw t}}function p(e){var t="string"==typeof e?e:e.name,n=Zw[t];return n||(n=Zw[t]=new Ww),n}function g(e){return jw(p(e),function(){return function(e){var n,r,s=t(e.mapFun,function(e,t){var l={id:r._id,key:M_(e)};null!=t&&(l.value=M_(t)),n.push(l)}),o=e.seq||0;var u=new Ww;function a(){return e.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:o,limit:Jw}).then(c)}function c(t){var c=t.results;if(c.length){var h=function(t){for(var u=new fy,a=0,c=t.length;a<c;a++){var h=t[a];if("_"!==h.doc._id[0]){n=[],(r=h.doc)._deleted||l(e.sourceDB,s,r),n.sort(i);var f=d(n);u.set(h.doc._id,[f,h.changes])}o=h.seq}return u}(c);if(u.add(function(t,n){return function(){return function(e,t,n){return e.db.get("_local/lastSeq").catch(f({_id:"_local/lastSeq",seq:0})).then(function(r){var l=Vw(t);return Promise.all(l.map(function(n){return function(e,t,n){var r,l="_local/doc_"+e,s={_id:l,keys:[]},i=n.get(e),o=i[0];return(r=i[1],1===r.length&&/^1-/.test(r[0].rev)?Promise.resolve(s):t.db.get(l).catch(f(s))).then(function(e){return function(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):Promise.resolve({rows:[]})}(e).then(function(t){return function(e,t){for(var n=[],r=new hy,l=0,s=t.rows.length;l<s;l++){var i=t.rows[l].doc;if(i&&(n.push(i),r.add(i._id),i._deleted=!o.has(i._id),!i._deleted)){var u=o.get(i._id);"value"in u&&(i.value=u.value)}}var a=Vw(o);return a.forEach(function(e){if(!r.has(e)){var t={_id:e},l=o.get(e);"value"in l&&(t.value=l.value),n.push(t)}}),e.keys=$w(a.concat(e.keys)),n.push(e),n}(e,t)})})}(n,e,t)})).then(function(t){var l=pb(t);return r.seq=n,l.push(r),e.db.bulkDocs({docs:l})})})}(e,t,n)}}(h,o)),!(c.length<Jw))return a()}}function d(e){for(var t,n=new fy,r=0,l=e.length;r<l;r++){var s=e[r],i=[s.key,s.id];r>0&&0===I_(s.key,t)&&i.push(r),n.set(E_(i),s),t=s.key}return n}return a().then(function(){return u.finish()}).then(function(){e.seq=o})}(e)})()}function m(e,t){return jw(p(e),function(){return function(e,t){var r,l=e.reduceFun&&!1!==t.reduce,i=t.skip||0;function a(t){return t.include_docs=!0,e.db.allDocs(t).then(function(e){return r=e.total_rows,e.rows.map(function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(t<n||t>n))return e.doc.value}var r=function(e){for(var t=[],n=[],r=0;;){var l=e[r++];if("\0"!==l)switch(l){case"1":t.push(null);break;case"2":t.push("1"===e[r]),r++;break;case"3":var s=O_(e,r);t.push(s.num),r+=s.length;break;case"4":for(var i="";;){var o=e[r];if("\0"===o)break;i+=o,r++}i=i.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"\x01").replace(/\u0002\u0002/g,"\x02"),t.push(i);break;case"5":var u={element:[],index:t.length};t.push(u.element),n.push(u);break;case"6":var a={element:{},index:t.length};t.push(a.element),n.push(a);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+l)}else{if(1===t.length)return t.pop();F_(t,n)}}}(e.doc._id);return{key:r[0],id:r[1],value:"value"in e.doc?e.doc.value:null}})})}function c(a){var c;if(c=l?function(e,t,r){0===r.group_level&&delete r.group_level;var l=r.group||r.group_level,i=n(e.reduceFun),u=[],a=isNaN(r.group_level)?Number.POSITIVE_INFINITY:r.group_level;t.forEach(function(e){var t=u[u.length-1],n=l?e.key:null;if(l&&Array.isArray(n)&&(n=n.slice(0,a)),t&&0===I_(t.groupKey,n))return t.keys.push([e.key,e.id]),void t.values.push(e.value);u.push({keys:[[e.key,e.id]],values:[e.value],groupKey:n})}),t=[];for(var c=0,d=u.length;c<d;c++){var h=u[c],f=s(e.sourceDB,i,h.keys,h.values,!1);if(f.error&&f.error instanceof Nw)throw f.error;t.push({value:f.error?null:f.output,key:h.groupKey})}return{rows:o(t,r.limit,r.skip)}}(e,a,t):{total_rows:r,offset:i,rows:a},t.update_seq&&(c.update_seq=e.seq),t.include_docs){var d=$w(a.map(u));return e.sourceDB.allDocs({keys:d,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then(function(e){var t=new fy;return e.rows.forEach(function(e){t.set(e.id,e.doc)}),a.forEach(function(e){var n=u(e),r=t.get(n);r&&(e.doc=r)}),c})}return c}if(void 0===t.keys||t.keys.length||(t.limit=0,delete t.keys),void 0!==t.keys){var d=t.keys.map(function(e){var n={startkey:E_([e]),endkey:E_([e,{}])};return t.update_seq&&(n.update_seq=!0),a(n)});return Promise.all(d).then(pb).then(c)}var h,f,p={descending:t.descending};if(t.update_seq&&(p.update_seq=!0),"start_key"in t&&(h=t.start_key),"startkey"in t&&(h=t.startkey),"end_key"in t&&(f=t.end_key),"endkey"in t&&(f=t.endkey),void 0!==h&&(p.startkey=E_(t.descending?[h,{}]:[h])),void 0!==f){var g=!1!==t.inclusive_end;t.descending&&(g=!g),p.endkey=E_(g?[f,{}]:[f])}if(void 0!==t.key){var m=E_([t.key]),v=E_([t.key,{}]);p.descending?(p.endkey=m,p.startkey=v):(p.startkey=m,p.endkey=v)}return l||("number"==typeof t.limit&&(p.limit=t.limit),p.skip=i),a(p).then(c)}(e,t)})()}var v;return{query:function(e,t,n){var r=this;"function"==typeof t&&(n=t,t={}),t=t?function(e){return e.group_level=d(e.group_level),e.limit=d(e.limit),e.skip=d(e.skip),e}(t):{},"function"==typeof e&&(e={map:e});var l=Promise.resolve().then(function(){return function(e,t,n){if("function"==typeof e._query)return function(e,t,n){return new Promise(function(r,l){e._query(t,n,function(e,t){if(e)return l(e);r(t)})})}(e,t,n);if(mb(e))return function(e,t,n){var r,l,s,i=[],o="GET";if(c("reduce",n,i),c("include_docs",n,i),c("attachments",n,i),c("limit",n,i),c("descending",n,i),c("group",n,i),c("group_level",n,i),c("skip",n,i),c("stale",n,i),c("conflicts",n,i),c("startkey",n,i,!0),c("start_key",n,i,!0),c("endkey",n,i,!0),c("end_key",n,i,!0),c("inclusive_end",n,i),c("key",n,i,!0),c("update_seq",n,i),i=""===(i=i.join("&"))?"":"?"+i,void 0!==n.keys){var u="keys="+encodeURIComponent(JSON.stringify(n.keys));u.length+i.length+1<=2e3?i+=("?"===i[0]?"&":"?")+u:(o="POST","string"==typeof t?r={keys:n.keys}:t.keys=n.keys)}if("string"==typeof t){var d=Yw(t);return e.fetch("_design/"+d[0]+"/_view/"+d[1]+i,{headers:new g_({"Content-Type":"application/json"}),method:o,body:JSON.stringify(r)}).then(function(e){return l=e.ok,s=e.status,e.json()}).then(function(e){if(!l)throw e.status=s,hb(e);return e.rows.forEach(function(e){if(e.value&&e.value.error&&"builtin_reduce_error"===e.value.error)throw new Error(e.reason)}),e}).then(a(n))}return r=r||{},Object.keys(t).forEach(function(e){r[e]=Array.isArray(t[e])?t[e]:t[e].toString()}),e.fetch("_temp_view"+i,{headers:new g_({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(r)}).then(function(e){return l=e.ok,s=e.status,e.json()}).then(function(e){if(!l)throw e.status=s,hb(e);return e}).then(a(n))}(e,t,n);if("string"!=typeof t)return h(n,t),Qw.add(function(){return Kw(e,"temp_view/temp_view",t.map,t.reduce,!0,"mrviews").then(function(e){return t=g(e).then(function(){return m(e,n)}),r=function(){return e.db.destroy()},t.then(function(e){return r().then(function(){return e})},function(e){return r().then(function(){throw e})});var t,r})}),Qw.finish();var r=t,l=Yw(r),s=l[1];return e.get("_design/"+l[0]).then(function(t){var l=t.views&&t.views[s];if(!l)throw new qw("ddoc "+t._id+" has no view named "+s);return function(e,t){var n=e.views&&e.views[t];if("string"!=typeof n.map)throw new qw("ddoc "+e._id+" has no string view named "+t+", instead found object of type: "+typeof n.map)}(t,s),h(n,l),Kw(e,r,l.map,l.reduce,!1,"mrviews").then(function(e){return"ok"===n.stale||"update_after"===n.stale?("update_after"===n.stale&&gy()(function(){g(e)}),m(e,n)):g(e).then(function(){return m(e,n)})})})}(r,e,t)});return Rw(l,n),l},viewCleanup:(v=function(){var e=this;return"function"==typeof e._viewCleanup?function(e){return new Promise(function(t,n){e._viewCleanup(function(e,r){if(e)return n(e);t(r)})})}(e):mb(e)?function(e){return e.fetch("_view_cleanup",{headers:new g_({"Content-Type":"application/json"}),method:"POST"}).then(function(e){return e.json()})}(e):function(e){return e.get("_local/mrviews").then(function(t){var n=new fy;Object.keys(t.views).forEach(function(e){var t=Yw(e),r="_design/"+t[0],l=t[1],s=n.get(r);s||(s=new hy,n.set(r,s)),s.add(l)});var r={keys:Vw(n),include_docs:!0};return e.allDocs(r).then(function(r){var l={};r.rows.forEach(function(e){var r=e.key.substring(8);n.get(e.key).forEach(function(n){var s=r+"/"+n;t.views[s]||(s=n);var i=Object.keys(t.views[s]),o=e.doc&&e.doc.views&&e.doc.views[n];i.forEach(function(e){l[e]=l[e]||o})})});var s=Object.keys(l).filter(function(e){return!l[e]}).map(function(t){return jw(p(t),function(){return new e.constructor(t,e.__opts).destroy()})()});return Promise.all(s).then(function(){return{ok:!0}})})},f({ok:!0}))}(e)},Sy()(function(e){var t=e.pop(),n=v.apply(this,e);return"function"==typeof t&&Rw(n,t),n}))}}(0,function(e,t){if("function"==typeof e&&2===e.length){var n=e;return function(e){return n(e,t)}}return Xw(e.toString(),t)},function(e){var t=e.toString();return function(e){if(/^_sum/.test(e))return tD;if(/^_count/.test(e))return nD;if(/^_stats/.test(e))return rD;if(/^_/.test(e))throw new Error(e+" is not a supported reduce function.")}(t)||Xw(t)}),sD={query:function(e,t,n){return lD.query.call(this,e,t,n)},viewCleanup:function(e){return lD.viewCleanup.call(this,e)}};function iD(e){return/^1-/.test(e)}function oD(e,t){var n=Object.keys(t._attachments);return Promise.all(n.map(function(n){return e.getAttachment(t._id,n,{rev:t._rev})}))}var uD=1,aD="pouchdb",cD=5;function dD(e,t,n,r,l){return e.get(t).catch(function(n){if(404===n.status)return"http"!==e.adapter&&"https"!==e.adapter||Wy(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:r,_id:t,history:[],replicator:aD,version:uD};throw n}).then(function(s){if(!l.cancelled&&s.last_seq!==n)return s.history=(s.history||[]).filter(function(e){return e.session_id!==r}),s.history.unshift({last_seq:n,session_id:r}),s.history=s.history.slice(0,cD),s.version=uD,s.replicator=aD,s.session_id=r,s.last_seq=n,e.put(s).catch(function(s){if(409===s.status)return dD(e,t,n,r,l);throw s})})}function hD(e,t,n,r,l){this.src=e,this.target=t,this.id=n,this.returnValue=r,this.opts=l||{}}hD.prototype.writeCheckpoint=function(e,t){var n=this;return this.updateTarget(e,t).then(function(){return n.updateSource(e,t)})},hD.prototype.updateTarget=function(e,t){return this.opts.writeTargetCheckpoint?dD(this.target,this.id,e,t,this.returnValue):Promise.resolve(!0)},hD.prototype.updateSource=function(e,t){if(this.opts.writeSourceCheckpoint){var n=this;return dD(this.src,this.id,e,t,this.returnValue).catch(function(e){if(gD(e))return n.opts.writeSourceCheckpoint=!1,!0;throw e})}return Promise.resolve(!0)};var fD={undefined:function(e,t){return 0===I_(e.last_seq,t.last_seq)?t.last_seq:0},1:function(e,t){return(t.session_id===e.session_id?{last_seq:t.last_seq,history:t.history}:function e(t,n){var r=t[0],l=t.slice(1),s=n[0],i=n.slice(1);return r&&0!==n.length?pD(r.session_id,n)?{last_seq:r.last_seq,history:t}:pD(s.session_id,l)?{last_seq:s.last_seq,history:i}:e(l,i):{last_seq:0,history:[]}}(t.history,e.history)).last_seq}};function pD(e,t){var n=t[0],r=t.slice(1);return!(!e||0===t.length)&&(e===n.session_id||pD(e,r))}function gD(e){return"number"==typeof e.status&&4===Math.floor(e.status/100)}hD.prototype.getCheckpoint=function(){var e=this;return e.opts&&e.opts.writeSourceCheckpoint&&!e.opts.writeTargetCheckpoint?e.src.get(e.id).then(function(e){return e.last_seq||0}).catch(function(e){if(404!==e.status)throw e;return 0}):e.target.get(e.id).then(function(t){return e.opts&&e.opts.writeTargetCheckpoint&&!e.opts.writeSourceCheckpoint?t.last_seq||0:e.src.get(e.id).then(function(e){return t.version!==e.version?0:(n=t.version?t.version.toString():"undefined")in fD?fD[n](t,e):0;var n},function(n){if(404===n.status&&t.last_seq)return e.src.put({_id:e.id,last_seq:0}).then(function(){return 0},function(n){return gD(n)?(e.opts.writeSourceCheckpoint=!1,t.last_seq):0});throw n})}).catch(function(e){if(404!==e.status)throw e;return 0})};var mD=0;function vD(e,t,n,r,l){var s,i,o=[],u={seq:0,changes:[],docs:[]},a=!1,c=!1,d=!1,h=0,f=n.continuous||n.live||!1,p=n.batch_size||100,g=n.batches_limit||10,m=!1,v=n.doc_ids,y=n.selector,b=[],_=Bb();l=l||{ok:!0,start_time:(new Date).toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var w={};function D(){return i?Promise.resolve():function(e,t,n){var r=n.doc_ids?n.doc_ids.sort(I_):"",l=n.filter?n.filter.toString():"",s="",i="",o="";return n.selector&&(o=JSON.stringify(n.selector)),n.filter&&n.query_params&&(s=JSON.stringify(function(e){return Object.keys(e).sort(I_).reduce(function(t,n){return t[n]=e[n],t},{})}(n.query_params))),n.filter&&"_view"===n.filter&&(i=n.view.toString()),Promise.all([e.id(),t.id()]).then(function(e){var t=e[0]+e[1]+l+i+s+r+o;return new Promise(function(e){$b(t,e)})}).then(function(e){return"_local/"+e.replace(/\//g,".").replace(/\+/g,"_")})}(e,t,n).then(function(l){i=new hD(e,t,l,r,!1===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:"source"===n.checkpoint?{writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:"target"===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0})})}function S(){if(b=[],0!==s.docs.length){var e=s.docs;return t.bulkDocs({docs:e,new_edits:!1},{timeout:n.timeout}).then(function(t){if(r.cancelled)throw E(),new Error("cancelled");var n=Object.create(null);t.forEach(function(e){e.error&&(n[e.id]=e)});var s=Object.keys(n).length;l.doc_write_failures+=s,l.docs_written+=e.length-s,e.forEach(function(e){var t=n[e._id];if(t){l.errors.push(t);var s=(t.name||"").toLowerCase();if("unauthorized"!==s&&"forbidden"!==s)throw t;r.emit("denied",Ay(t))}else b.push(e)})},function(t){throw l.doc_write_failures+=e.length,t})}}function C(){if(s.error)throw new Error("There was a problem getting docs.");l.last_seq=h=s.seq;var e=Ay(l);return b.length&&(e.docs=b,"number"==typeof s.pending&&(e.pending=s.pending,delete s.pending),r.emit("change",e)),a=!0,i.writeCheckpoint(s.seq,_).then(function(){if(a=!1,r.cancelled)throw E(),new Error("cancelled");s=void 0,A()}).catch(function(e){throw q(e),e})}function k(){return function(e,t,n,r){n=Ay(n);var l=[],s=!0;return Promise.resolve().then(function(){var t=Object.keys(n).filter(function(e){var t=n[e].missing;return 1===t.length&&iD(t[0])});if(t.length>0)return function(t){return e.allDocs({keys:t,include_docs:!0,conflicts:!0}).then(function(e){if(r.cancelled)throw new Error("cancelled");e.rows.forEach(function(e){var t;e.deleted||!e.doc||!iD(e.value.rev)||(t=e.doc)._attachments&&Object.keys(t._attachments).length>0||function(e){return e._conflicts&&e._conflicts.length>0}(e.doc)||(e.doc._conflicts&&delete e.doc._conflicts,l.push(e.doc),delete n[e.id])})})}(t)}).then(function(){var i=function(e){var t=[];return Object.keys(e).forEach(function(n){e[n].missing.forEach(function(e){t.push({id:n,rev:e})})}),{docs:t,revs:!0,latest:!0}}(n);if(i.docs.length)return e.bulkGet(i).then(function(n){if(r.cancelled)throw new Error("cancelled");return Promise.all(n.results.map(function(n){return Promise.all(n.docs.map(function(n){var r=n.ok;return n.error&&(s=!1),r&&r._attachments?function(e,t,n){var r=mb(t)&&!mb(e),l=Object.keys(n._attachments);return r?e.get(n._id).then(function(r){return Promise.all(l.map(function(l){return function(e,t,r){return!e._attachments||!e._attachments[r]||e._attachments[r].digest!==n._attachments[r].digest}(r,0,l)?t.getAttachment(n._id,l):e.getAttachment(r._id,l)}))}).catch(function(e){if(404!==e.status)throw e;return oD(t,n)}):oD(t,n)}(t,e,r).then(function(e){var t=Object.keys(r._attachments);return e.forEach(function(e,n){var l=r._attachments[t[n]];delete l.stub,delete l.length,l.data=e}),r}):r}))})).then(function(e){l=l.concat(pb(e).filter(Boolean))})})}).then(function(){return{ok:s,docs:l}})}(e,t,s.diffs,r).then(function(e){s.error=!e.ok,e.docs.forEach(function(e){delete s.diffs[e._id],l.docs_read++,s.docs.push(e)})})}function x(){var e;r.cancelled||s||(0!==o.length?(s=o.shift(),(e={},s.changes.forEach(function(t){"_user/"!==t.id&&(e[t.id]=t.changes.map(function(e){return e.rev}))}),t.revsDiff(e).then(function(e){if(r.cancelled)throw E(),new Error("cancelled");s.diffs=e})).then(k).then(S).then(C).then(x).catch(function(e){M("batch processing terminated with error",e)})):I(!0))}function I(e){0!==u.changes.length?(e||c||u.changes.length>=p)&&(o.push(u),u={seq:0,changes:[],docs:[]},"pending"!==r.state&&"stopped"!==r.state||(r.state="active",r.emit("active")),x()):0!==o.length||s||((f&&w.live||c)&&(r.state="pending",r.emit("paused")),c&&E())}function M(e,t){d||(t.message||(t.message=e),l.ok=!1,l.status="aborting",o=[],u={seq:0,changes:[],docs:[]},E(t))}function E(s){if(!(d||r.cancelled&&(l.status="cancelled",a)))if(l.status=l.status||"complete",l.end_time=(new Date).toISOString(),l.last_seq=h,d=!0,s){(s=db(s)).result=l;var i=(s.name||"").toLowerCase();"unauthorized"===i||"forbidden"===i?(r.emit("error",s),r.removeAllListeners()):function(e,t,n,r){if(!1===e.retry)return t.emit("error",n),void t.removeAllListeners();if("function"!=typeof e.back_off_function&&(e.back_off_function=Xy),t.emit("requestError",n),"active"===t.state||"pending"===t.state){t.emit("paused",n),t.state="stopped";var l=function(){e.current_back_off=mD};t.once("paused",function(){t.removeListener("active",l)}),t.once("active",l)}e.current_back_off=e.current_back_off||mD,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(r,e.current_back_off)}(n,r,s,function(){vD(e,t,n,r)})}else r.emit("complete",l),r.removeAllListeners()}function O(e,t,l){if(r.cancelled)return E();"number"==typeof t&&(u.pending=t),fb(n)(e)&&(u.seq=e.seq||l,u.changes.push(e),gy()(function(){I(0===o.length&&w.live)}))}function F(e){if(m=!1,r.cancelled)return E();if(e.results.length>0)w.since=e.results[e.results.length-1].seq,A(),I(!0);else{var t=function(){f?(w.live=!0,A()):c=!0,I(!0)};s||0!==e.results.length?t():(a=!0,i.writeCheckpoint(e.last_seq,_).then(function(){a=!1,l.last_seq=h=e.last_seq,t()}).catch(q))}}function T(e){if(m=!1,r.cancelled)return E();M("changes rejected",e)}function A(){if(!m&&!c&&o.length<g){m=!0,r._changes&&(r.removeListener("cancel",r._abortChanges),r._changes.cancel()),r.once("cancel",l);var t=e.changes(w).on("change",O);t.then(s,s),t.then(F).catch(T),n.retry&&(r._changes=t,r._abortChanges=l)}function l(){t.cancel()}function s(){r.removeListener("cancel",l)}}function P(){D().then(function(){if(!r.cancelled)return i.getCheckpoint().then(function(e){w={since:h=e,limit:p,batch_size:p,style:"all_docs",doc_ids:v,selector:y,return_docs:!0},n.filter&&("string"!=typeof n.filter?w.include_docs=!0:w.filter=n.filter),"heartbeat"in n&&(w.heartbeat=n.heartbeat),"timeout"in n&&(w.timeout=n.timeout),n.query_params&&(w.query_params=n.query_params),n.view&&(w.view=n.view),A()});E()}).catch(function(e){M("getCheckpoint rejected with ",e)})}function q(e){a=!1,M("writeCheckpoint completed with error",e)}r.ready(e,t),r.cancelled?E():(r._addedListeners||(r.once("cancel",E),"function"==typeof n.complete&&(r.once("error",n.complete),r.once("complete",function(e){n.complete(null,e)})),r._addedListeners=!0),void 0===n.since?P():D().then(function(){return a=!0,i.writeCheckpoint(n.since,_)}).then(function(){a=!1,r.cancelled?E():(h=n.since,P())}).catch(q))}function yD(){xy.EventEmitter.call(this),this.cancelled=!1,this.state="pending";var e=this,t=new Promise(function(t,n){e.once("complete",t),e.once("error",n)});e.then=function(e,n){return t.then(e,n)},e.catch=function(e){return t.catch(e)},e.catch(function(){})}function bD(e,t){return"string"==typeof e?new(0,t.PouchConstructor)(e,t):e}function _D(e,t,n,r){if("function"==typeof n&&(r=n,n={}),void 0===n&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw db(ib,"`doc_ids` filter parameter is not a list.");n.complete=r,(n=Ay(n)).continuous=n.continuous||n.live,n.retry="retry"in n&&n.retry,n.PouchConstructor=n.PouchConstructor||this;var l=new yD(n);return vD(bD(e,n),bD(t,n),n,l),l}function wD(e,t,n,r){return"function"==typeof n&&(r=n,n={}),void 0===n&&(n={}),(n=Ay(n)).PouchConstructor=n.PouchConstructor||this,new DD(e=bD(e,n),t=bD(t,n),n,r)}function DD(e,t,n,r){var l=this;this.canceled=!1;var s=n.push?Gy({},n,n.push):n,i=n.pull?Gy({},n,n.pull):n;function o(e){l.emit("change",{direction:"pull",change:e})}function u(e){l.emit("change",{direction:"push",change:e})}function a(e){l.emit("denied",{direction:"push",doc:e})}function c(e){l.emit("denied",{direction:"pull",doc:e})}function d(){l.pushPaused=!0,l.pullPaused&&l.emit("paused")}function h(){l.pullPaused=!0,l.pushPaused&&l.emit("paused")}function f(){l.pushPaused=!1,l.pullPaused&&l.emit("active",{direction:"push"})}function p(){l.pullPaused=!1,l.pushPaused&&l.emit("active",{direction:"pull"})}this.push=_D(e,t,s),this.pull=_D(t,e,i),this.pushPaused=!0,this.pullPaused=!0;var g={};function m(e){return function(t,n){("change"===t&&(n===o||n===u)||"denied"===t&&(n===c||n===a)||"paused"===t&&(n===h||n===d)||"active"===t&&(n===p||n===f))&&(t in g||(g[t]={}),g[t][e]=!0,2===Object.keys(g[t]).length&&l.removeAllListeners(t))}}function v(e,t,n){-1==e.listeners(t).indexOf(n)&&e.on(t,n)}n.live&&(this.push.on("complete",l.pull.cancel.bind(l.pull)),this.pull.on("complete",l.push.cancel.bind(l.push))),this.on("newListener",function(e){"change"===e?(v(l.pull,"change",o),v(l.push,"change",u)):"denied"===e?(v(l.pull,"denied",c),v(l.push,"denied",a)):"active"===e?(v(l.pull,"active",p),v(l.push,"active",f)):"paused"===e&&(v(l.pull,"paused",h),v(l.push,"paused",d))}),this.on("removeListener",function(e){"change"===e?(l.pull.removeListener("change",o),l.push.removeListener("change",u)):"denied"===e?(l.pull.removeListener("denied",c),l.push.removeListener("denied",a)):"active"===e?(l.pull.removeListener("active",p),l.push.removeListener("active",f)):"paused"===e&&(l.pull.removeListener("paused",h),l.push.removeListener("paused",d))}),this.pull.on("removeListener",m("pull")),this.push.on("removeListener",m("push"));var y=Promise.all([this.push,this.pull]).then(function(e){var t={push:e[0],pull:e[1]};return l.emit("complete",t),r&&r(null,t),l.removeAllListeners(),t},function(e){if(l.cancel(),r?r(e):l.emit("error",e),l.removeAllListeners(),r)throw e});this.then=function(e,t){return y.then(e,t)},this.catch=function(e){return y.catch(e)}}ky()(yD,xy.EventEmitter),yD.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},yD.prototype.ready=function(e,t){var n=this;function r(){n.cancel()}n._readyCalled||(n._readyCalled=!0,e.once("destroyed",r),t.once("destroyed",r),n.once("complete",function(){e.removeListener("destroyed",r),t.removeListener("destroyed",r)}))},ky()(DD,xy.EventEmitter),DD.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},h_.plugin(function(e){e.adapter("idb",ww,!0)}).plugin(function(e){e.adapter("http",Aw,!1),e.adapter("https",Aw,!1)}).plugin(sD).plugin(function(e){e.replicate=_D,e.sync=wD,Object.defineProperty(e.prototype,"replicate",{get:function(){var e=this;return void 0===this.replicateMethods&&(this.replicateMethods={from:function(t,n,r){return e.constructor.replicate(t,e,n,r)},to:function(t,n,r){return e.constructor.replicate(e,t,n,r)}}),this.replicateMethods}}),e.prototype.sync=function(e,t,n){return this.constructor.sync(this,e,t,n)}});var SD=h_,CD=n("yV8l");function kD(e,t,n){Error.call(this,n),this.status=e,this.name=t,this.message=n,this.error=!0}n.n(CD)()(kD,Error),kD.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})},new kD(401,"unauthorized","Name or password is incorrect."),new kD(400,"bad_request","Missing JSON list of 'docs'"),new kD(404,"not_found","missing"),new kD(409,"conflict","Document update conflict"),new kD(400,"bad_request","_id field must contain a string"),new kD(412,"missing_id","_id is required for puts"),new kD(400,"bad_request","Only reserved document ids may start with underscore."),new kD(412,"precondition_failed","Database not open");var xD=new kD(500,"unknown_error","Database encountered an unknown error");function ID(e){if("object"!=typeof e){var t=e;(e=xD).data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),e}new kD(500,"badarg","Some query argument is invalid"),new kD(400,"invalid_request","Request was invalid"),new kD(400,"query_parse_error","Some query parameter is invalid"),new kD(500,"doc_validation","Bad special document member"),new kD(400,"bad_request","Something wrong with the request"),new kD(400,"bad_request","Document must be a JSON object"),new kD(404,"not_found","Database not found"),new kD(500,"indexed_db_went_bad","unknown"),new kD(500,"web_sql_went_bad","unknown"),new kD(500,"levelDB_went_went_bad","unknown"),new kD(403,"forbidden","Forbidden by design doc validate_doc_update function"),new kD(400,"bad_request","Invalid rev format"),new kD(412,"file_exists","The database could not be created, the file already exists."),new kD(412,"missing_stub","A pre-existing attachment stub wasn't found"),new kD(413,"invalid_url","Provided URL is invalid"),"undefined"!=typeof AbortController&&AbortController,fetch;var MD,ED,OD=Headers;function FD(e){return"$"+e}function TD(e){return e.substring(1)}function AD(){this._store={}}function PD(e){if(this._store=new AD,e&&Array.isArray(e))for(var t=0,n=e.length;t<n;t++)this.add(e[t])}AD.prototype.get=function(e){var t=FD(e);return this._store[t]},AD.prototype.set=function(e,t){var n=FD(e);return this._store[n]=t,!0},AD.prototype.has=function(e){return FD(e)in this._store},AD.prototype.delete=function(e){var t=FD(e),n=t in this._store;return delete this._store[t],n},AD.prototype.forEach=function(e){for(var t=Object.keys(this._store),n=0,r=t.length;n<r;n++){var l=t[n];e(this._store[l],l=TD(l))}},Object.defineProperty(AD.prototype,"size",{get:function(){return Object.keys(this._store).length}}),PD.prototype.add=function(e){return this._store.set(e,!0)},PD.prototype.has=function(e){return this._store.has(e)},PD.prototype.forEach=function(e){this._store.forEach(function(t,n){e(n)})},Object.defineProperty(PD.prototype,"size",{get:function(){return this._store.size}}),function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(MD=Set,ED=Map):(MD=PD,ED=AD);var qD=function(e){return atob(e)};function ND(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),l=0;l<t;l++)r[l]=e.charCodeAt(l);return n}var RD=-324,jD=3,$D="";function VD(e,t){if(e===t)return 0;e=LD(e),t=LD(t);var n=zD(e),r=zD(t);if(n-r!=0)return n-r;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return function(e,t){return e===t?0:e>t?1:-1}(e,t)}return Array.isArray(e)?function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var l=VD(e[r],t[r]);if(0!==l)return l}return e.length===t.length?0:e.length>t.length?1:-1}(e,t):function(e,t){for(var n=Object.keys(e),r=Object.keys(t),l=Math.min(n.length,r.length),s=0;s<l;s++){var i=VD(n[s],r[s]);if(0!==i)return i;if(0!==(i=VD(e[n[s]],t[r[s]])))return i}return n.length===r.length?0:n.length>r.length?1:-1}(e,t)}function LD(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var n=e.length;e=new Array(n);for(var r=0;r<n;r++)e[r]=LD(t[r])}else{if(e instanceof Date)return e.toJSON();if(null!==e)for(var l in e={},t)if(t.hasOwnProperty(l)){var s=t[l];void 0!==s&&(e[l]=LD(s))}}}return e}function BD(e){return zD(e=LD(e))+$D+function(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return function(e){if(0===e)return"1";var t,n=e.toExponential().split(/e\+?/),r=parseInt(n[1],10),l=e<0,s=l?"0":"2",i=function(e,t,n){for(var r="",l=jD-e.length;r.length<l;)r+="0";return r}(t=((l?-r:r)-RD).toString())+t;s+=$D+i;var o=Math.abs(parseFloat(n[0]));l&&(o=10-o);var u=o.toFixed(20);return u=u.replace(/\.?0+$/,""),s+($D+u)}(e);case"string":return e.replace(/\u0002/g,"\x02\x02").replace(/\u0001/g,"\x01\x02").replace(/\u0000/g,"\x01\x01");case"object":var t=Array.isArray(e),n=t?e:Object.keys(e),r=-1,l=n.length,s="";if(t)for(;++r<l;)s+=BD(n[r]);else for(;++r<l;){var i=n[r];s+=BD(i)+BD(e[i])}return s}return""}(e)+"\0"}function UD(e,t){var n,r=t;if("1"===e[t])n=0,t++;else{var l="0"===e[t],s="",i=e.substring(++t,t+jD),o=parseInt(i,10)+RD;for(l&&(o=-o),t+=jD;;){var u=e[t];if("\0"===u)break;s+=u,t++}n=1===(s=s.split(".")).length?parseInt(s,10):parseFloat(s[0]+"."+s[1]),l&&(n-=10),0!==o&&(n=parseFloat(n+"e"+o))}return{num:n,length:t-r}}function HD(e,t){var n=e.pop();if(t.length){var r=t[t.length-1];n===r.element&&(t.pop(),r=t[t.length-1]);var l=r.element,s=r.index;Array.isArray(l)?l.push(n):s===e.length-2?l[e.pop()]=n:e.push(n)}}function zD(e){var t=["boolean","number","string","object"].indexOf(typeof e);return~t?null===e?1:Array.isArray(e)?5:t<3?t+2:t+3:Array.isArray(e)?5:void 0}var XD=n("zu5P"),WD=n.n(XD);function GD(e){return by.a.hash(e)}n("5Lhs"),global.setImmediate||global;var KD,ZD=Function.prototype.toString,QD=ZD.call(Object);function JD(e){var t,n,r;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],n=0,r=e.length;n<r;n++)t[n]=JD(e[n]);return t}if(e instanceof Date)return e.toISOString();if(function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}(e))return function(e){if(e instanceof ArrayBuffer)return function(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),r=new Uint8Array(e);return n.set(r),t}(e);var t=e.size,n=e.type;return"function"==typeof e.slice?e.slice(0,t,n):e.webkitSlice(0,t,n)}(e);if(!function(t){var n=Object.getPrototypeOf(e);if(null===n)return!0;var r=n.constructor;return"function"==typeof r&&r instanceof r&&ZD.call(r)==QD}())return e;for(n in t={},e)if(Object.prototype.hasOwnProperty.call(e,n)){var l=JD(e[n]);void 0!==l&&(t[n]=l)}return t}function YD(e){return Sy()(function(t){t=JD(t);var n=this,r="function"==typeof t[t.length-1]&&t.pop(),l=new Promise(function(r,l){var s,i,o;try{var u=(i=function(e,t){e?l(e):r(t)},o=!1,Sy()(function(e){if(o)throw new Error("once called more than once");o=!0,i.apply(this,e)}));t.push(u),(s=e.apply(n,t))&&"function"==typeof s.then&&r(s)}catch(Hk){l(Hk)}});return r&&l.then(function(e){r(null,e)},r),l})}try{localStorage.setItem("_pouch_check_localstorage",1),KD=!!localStorage.getItem("_pouch_check_localstorage")}catch(Hk){KD=!1}function eS(){return KD}function tS(){xy.EventEmitter.call(this),this._listeners={},function(e){eS()&&addEventListener("storage",function(t){e.emit(t.key)})}(this)}function nS(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}WD()(tS,xy.EventEmitter),tS.prototype.addListener=function(e,t,n,r){if(!this._listeners[t]){var l=this,s=!1;this._listeners[t]=i,this.on(e,i)}function i(){if(l._listeners[t])if(s)s="waiting";else{s=!0;var e=function(e,t){for(var n={},r=0,l=t.length;r<l;r++){var s=t[r];s in e&&(n[s]=e[s])}return n}(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);n.changes(e).on("change",function(e){e.seq>r.since&&!r.cancelled&&(r.since=e.seq,r.onChange(e))}).on("complete",function(){"waiting"===s&&gy()(i),s=!1}).on("error",function(){s=!1})}}},tS.prototype.removeListener=function(e,t){t in this._listeners&&(xy.EventEmitter.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},tS.prototype.notifyLocalWindows=function(e){eS()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},tS.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var rS="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l])}return t};function lS(e){for(var t=[],n=0,r=e.length;n<r;n++)t=t.concat(e[n]);return t}function sS(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(nS("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function iS(e,t,n){return new Promise(function(r,l){e.get(t,function(s,i){if(s){if(404!==s.status)return l(s);i={}}var o=i._rev,u=n(i);if(!u)return r({updated:!1,rev:o});u._id=t,u._rev=o,r(function(e,t,n){return e.put(t).then(function(e){return{updated:!0,rev:e.rev}},function(r){if(409!==r.status)throw r;return iS(e,t._id,n)})}(e,u,n))})})}var oS=n("kwZD"),uS=n.n(oS);function aS(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,aS)}catch(Hk){}}function cS(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,cS)}catch(Hk){}}function dS(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,dS)}catch(Hk){}}function hS(e,t){return t&&e.then(function(e){gy()(function(){t(null,e)})},function(e){gy()(function(){t(e)})}),e}function fS(e,t){return function(){var n=arguments,r=this;return e.add(function(){return t.apply(r,n)})}}function pS(e){var t=new MD(e),n=new Array(t.size),r=-1;return t.forEach(function(e){n[++r]=e}),n}function gS(e){var t=new Array(e.size),n=-1;return e.forEach(function(e,r){t[++n]=r}),t}function mS(){this.promise=new Promise(function(e){e()})}function vS(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}function yS(e,t,n,r,l,s){var i,o=function(e,t){return vS(e)+vS(t)+"undefined"}(n,r);if(!l&&(i=e._cachedViews=e._cachedViews||{})[o])return i[o];var u=e.info().then(function(u){var a=u.db_name+"-mrview-"+(l?"temp":GD(o));return iS(e,"_local/"+s,function(e){e.views=e.views||{};var n=t;-1===n.indexOf("/")&&(n=t+"/"+t);var r=e.views[n]=e.views[n]||{};if(!r[a])return r[a]=!0,e}).then(function(){return e.registerDependentDatabase(a).then(function(t){var l=t.db;l.auto_compaction=!0;var s={name:a,db:l,sourceDB:e,adapter:e.adapter,mapFun:n,reduceFun:r};return s.db.get("_local/lastSeq").catch(function(e){if(404!==e.status)throw e}).then(function(e){return s.seq=e?e.seq:0,i&&s.db.once("destroyed",function(){delete i[o]}),s})})})});return i&&(i[o]=u),u}uS()(aS,Error),uS()(cS,Error),uS()(dS,Error),mS.prototype.add=function(e){return this.promise=this.promise.catch(function(){}).then(function(){return e()}),this.promise},mS.prototype.finish=function(){return this.promise};var bS={},_S=new mS,wS=50;function DS(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function SS(e,t){try{e.emit("error",t)}catch(n){nS("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),nS("error",t)}}function CS(e,t){for(var n=e,r=0,l=t.length;r<l&&(n=n[t[r]]);r++);return n}function kS(e,t,n){for(var r=0,l=t.length;r<l-1;r++)e=e[t[r]]={};e[t[l-1]]=n}function xS(e,t){return e<t?-1:e>t?1:0}function IS(e){for(var t=[],n="",r=0,l=e.length;r<l;r++){var s=e[r];"."===s?r>0&&"\\"===e[r-1]?n=n.substring(0,n.length-1)+".":(t.push(n),n=""):n+=s}return t.push(n),t}var MS=["$or","$nor","$not"];function ES(e){return MS.indexOf(e)>-1}function OS(e){return Object.keys(e)[0]}function FS(e){return e[OS(e)]}function TS(e){var t={};return e.forEach(function(e){Object.keys(e).forEach(function(n){var r=e[n];if("object"!=typeof r&&(r={$eq:r}),ES(n))t[n]=r instanceof Array?r.map(function(e){return TS([e])}):TS([r]);else{var l=t[n]=t[n]||{};Object.keys(r).forEach(function(e){var t=r[e];return"$gt"===e||"$gte"===e?function(e,t,n){void 0===n.$eq&&(void 0!==n.$gte?"$gte"===e?t>n.$gte&&(n.$gte=t):t>=n.$gte&&(delete n.$gte,n.$gt=t):void 0!==n.$gt?"$gte"===e?t>n.$gt&&(delete n.$gt,n.$gte=t):t>n.$gt&&(n.$gt=t):n[e]=t)}(e,t,l):"$lt"===e||"$lte"===e?function(e,t,n){void 0===n.$eq&&(void 0!==n.$lte?"$lte"===e?t<n.$lte&&(n.$lte=t):t<=n.$lte&&(delete n.$lte,n.$lt=t):void 0!==n.$lt?"$lte"===e?t<n.$lt&&(delete n.$lt,n.$lte=t):t<n.$lt&&(n.$lt=t):n[e]=t)}(e,t,l):"$ne"===e?function(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}(t,l):"$eq"===e?function(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}(t,l):void(l[e]=t)})}})}),t}function AS(e,t,n){return n.every(function(n){var r=t[n],l=IS(n),s=CS(e,l);return ES(n)?function(e,t,n){return"$or"===e?t.some(function(e){return AS(n,e,Object.keys(e))}):"$not"===e?!AS(n,t,Object.keys(t)):!t.find(function(e){return AS(n,e,Object.keys(e))})}(n,r,e):PS(r,e,l,s)})}function PS(e,t,n,r){return!e||("object"==typeof e?Object.keys(e).every(function(l){return function(e,t,n,r,l){if(!jS[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return jS[e](t,n,r,l)}(l,t,e[l],n,r)}):e===r)}function qS(e){return null!=e}function NS(e){return void 0!==e}function RS(e,t){return t.some(function(t){return e instanceof Array?e.indexOf(t)>-1:e===t})}var jS={$elemMatch:function(e,t,n,r){return!!Array.isArray(r)&&0!==r.length&&r.some("object"==typeof r[0]?function(e){return AS(e,t,Object.keys(t))}:function(r){return PS(t,e,n,r)})},$allMatch:function(e,t,n,r){return!!Array.isArray(r)&&0!==r.length&&r.every("object"==typeof r[0]?function(e){return AS(e,t,Object.keys(t))}:function(r){return PS(t,e,n,r)})},$eq:function(e,t,n,r){return NS(r)&&0===VD(r,t)},$gte:function(e,t,n,r){return NS(r)&&VD(r,t)>=0},$gt:function(e,t,n,r){return NS(r)&&VD(r,t)>0},$lte:function(e,t,n,r){return NS(r)&&VD(r,t)<=0},$lt:function(e,t,n,r){return NS(r)&&VD(r,t)<0},$exists:function(e,t,n,r){return t?NS(r):!NS(r)},$mod:function(e,t,n,r){return qS(r)&&function(e,t){var n=t[0],r=t[1];if(0===n)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(n,10)!==n)throw new Error("Divisor is not an integer");if(parseInt(r,10)!==r)throw new Error("Modulus is not an integer");return parseInt(e,10)===e&&e%n===r}(r,t)},$ne:function(e,t,n,r){return t.every(function(e){return 0!==VD(r,e)})},$in:function(e,t,n,r){return qS(r)&&RS(r,t)},$nin:function(e,t,n,r){return qS(r)&&!RS(r,t)},$size:function(e,t,n,r){return qS(r)&&function(e,t){return e.length===t}(r,t)},$all:function(e,t,n,r){return Array.isArray(r)&&function(e,t){return t.every(function(t){return e.indexOf(t)>-1})}(r,t)},$regex:function(e,t,n,r){return qS(r)&&function(e,t){return new RegExp(t).test(e)}(r,t)},$type:function(e,t,n,r){return function(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}throw new Error(t+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}(r,t)}};function $S(e){return(e=JD(e)).index||(e.index={}),["type","name","ddoc"].forEach(function(t){e.index[t]&&(e[t]=e.index[t],delete e.index[t])}),e.fields&&(e.index.fields=e.fields,delete e.fields),e.type||(e.type="json"),e}function VS(e,t,n,r){var l,s;n.headers=new OD({"Content-type":"application/json"}),e.fetch(t,n).then(function(e){return l=e.status,s=e.ok,e.json()}).then(function(e){if(s)r(null,e);else{e.status=l;var t=ID(e);r(t)}}).catch(r)}function LS(e){return function(){for(var t=arguments.length,n=new Array(t),r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}}function BS(e){return LS(function(t){var n=t.pop(),r=e.apply(this,t);return function(e,t){e.then(function(e){gy()(function(){t(null,e)})},function(e){gy()(function(){t(e)})})}(r,n),r})}var US=LS(function(e){for(var t=[],n=0,r=e.length;n<r;n++){var l=e[n];Array.isArray(l)?t=t.concat(US.apply(null,l)):t.push(l)}return t});function HS(e){for(var t={},n=0,r=e.length;n<r;n++)t=rS(t,e[n]);return t}function zS(e,t){for(var n=0,r=Math.min(e.length,t.length);n<r;n++)if(e[n]!==t[n])return!1;return!0}function XS(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}var WS=function(e,t,n,r){function l(e,t,n){try{t(n)}catch(Hk){SS(e,Hk)}}function s(e,t,n,r,l){try{return{output:t(n,r,l)}}catch(Hk){return SS(e,Hk),{error:Hk}}}function i(e,t){var n=VD(e.key,t.key);return 0!==n?n:VD(e.value,t.value)}function o(e,t,n){return n=n||0,"number"==typeof t?e.slice(n,t+n):n>0?e.slice(n):e}function u(e){var t=e.value;return t&&"object"==typeof t&&t._id||e.id}function a(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&function(e){e.rows.forEach(function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach(function(e){var n,r=t[e];t[e].data=(n=r.content_type,function(e,t){return function(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(Hk){if("TypeError"!==Hk.name)throw Hk;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}([ND(e)],{type:t})}(qD(r.data),n))})})}(t),t}}function c(e,t,n,r){var l=t[e];void 0!==l&&(r&&(l=encodeURIComponent(JSON.stringify(l))),n.push(e+"="+l))}function d(e){if(void 0!==e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function h(e,t){var n=e.descending?"endkey":"startkey",r=e.descending?"startkey":"endkey";if(void 0!==e[n]&&void 0!==e[r]&&VD(e[n],e[r])>0)throw new aS("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new aS("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new aS("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(t){var n=function(e){if(e){if("number"!=typeof e)return new aS('Invalid value for integer: "'+e+'"');if(e<0)return new aS('Invalid value for positive integer: "'+e+'"')}}(e[t]);if(n)throw n})}function f(e){return function(t){if(404===t.status)return e;throw t}}function p(e){var t="string"==typeof e?e:e.name,n=bS[t];return n||(n=bS[t]=new mS),n}function g(e){return fS(p(e),function(){return function(e){var n,r,s=t(e.mapFun,function(e,t){var l={id:r._id,key:LD(e)};null!=t&&(l.value=LD(t)),n.push(l)}),o=e.seq||0;var u=new mS;function a(){return e.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:o,limit:wS}).then(c)}function c(t){var c=t.results;if(c.length){var h=function(t){for(var u=new ED,a=0,c=t.length;a<c;a++){var h=t[a];if("_"!==h.doc._id[0]){n=[],(r=h.doc)._deleted||l(e.sourceDB,s,r),n.sort(i);var f=d(n);u.set(h.doc._id,[f,h.changes])}o=h.seq}return u}(c);if(u.add(function(t,n){return function(){return function(e,t,n){return e.db.get("_local/lastSeq").catch(f({_id:"_local/lastSeq",seq:0})).then(function(r){var l=gS(t);return Promise.all(l.map(function(n){return function(e,t,n){var r,l="_local/doc_"+e,s={_id:l,keys:[]},i=n.get(e),o=i[0];return(r=i[1],1===r.length&&/^1-/.test(r[0].rev)?Promise.resolve(s):t.db.get(l).catch(f(s))).then(function(e){return function(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):Promise.resolve({rows:[]})}(e).then(function(t){return function(e,t){for(var n=[],r=new MD,l=0,s=t.rows.length;l<s;l++){var i=t.rows[l].doc;if(i&&(n.push(i),r.add(i._id),i._deleted=!o.has(i._id),!i._deleted)){var u=o.get(i._id);"value"in u&&(i.value=u.value)}}var a=gS(o);return a.forEach(function(e){if(!r.has(e)){var t={_id:e},l=o.get(e);"value"in l&&(t.value=l.value),n.push(t)}}),e.keys=pS(a.concat(e.keys)),n.push(e),n}(e,t)})})}(n,e,t)})).then(function(t){var l=lS(t);return r.seq=n,l.push(r),e.db.bulkDocs({docs:l})})})}(e,t,n)}}(h,o)),!(c.length<wS))return a()}}function d(e){for(var t,n=new ED,r=0,l=e.length;r<l;r++){var s=e[r],i=[s.key,s.id];r>0&&0===VD(s.key,t)&&i.push(r),n.set(BD(i),s),t=s.key}return n}return a().then(function(){return u.finish()}).then(function(){e.seq=o})}(e)})()}function m(e,t){return fS(p(e),function(){return function(e,t){var r,l=e.reduceFun&&!1!==t.reduce,i=t.skip||0;function a(t){return t.include_docs=!0,e.db.allDocs(t).then(function(e){return r=e.total_rows,e.rows.map(function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(t<n||t>n))return e.doc.value}var r=function(e){for(var t=[],n=[],r=0;;){var l=e[r++];if("\0"!==l)switch(l){case"1":t.push(null);break;case"2":t.push("1"===e[r]),r++;break;case"3":var s=UD(e,r);t.push(s.num),r+=s.length;break;case"4":for(var i="";;){var o=e[r];if("\0"===o)break;i+=o,r++}i=i.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"\x01").replace(/\u0002\u0002/g,"\x02"),t.push(i);break;case"5":var u={element:[],index:t.length};t.push(u.element),n.push(u);break;case"6":var a={element:{},index:t.length};t.push(a.element),n.push(a);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+l)}else{if(1===t.length)return t.pop();HD(t,n)}}}(e.doc._id);return{key:r[0],id:r[1],value:"value"in e.doc?e.doc.value:null}})})}function c(a){var c;if(c=l?function(e,t,r){0===r.group_level&&delete r.group_level;var l=r.group||r.group_level,i=n(e.reduceFun),u=[],a=isNaN(r.group_level)?Number.POSITIVE_INFINITY:r.group_level;t.forEach(function(e){var t=u[u.length-1],n=l?e.key:null;if(l&&Array.isArray(n)&&(n=n.slice(0,a)),t&&0===VD(t.groupKey,n))return t.keys.push([e.key,e.id]),void t.values.push(e.value);u.push({keys:[[e.key,e.id]],values:[e.value],groupKey:n})}),t=[];for(var c=0,d=u.length;c<d;c++){var h=u[c],f=s(e.sourceDB,i,h.keys,h.values,!1);if(f.error&&f.error instanceof dS)throw f.error;t.push({value:f.error?null:f.output,key:h.groupKey})}return{rows:o(t,r.limit,r.skip)}}(e,a,t):{total_rows:r,offset:i,rows:a},t.update_seq&&(c.update_seq=e.seq),t.include_docs){var d=pS(a.map(u));return e.sourceDB.allDocs({keys:d,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then(function(e){var t=new ED;return e.rows.forEach(function(e){t.set(e.id,e.doc)}),a.forEach(function(e){var n=u(e),r=t.get(n);r&&(e.doc=r)}),c})}return c}if(void 0===t.keys||t.keys.length||(t.limit=0,delete t.keys),void 0!==t.keys){var d=t.keys.map(function(e){var n={startkey:BD([e]),endkey:BD([e,{}])};return t.update_seq&&(n.update_seq=!0),a(n)});return Promise.all(d).then(lS).then(c)}var h,f,p={descending:t.descending};if(t.update_seq&&(p.update_seq=!0),"start_key"in t&&(h=t.start_key),"startkey"in t&&(h=t.startkey),"end_key"in t&&(f=t.end_key),"endkey"in t&&(f=t.endkey),void 0!==h&&(p.startkey=BD(t.descending?[h,{}]:[h])),void 0!==f){var g=!1!==t.inclusive_end;t.descending&&(g=!g),p.endkey=BD(g?[f,{}]:[f])}if(void 0!==t.key){var m=BD([t.key]),v=BD([t.key,{}]);p.descending?(p.endkey=m,p.startkey=v):(p.startkey=m,p.endkey=v)}return l||("number"==typeof t.limit&&(p.limit=t.limit),p.skip=i),a(p).then(c)}(e,t)})()}var v;return{query:function(e,t,n){var r=this;"function"==typeof t&&(n=t,t={}),t=t?function(e){return e.group_level=d(e.group_level),e.limit=d(e.limit),e.skip=d(e.skip),e}(t):{},"function"==typeof e&&(e={map:e});var l=Promise.resolve().then(function(){return function(e,t,n){if("function"==typeof e._query)return function(e,t,n){return new Promise(function(r,l){e._query(t,n,function(e,t){if(e)return l(e);r(t)})})}(e,t,n);if(sS(e))return function(e,t,n){var r,l,s,i=[],o="GET";if(c("reduce",n,i),c("include_docs",n,i),c("attachments",n,i),c("limit",n,i),c("descending",n,i),c("group",n,i),c("group_level",n,i),c("skip",n,i),c("stale",n,i),c("conflicts",n,i),c("startkey",n,i,!0),c("start_key",n,i,!0),c("endkey",n,i,!0),c("end_key",n,i,!0),c("inclusive_end",n,i),c("key",n,i,!0),c("update_seq",n,i),i=""===(i=i.join("&"))?"":"?"+i,void 0!==n.keys){var u="keys="+encodeURIComponent(JSON.stringify(n.keys));u.length+i.length+1<=2e3?i+=("?"===i[0]?"&":"?")+u:(o="POST","string"==typeof t?r={keys:n.keys}:t.keys=n.keys)}if("string"==typeof t){var d=DS(t);return e.fetch("_design/"+d[0]+"/_view/"+d[1]+i,{headers:new OD({"Content-Type":"application/json"}),method:o,body:JSON.stringify(r)}).then(function(e){return l=e.ok,s=e.status,e.json()}).then(function(e){if(!l)throw e.status=s,ID(e);return e.rows.forEach(function(e){if(e.value&&e.value.error&&"builtin_reduce_error"===e.value.error)throw new Error(e.reason)}),e}).then(a(n))}return r=r||{},Object.keys(t).forEach(function(e){r[e]=Array.isArray(t[e])?t[e]:t[e].toString()}),e.fetch("_temp_view"+i,{headers:new OD({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(r)}).then(function(e){return l=e.ok,s=e.status,e.json()}).then(function(e){if(!l)throw e.status=s,ID(e);return e}).then(a(n))}(e,t,n);if("string"!=typeof t)return h(n,t),_S.add(function(){return yS(e,"temp_view/temp_view",t.map,t.reduce,!0,"indexes").then(function(e){return t=g(e).then(function(){return m(e,n)}),r=function(){return e.db.destroy()},t.then(function(e){return r().then(function(){return e})},function(e){return r().then(function(){throw e})});var t,r})}),_S.finish();var r=t,l=DS(r),s=l[1];return e.get("_design/"+l[0]).then(function(t){var l=t.views&&t.views[s];if(!l)throw new cS("ddoc "+t._id+" has no view named "+s);return function(e,t){var n=e.views[t];if(!n.map||!n.map.fields)throw new Error("ddoc "+e._id+" with view "+t+" doesn't have map.fields defined. maybe it wasn't created by this plugin?")}(t,s),h(n,l),yS(e,r,l.map,l.reduce,!1,"indexes").then(function(e){return"ok"===n.stale||"update_after"===n.stale?("update_after"===n.stale&&gy()(function(){g(e)}),m(e,n)):g(e).then(function(){return m(e,n)})})})}(r,e,t)});return hS(l,n),l},viewCleanup:(v=function(){var e=this;return"function"==typeof e._viewCleanup?function(e){return new Promise(function(t,n){e._viewCleanup(function(e,r){if(e)return n(e);t(r)})})}(e):sS(e)?function(e){return e.fetch("_view_cleanup",{headers:new OD({"Content-Type":"application/json"}),method:"POST"}).then(function(e){return e.json()})}(e):function(e){return e.get("_local/indexes").then(function(t){var n=new ED;Object.keys(t.views).forEach(function(e){var t=DS(e),r="_design/"+t[0],l=t[1],s=n.get(r);s||(s=new MD,n.set(r,s)),s.add(l)});var r={keys:gS(n),include_docs:!0};return e.allDocs(r).then(function(r){var l={};r.rows.forEach(function(e){var r=e.key.substring(8);n.get(e.key).forEach(function(n){var s=r+"/"+n;t.views[s]||(s=n);var i=Object.keys(t.views[s]),o=e.doc&&e.doc.views&&e.doc.views[n];i.forEach(function(e){l[e]=l[e]||o})})});var s=Object.keys(l).filter(function(e){return!l[e]}).map(function(t){return fS(p(t),function(){return new e.constructor(t,e.__opts).destroy()})()});return Promise.all(s).then(function(){return{ok:!0}})})},f({ok:!0}))}(e)},Sy()(function(e){var t=e.pop(),n=v.apply(this,e);return"function"==typeof t&&hS(n,t),n}))}}(0,function(e,t){return function(e,t){var n=function(e){for(var t=0,n=e.length;t<n;t++)if(-1!==e[t].indexOf("."))return!1;return!0}(e),r=1===e.length;return n?r?function(e,t){return function(n){t(n[e])}}(e[0],t):function(e,t){return function(n){for(var r=[],l=0,s=e.length;l<s;l++)r.push(n[e[l]]);t(r)}}(e,t):r?function(t,n){var r=IS(e[0]);return function(e){for(var t=e,l=0,s=r.length;l<s;l++)if(void 0===(t=t[r[l]]))return;n(t)}}(0,t):function(e,t){return function(n){for(var r=[],l=0,s=e.length;l<s;l++){for(var i=IS(e[l]),o=n,u=0,a=i.length;u<a;u++)if(void 0===(o=o[i[u]]))return;r.push(o)}t(r)}}(e,t)}(Object.keys(e.fields),t)},function(){throw new Error("reduce not supported")});function GS(e){return e._customFindAbstractMapper||WS}function KS(e){return e.fields=e.fields.map(function(e){if("string"==typeof e){var t={};return t[e]="asc",t}return e}),e}function ZS(e,t){for(var n=[],r=0;r<t.def.fields.length;r++){var l=OS(t.def.fields[r]);n.push(e[l])}return n}function QS(e){return e.allDocs({startkey:"_design/",endkey:"_design/\uffff",include_docs:!0}).then(function(e){var t={indexes:[{ddoc:null,name:"_all_docs",type:"special",def:{fields:[{_id:"asc"}]}}]};return t.indexes=US(t.indexes,e.rows.filter(function(e){return"query"===e.doc.language}).map(function(e){return(void 0!==e.doc.views?Object.keys(e.doc.views):[]).map(function(t){return{ddoc:e.id,name:t,type:"json",def:KS(e.doc.views[t].options.def)}})})),t.indexes.sort(function(e,t){return xS(e.name,t.name)}),t.total_rows=t.indexes.length,t})}var JS=null,YS={"\uffff":{}};function eC(e,t){for(var n=e.def.fields.map(OS),r=0,l=n.length;r<l;r++)if(t===n[r])return!0;return!1}function tC(e,t){return"$eq"!==OS(e[t])}function nC(e,t){var n=t.def.fields.map(OS);return e.slice().sort(function(e,t){var r=n.indexOf(e),l=n.indexOf(t);return-1===r&&(r=Number.MAX_VALUE),-1===l&&(l=Number.MAX_VALUE),xS(r,l)})}function rC(e,t,n,r){var l=US(e,function(e,t,n){for(var r=!1,l=0,s=(n=nC(n,e)).length;l<s;l++){var i=n[l];if(r||!eC(e,i))return n.slice(l);l<s-1&&tC(t,i)&&(r=!0)}return[]}(t,n,r),function(e){var t=[];return Object.keys(e).forEach(function(n){Object.keys(e[n]).forEach(function(e){"$ne"===e&&t.push(n)})}),t}(n));return nC(function(e){for(var t={},n=0;n<e.length;n++)t["$"+e[n]]=!0;return Object.keys(t).map(function(e){return e.substring(1)})}(l),t)}var lC=["$eq","$gt","$gte","$lt","$lte"];function sC(e){return-1===lC.indexOf(e)}function iC(e,t){switch(e){case"$eq":return{startkey:t,endkey:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}}function oC(e,t){var n=e.selector,r=function(e,t){var n,r=Object.keys(e),l=t?t.map(OS):[];return n=r.length>=l.length?r:l,0===l.length?{fields:n}:{fields:n=n.sort(function(e,t){var n=l.indexOf(e);-1===n&&(n=Number.MAX_VALUE);var r=l.indexOf(t);return-1===r&&(r=Number.MAX_VALUE),n<r?-1:n>r?1:0}),sortOrder:t.map(OS)}}(n,e.sort),l=r.fields,s=function(e,t,n,l,s){var i=function(e,t,n,r){return r.reduce(function(r,l){return function(e,t,n,r){var l=e.def.fields.map(OS);return!!function(e,t,n){if(t){var r=!((s=t).length>(i=e).length)&&zS(s,i),l=zS(n,e);return r&&l}var s,i;return function(e,t){e=e.slice();for(var n=0,r=t.length;n<r;n++){var l=t[n];if(!e.length)break;var s=e.indexOf(l);if(-1===s)return!1;e.splice(s,1)}return!0}(n,e)}(l,t,n)&&function(e,t){var n=t[e[0]];return void 0===n||!(1===Object.keys(n).length&&"$ne"===OS(n))}(l,r)}(l,n,t,e)&&r.push(l),r},[])}(e,t,r.sortOrder,l);if(0===i.length){if(s)throw{error:"no_usable_index",message:"There is no index available for this selector."};var o=l[0];return o.defaultUsed=!0,o}if(1===i.length&&!s)return i[0];var u=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e[n]]=!0;return t}(t);if(s){var a="_design/"+s[0],c=2===s.length&&s[1],d=i.find(function(e){return!(!c||e.ddoc!==a||c!==e.name)||e.ddoc===a});if(!d)throw{error:"unknown_error",message:"Could not find that index or could not use that index for the query"};return d}return function(e,t){for(var n=null,r=-1,l=0,s=e.length;l<s;l++){var i=e[l],o=t(i);o>r&&(r=o,n=i)}return n}(i,function(e){for(var t=e.def.fields.map(OS),n=0,r=0,l=t.length;r<l;r++)u[t[r]]&&n++;return n})}(n,l,0,t,e.use_index),i=function(e,t){return t.defaultUsed?function(e){return{queryOpts:{startkey:null},inMemoryFields:[Object.keys(e)]}}(e):1===t.def.fields.length?function(e,t){var n,r=OS(t.def.fields[0]),l=e[r]||{},s=[];return Object.keys(l).forEach(function(e){sC(e)&&s.push(r);var t=function(e,t){switch(e){case"$eq":return{key:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}return{startkey:JS}}(e,l[e]);n=n?HS([n,t]):t}),{queryOpts:n,inMemoryFields:s}}(e,t):function(e,t){var n,r,l=t.def.fields.map(OS),s=[],i=[],o=[];function u(e){!1!==n&&i.push(JS),!1!==r&&o.push(YS),s=l.slice(e)}for(var a=0,c=l.length;a<c;a++){var d=e[l[a]];if(!d||!Object.keys(d).length){u(a);break}if(a>0){if(Object.keys(d).some(sC)){u(a);break}var h="$gt"in d||"$gte"in d||"$lt"in d||"$lte"in d,f=Object.keys(e[l[a-1]]),p=XS(f,["$eq"]),g=XS(f,Object.keys(d));if(h&&!p&&!g){u(a);break}}for(var m=Object.keys(d),v=null,y=0;y<m.length;y++){var b=m[y],_=iC(b,d[b]);v=v?HS([v,_]):_}i.push("startkey"in v?v.startkey:JS),o.push("endkey"in v?v.endkey:YS),"inclusive_start"in v&&(n=v.inclusive_start),"inclusive_end"in v&&(r=v.inclusive_end)}var w={startkey:i,endkey:o};return void 0!==n&&(w.inclusive_start=n),void 0!==r&&(w.inclusive_end=r),{queryOpts:w,inMemoryFields:s}}(e,t)}(n,s);return{queryOpts:i.queryOpts,index:s,inMemoryFields:rC(i.inMemoryFields,s,n,l)}}function uC(e,t,n){var r,l;return t.selector&&(t.selector=function(e){var n=JD(t.selector),r=!1;(function e(t,n){for(var r in t){"$and"===r&&(n=!0);var l=t[r];"object"==typeof l&&(n=e(l,n))}return n})(n,!1)&&("$and"in(n=function e(t){for(var n in t){if(Array.isArray(t))for(var r in t)t[r].$and&&(t[r]=TS(t[r].$and));var l=t[n];"object"==typeof l&&e(l)}return t}(n))&&(n=TS(n.$and)),r=!0),["$or","$nor"].forEach(function(e){e in n&&n[e].forEach(function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var r=t[n],l=e[r];"object"==typeof l&&null!==l||(e[r]={$eq:l})}})}),"$not"in n&&(n.$not=TS([n.$not]));for(var l=Object.keys(n),s=0;s<l.length;s++){var i=l[s],o=n[i];"object"!=typeof o||null===o?o={$eq:o}:"$ne"in o&&!r&&(o.$ne=[o.$ne]),n[i]=o}return n}()),t.sort&&(t.sort=function(e){if(!Array.isArray(e))throw new Error("invalid sort json - should be an array");return e.map(function(e){if("string"==typeof e){var t={};return t[e]="asc",t}return e})}(t.sort)),t.use_index&&(t.use_index=(l=[],"string"==typeof(r=t.use_index)?l.push(r):l=r,l.map(function(e){return e.replace("_design/","")}))),function(e){if("object"!=typeof e.selector)throw new Error("you must provide a selector when you find()")}(t),QS(e).then(function(r){e.constructor.emit("debug",["find","planning query",t]);var l=oC(t,r.indexes);e.constructor.emit("debug",["find","query plan",l]);var s=l.index;!function(e,t){if(s.defaultUsed&&e.sort){var n=e.sort.filter(function(e){return"_id"!==Object.keys(e)[0]}).map(function(e){return Object.keys(e)[0]});if(n.length>0)throw new Error('Cannot sort on field(s) "'+n.join(",")+'" when using the default index')}}(t);var i=rS({include_docs:!0,reduce:!1},l.queryOpts);return"startkey"in i&&"endkey"in i&&VD(i.startkey,i.endkey)>0?{docs:[]}:(t.sort&&"string"!=typeof t.sort[0]&&"desc"===FS(t.sort[0])&&(i.descending=!0,i=function(e){var t=JD(e);return delete t.startkey,delete t.endkey,delete t.inclusive_start,delete t.inclusive_end,"endkey"in e&&(t.startkey=e.endkey),"startkey"in e&&(t.endkey=e.startkey),"inclusive_start"in e&&(t.inclusive_end=e.inclusive_start),"inclusive_end"in e&&(t.inclusive_start=e.inclusive_end),t}(i)),l.inMemoryFields.length||("limit"in t&&(i.limit=t.limit),"skip"in t&&(i.skip=t.skip)),n?Promise.resolve(l,i):Promise.resolve().then(function(){if("_all_docs"===s.name)return function(e,t){var n=JD(t);return n.descending?("endkey"in n&&"string"!=typeof n.endkey&&(n.endkey=""),"startkey"in n&&"string"!=typeof n.startkey&&(n.limit=0)):("startkey"in n&&"string"!=typeof n.startkey&&(n.startkey=""),"endkey"in n&&"string"!=typeof n.endkey&&(n.limit=0)),"key"in n&&"string"!=typeof n.key&&(n.limit=0),e.allDocs(n).then(function(e){return e.rows=e.rows.filter(function(e){return!/^_design\//.test(e.id)}),e})}(e,i);var t,n=(t=s).ddoc.substring(8)+"/"+t.name;return GS(e).query.call(e,n,i)}).then(function(e){!1===i.inclusive_start&&(e.rows=function(e,t,n){for(var r=n.def.fields,l=0,s=e.length;l<s;l++){var i=ZS(e[l].doc,n);if(1===r.length)i=i[0];else for(;i.length>t.length;)i.pop();if(Math.abs(VD(i,t))>0)break}return l>0?e.slice(l):e}(e.rows,i.startkey,s)),l.inMemoryFields.length&&(e.rows=function(e,t,n){if(e=e.filter(function(e){return AS(e.doc,t.selector,n)}),t.sort){var r=function(e){function t(t){return e.map(function(e){var n=IS(OS(e));return CS(t,n)})}return function(e,n){var r=VD(t(e.doc),t(n.doc));return 0!==r?r:xS(e.doc._id,n.doc._id)}}(t.sort);e=e.sort(r),"string"!=typeof t.sort[0]&&"desc"===FS(t.sort[0])&&(e=e.reverse())}if("limit"in t||"skip"in t){var l=t.skip||0;e=e.slice(l,("limit"in t?t.limit:e.length)+l)}return e}(e.rows,t,l.inMemoryFields));var n={docs:e.rows.map(function(e){var n=e.doc;return t.fields?function(e,t){for(var n={},r=0,l=t.length;r<l;r++){var s=IS(t[r]),i=CS(e,s);void 0!==i&&kS(n,s,i)}return n}(n,t.fields):n})};return s.defaultUsed&&(n.warning="no matching index found, create an index to optimize query time"),n}))})}var aC=BS(function(e,t){var n,r=JD((t=$S(t)).index);function l(){return n||(n=GD(JSON.stringify(t)))}t.index=KS(t.index),function(e){var t=e.fields.filter(function(e){return"asc"===FS(e)});if(0!==t.length&&t.length!==e.fields.length)throw new Error("unsupported mixed sorting")}(t.index);var s=t.name||"idx-"+l(),i=t.ddoc||"idx-"+l(),o="_design/"+i,u=!1,a=!1;return e.constructor.emit("debug",["find","creating index",o]),iS(e,o,function(e){return e._rev&&"query"!==e.language&&(u=!0),e.language="query",e.views=e.views||{},!(a=!!e.views[s])&&(e.views[s]={map:{fields:HS(t.index.fields)},reduce:"_count",options:{def:r}},e)}).then(function(){if(u)throw new Error('invalid language for ddoc with id "'+o+'" (should be "query")')}).then(function(){var t=i+"/"+s;return GS(e).query.call(e,t,{limit:0,reduce:!1}).then(function(){return{id:o,name:s,result:a?"exists":"created"}})})}),cC=BS(uC),dC=BS(function(e,t){return uC(e,t,!0).then(function(n){return{dbname:e.name,index:n.index,selector:t.selector,range:{start_key:n.queryOpts.startkey,end_key:n.queryOpts.endkey},opts:{use_index:t.use_index||[],bookmark:"nil",limit:t.limit,skip:t.skip,sort:t.sort||{},fields:t.fields,conflicts:!1,r:[49]},limit:t.limit,skip:t.skip||0,fields:t.fields}})}),hC=BS(QS),fC=BS(function(e,t){if(!t.ddoc)throw new Error("you must supply an index.ddoc when deleting");if(!t.name)throw new Error("you must supply an index.name when deleting");var n=t.ddoc,r=t.name;return iS(e,n,function(e){return 1===Object.keys(e.views).length&&e.views[r]?{_id:n,_deleted:!0}:(delete e.views[r],e)}).then(function(){return GS(e).viewCleanup.apply(e)}).then(function(){return{ok:!0}})}),pC={};pC.createIndex=YD(function(e,t){if("object"!=typeof e)return t(new Error("you must provide an index to create"));(sS(this)?function(e,t,n){t=$S(t),VS(e,"_index",{method:"POST",body:JSON.stringify(t)},n)}:aC)(this,e,t)}),pC.find=YD(function(e,t){if(void 0===t&&(t=e,e=void 0),"object"!=typeof e)return t(new Error("you must provide search parameters to find()"));(sS(this)?function(e,t,n){VS(e,"_find",{method:"POST",body:JSON.stringify(t)},n)}:cC)(this,e,t)}),pC.explain=YD(function(e,t){if(void 0===t&&(t=e,e=void 0),"object"!=typeof e)return t(new Error("you must provide search parameters to explain()"));(sS(this)?function(e,t,n){VS(e,"_explain",{method:"POST",body:JSON.stringify(t)},n)}:dC)(this,e,t)}),pC.getIndexes=YD(function(e){(sS(this)?function(e,t){VS(e,"_index",{method:"GET"},t)}:hC)(this,e)}),pC.deleteIndex=YD(function(e,t){if("object"!=typeof e)return t(new Error("you must provide an index to delete"));(sS(this)?function(e,t,n){var r=t.ddoc,l=t.name;return r?l?void VS(e,"_index/"+[r,t.type||"json",l].map(encodeURIComponent).join("/"),{method:"DELETE"},n):n(new Error("you must provide an index's name")):n(new Error("you must provide an index's ddoc"))}:fC)(this,e,t)});var gC=pC;let mC=(()=>{class e{constructor(){this.databaseName="bmdl-feature-modeler",SD.plugin(gC),this.db=new SD(this.databaseName),this.db.info().then(function(e){console.log("Database connection: "+JSON.stringify(e))})}getDatabaseInfo(){return this.db.info()}getFeatureModelList(){return this.db.find({selector:{},fields:["_id","name","description"]})}getFeatureModel(e){return this.db.get(e)}addFeatureModel(e,t){var n={name:e,description:t,featureIdCounter:10,businessModelIdCounter:1,features:[this.createFeatureByParameter(1,"Value Proposition"),this.createFeatureByParameter(2,"Customer Segment"),this.createFeatureByParameter(3,"Customer Relationships"),this.createFeatureByParameter(4,"Customer Channels"),this.createFeatureByParameter(5,"Key Partners"),this.createFeatureByParameter(6,"Key Activities"),this.createFeatureByParameter(7,"Key Resources"),this.createFeatureByParameter(8,"Revenue Streams"),this.createFeatureByParameter(9,"Cost Structure")],featureMap:{1:"Value Proposition",2:"Customer Segments",3:"Customer Relationships",4:"Customer Channel",5:"Key Partners",6:"Key Activities",7:"Key Resources",8:"Revenue Streams",9:"Cost Structure"},businessModelMap:{}};return this.db.post(n)}deleteFeatureModel(e){return this.db.get(e).then(e=>this.db.remove(e))}updateFeatureModel(e,t,n){return this.db.get(e).then(e=>(e.name=t,e.description=n,this.db.put(e)))}addBusinessDecision(e,t,n){return this.db.get(e).then(e=>(e=this.updateFeatureHandler(e=e,t,e=>((e=e).businessModelIds.push(parseInt(n.toString())),e)),this.db.put(e)))}removeBusinessDecision(e,t,n){return this.db.get(e).then(e=>{var r=this.getFeatureWithParentFromModel(e=e,t.toString()),l=this.listSubfeatureIdsHelper(r.features);l.push(t);for(var s=(e,t)=>((t=t).businessModelIds=t.businessModelIds.filter(function(t){return t!==parseInt(e.toString())}),t),i=0;i<l.length;i++)e=this.updateFeatureHandler(e,l[i],s.bind(null,n));return this.db.put(e)})}addBusinessModel(e,t){return this.db.get(e).then(e=>{e=e;for(var n=0;n<e.features.length;n++)e.features[n].businessModelIds.push(e.businessModelIdCounter);return e.businessModelMap[e.businessModelIdCounter]=t,e.businessModelIdCounter=e.businessModelIdCounter+1,this.db.put(e)})}updateBusinessModel(e,t,n){return this.db.get(e).then(e=>((e=e).businessModelMap[t]=n,this.db.put(e)))}adaptBusinessModel(e,t,n){return this.db.get(e).then(e=>{for(var r=(e=e).businessModelIdCounter,l=0;l<e.features.length;l++)e.features[l].businessModelIds.push(e.businessModelIdCounter);e.businessModelMap[e.businessModelIdCounter]=n,e.businessModelIdCounter=e.businessModelIdCounter+1;var s=[];for(l=0;l<e.features.length;l++)s.push(e.features[e.features.length-1-l]);for(;s.length>0;){var i=s.pop();if(i.businessModelIds.includes(parseInt(t))&&!i.businessModelIds.includes(parseInt(r))&&i.businessModelIds.push(r),i.features)for(l=0;l<i.features.length;l++)s.push(i.features[i.features.length-1-l])}return this.db.put(e)})}deleteBusinessModel(e,t){return this.db.get(e).then(e=>{e=e;for(var n=[],r=0;r<e.features.length;r++)n.push(e.features[e.features.length-1-r]);for(;n.length>0;){var l=n.pop();if(l.businessModelIds=l.businessModelIds.filter(function(e){return e!==parseInt(t.toString())}),l.features)for(r=0;r<l.features.length;r++)n.push(l.features[l.features.length-1-r])}return delete e.businessModelMap[t],this.db.put(e)})}addDependency(e,t,n,r){return this.db.get(e).then(e=>(e=this.dependencyModificationHelper(e=e,t,n,r,(e,t,n)=>((n=n)[e].push(parseInt(t.toString())),n)),this.db.put(e)))}deleteDependency(e,t,n,r){return this.db.get(e).then(e=>(e=this.dependencyModificationHelper(e=e,t,n,r,(e,t,n)=>((n=n)[e]=n[e].filter(function(e){return e!==t}),n)),this.db.put(e)))}dependencyModificationHelper(e,t,n,r,l){return e=e,"requiringDependencyTo"==t?(e=this.updateFeatureHandler(e,r,l.bind(null,"requiringDependencyFrom",n)),e=this.updateFeatureHandler(e,n,l.bind(null,"requiringDependencyTo",r))):"requiringDependencyFrom"==t?(e=this.updateFeatureHandler(e,r,l.bind(null,"requiringDependencyTo",n)),e=this.updateFeatureHandler(e,n,l.bind(null,"requiringDependencyFrom",r))):(e=this.updateFeatureHandler(e,r,l.bind(null,"excludingDependency",n)),e=this.updateFeatureHandler(e,n,l.bind(null,"excludingDependency",r))),e}getFeatureWithParent(e,t){return this.db.get(e).then(e=>this.getFeatureWithParentFromModel(e,t))}getFeatureWithParentFromModel(e,t){for(var n=[],r=!1,l=0;l<e.features.length;l++)(i=e.features[e.features.length-1-l]).parentId=0,n.push(i);for(;n.length>0&&!r;){var s=n.pop();if(s.id==t)return r=!0,s;if(s.features)for(l=0;l<s.features.length;l++){var i;(i=s.features[s.features.length-1-l]).parentId=s.id,n.push(i)}}}deleteFeature(e,t){return this.db.get(e).then(e=>{var n=this.getFeatureWithParentFromModel(e=e,t.toString()),r=this.listSubfeatureIdsHelper(n.features);return r.push(t),delete e.featureMap[t],e=this.deleteFeatureAndDependeciesHelper(e,r,t),this.db.put(e)})}deleteFeatureAndDependeciesHelper(e,t,n){for(var r=e,l=[],s=!1,i=-1,o=0;o<r.features.length;o++)l.push(a=r.features[o]);for(;l.length>0&&!s;){var u=l.pop();if(u.requiringDependencyFrom=u.requiringDependencyFrom.filter(function(e){return!t.includes(e)}),u.requiringDependencyTo=u.requiringDependencyTo.filter(function(e){return!t.includes(e)}),u.excludingDependency=u.excludingDependency.filter(function(e){return!t.includes(e)}),u.features)for(o=0;o<u.features.length;o++){var a;(a=u.features[o]).id==n?(s=!0,i=o):l.push(a),s&&(u.features.splice(i,1),s=!1)}}return r}listSubfeatureIdsHelper(e){for(var t=[],n=[],r=0;r<e.length;r++)t.push(e[e.length-1-r]);for(;t.length>0;){var l=t.pop();if(n.push(l.id),l.features)for(r=0;r<l.features.length;r++)t.push(l.features[l.features.length-1-r])}return n}updateFeature(e,t,n,r,l,s,i){return this.db.get(e).then(e=>{var o=this.getFeatureWithParentFromModel(e=e,t.toString()),u={id:t,name:n,isMandatory:this.getBoolean(r),hasOrSubfeatures:this.getBoolean(l),hasXOrSubfeatures:this.getBoolean(s),isDeletable:o.isDeletable,features:o.features,requiringDependencyFrom:o.requiringDependencyFrom,requiringDependencyTo:o.requiringDependencyTo,excludingDependency:o.excludingDependency};return o.parentId==i?e=this.updateFeatureHandler(e,t,e=>((e=e).name=n,e.isMandatory=this.getBoolean(r),e.hasOrSubfeatures=this.getBoolean(l),e.hasXOrSubfeatures=this.getBoolean(s),e)):(e=this.updateFeatureHandler(e,o.parentId,((e,t)=>((t=t).features=t.features.filter(function(t){return t.id!=e}),t)).bind(null,t)),e=this.updateFeatureHandler(e,i,e=>((e=e).features.push(u),e))),this.db.put(e)})}addFeature(e,t,n,r,l,s){return this.db.get(e).then(e=>{var i=this.createFeatureByParameter((e=e).featureIdCounter,t,n,r,l,!0);return(e=this.updateFeatureHandler(e,s,e=>((e=e).features.push(i),e))).featureIdCounter=e.featureIdCounter+1,e.featureMap[i.id]=i.name,this.db.put(e)})}updateFeatureHandler(e,t,n){for(var r=e,l=[],s=!1,i=0;i<r.features.length;i++)l.push(r.features[r.features.length-1-i]);for(;l.length>0&&!s;){var o=l.pop();if(o.id==t&&(s=!0,o=n(o)),o.features)for(i=0;i<o.features.length;i++)l.push(o.features[o.features.length-1-i])}return r}getBoolean(e){switch(e){case!0:case"true":case 1:case"1":case"on":case"yes":return!0;default:return!1}}createFeatureByParameter(e,t,n=!1,r=!1,l=!1,s=!1,i=[],o=[],u=[],a=[],c=[]){return{id:e,name:t,isMandatory:this.getBoolean(n),hasOrSubfeatures:this.getBoolean(r),hasXOrSubfeatures:this.getBoolean(l),isDeletable:this.getBoolean(s),requiringDependencyFrom:i,requiringDependencyTo:o,excludingDependency:u,features:a,businessModelIds:c}}addDefaultData(){return this.db.destroy().then(e=>(this.db=new SD(this.databaseName),this.db.bulkDocs([{name:"Simple ToDo Example",description:"This is the simple todo example from our paper.",featureIdCounter:31,businessModelIdCounter:3,features:[{id:1,name:"Value Propositions",isMandatory:!0,hasOrSubfeatures:!1,hasXOrSubfeatures:!0,isDeletable:!1,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:10,name:"Save Privacy",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[14],requiringDependencyTo:[],excludingDependency:[24,11],features:[],businessModelIds:[1],parentId:1},{id:11,name:"Free For All",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[24],excludingDependency:[10],features:[],businessModelIds:[],parentId:1},{id:12,name:"Collaborate With Others",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[26],excludingDependency:[],features:[],businessModelIds:[1],parentId:1}],businessModelIds:[1],parentId:0},{id:2,name:"Customer Segment",isMandatory:!0,hasOrSubfeatures:!0,hasXOrSubfeatures:!1,isDeletable:!1,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:13,name:"Private User",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[17],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[],parentId:2},{id:14,name:"Professional User",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[18],requiringDependencyTo:[10],excludingDependency:[],features:[],businessModelIds:[1],parentId:2}],businessModelIds:[1],parentId:0},{id:3,name:"Customer Relationships",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!1,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:15,name:"Self Service",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1],parentId:3},{id:16,name:"Phone Support",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[],parentId:3}],businessModelIds:[1],parentId:0},{id:4,name:"Customer Channels",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!1,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:17,name:"Facebook Ads",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[13],excludingDependency:[],features:[],businessModelIds:[1],parentId:4},{id:18,name:"LinkedIn Ads",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[14],excludingDependency:[],features:[],businessModelIds:[],parentId:4}],businessModelIds:[1],parentId:0},{id:5,name:"Key Partners",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!1,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:19,name:"Hosting Provider",isMandatory:!0,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[],parentId:5},{id:20,name:"Social Networks",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[],parentId:5}],businessModelIds:[1],parentId:0},{id:6,name:"Key Activities",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!1,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:21,name:"Develop App",isMandatory:!0,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[27],excludingDependency:[],features:[],businessModelIds:[1],parentId:6},{id:30,name:"Plan Marketing",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[28],excludingDependency:[],features:[],businessModelIds:[1],parentId:6}],businessModelIds:[1],parentId:0},{id:7,name:"Key Resources",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!1,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:22,name:"Algorithms",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1],parentId:7},{id:23,name:"Infrastructure",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1],parentId:7}],businessModelIds:[1],parentId:0},{id:8,name:"Revenue Streams",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!1,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:24,name:"In-App Advertisement",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[11],requiringDependencyTo:[],excludingDependency:[10],features:[],businessModelIds:[1],parentId:8},{id:25,name:"License Purchase",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[26],features:[],businessModelIds:[],parentId:8},{id:26,name:"License Subscription",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[12],requiringDependencyTo:[],excludingDependency:[25],features:[],businessModelIds:[1],parentId:8}],businessModelIds:[1],parentId:0},{id:9,name:"Cost Structures",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!1,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:27,name:"Development Costs",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[21],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1],parentId:9},{id:28,name:"Marketing Costs",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[30],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[],parentId:9},{id:29,name:"Support Costs",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1],parentId:9}],businessModelIds:[1],parentId:0}],featureMap:{1:"Value Proposition",2:"Customer Segments",3:"Customer Relationships",4:"Customer Channel",5:"Key Partners",6:"Key Activities",7:"Key Resources",8:"Revenue Streams",9:"Cost Structure",10:"Save Privacy",11:"Free For All",12:"Collaborative With Others",13:"Private User",14:"Professional User",15:"Self Service",16:"Phone Support",17:"Facebook Ads",18:"LinkedIn Ads",19:"Hosting Provider",20:"Social Networks",21:"Develop App",22:"Algorithms",23:"Infrastructure",24:"In-App Advertisement",25:"License Purchase",26:"License Subscription",27:"Development Costs",28:"Marketing Costs",29:"Support Costs",30:"Plan Marketing"},businessModelMap:{1:"Paper Example"}},{name:"Case Study on ToDo Applications",description:"This is the case study of todo applications we perform in our paper.",featureIdCounter:164,businessModelIdCounter:12,features:[{id:1,name:"Value Proposition",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!1,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:10,name:"Accessibility",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:73,name:"Anonymous Access",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[75],features:[],businessModelIds:[1,9],parentId:10},{id:74,name:"Simplified Sign-In Servies",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1,2,3,9,10],parentId:10},{id:99,name:"Multi-OS Access",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[128],features:[],businessModelIds:[2,3],parentId:10},{id:100,name:"Device Syncronisation",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[3],parentId:10}],businessModelIds:[1,2,3,10,9],parentId:1},{id:11,name:"Customization",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:75,name:"Personalized Recommendations",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[73],features:[],businessModelIds:[1,2],parentId:11},{id:76,name:"Changeable User Interfaces",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1,5],parentId:11}],businessModelIds:[1,2,5],parentId:1},{id:12,name:"Design / Usability",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:77,name:"Execution Step Reduction",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1,4],parentId:12},{id:78,name:"Design Pattern Usage",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1,3,4,5,6,7],parentId:12}],businessModelIds:[1,3,4,5,6,7],parentId:1},{id:13,name:"Price",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:79,name:"Free for All",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[81],features:[],businessModelIds:[1],parentId:13},{id:80,name:"Low-Price Strategy",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1],parentId:13},{id:81,name:"Money-Back Guarantee",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[79],features:[],businessModelIds:[1],parentId:13}],businessModelIds:[1],parentId:1},{id:14,name:"Network",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[58],features:[{id:82,name:"Quantity Network Size",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1],parentId:14},{id:84,name:"Quality Network Users",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1],parentId:14}],businessModelIds:[1],parentId:1},{id:101,name:"Function Scope",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:102,name:"Minimized Scope",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[6,7],parentId:101},{id:103,name:"Maximized Scope",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[3,4,5],parentId:101},{id:154,name:"Medium Scope",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[2],parentId:101}],businessModelIds:[2,3,4,5,6,7],parentId:1},{id:104,name:"Task Management",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:105,name:"Splitting of Tasks",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[3,4,10,11],parentId:104},{id:106,name:"Work Together",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[58],features:[],businessModelIds:[2,3,4,11],parentId:104}],businessModelIds:[2,3,4,5,6,7,10,11],parentId:1},{id:107,name:"Workflow Management",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:108,name:"Workflow Templates",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[5,11],parentId:107},{id:109,name:"Workflow Tracker",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[11],parentId:107},{id:155,name:"Intelligent Flow Planer",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[2,11],parentId:107},{id:157,name:"Connect To Calender",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[4,11],parentId:107}],businessModelIds:[2,3,4,5,11],parentId:1},{id:110,name:"Productivity Analysis",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:111,name:"Light-Weight Tooling",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[5],parentId:110},{id:112,name:"Productivity Optimization",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[10],parentId:110}],businessModelIds:[5,10,11],parentId:1},{id:113,name:"Segment Optimized Functions",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:114,name:"General",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:115,name:"Automatic Task Breakdown",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[8,9,10,11],parentId:114},{id:116,name:"Task Time Prediction",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[8,10,11],parentId:114},{id:117,name:"Connect To Friends",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[58],features:[],businessModelIds:[8,9],parentId:114}],businessModelIds:[8,9,10,11],parentId:113},{id:118,name:"Fitness Functions",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[130],requiringDependencyTo:[],excludingDependency:[],features:[{id:119,name:"Time To Sport",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[8,9],parentId:118},{id:120,name:"Calories Tracker",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[8,9],parentId:118}],businessModelIds:[8,9],parentId:113},{id:121,name:"Work&Life Balance",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[131],requiringDependencyTo:[],excludingDependency:[],features:[{id:122,name:"Optimize Scheduling",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[8,10],parentId:121},{id:123,name:"Optimize Concentration",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[8,10],parentId:121}],businessModelIds:[8,10],parentId:113},{id:124,name:"Business Functions",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[132],requiringDependencyTo:[],excludingDependency:[],features:[{id:125,name:"Automatic Task Scheduling",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[8,11],parentId:124},{id:126,name:"Workflow Tracking",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[8,11],parentId:124}],businessModelIds:[8,11],parentId:113}],businessModelIds:[8,9,10,11],parentId:1}],businessModelIds:[1,2,3,4,5,6,7,8,9,10,11],parentId:0},{id:2,name:"Customer Segment",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!1,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:15,name:"Interaction Type",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!0,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:58,name:"Single-User",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[14,106,117,138],features:[],businessModelIds:[1,7,6,10],parentId:15},{id:59,name:"Single-Sided-Market",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1,2,3,4,5,9,11],parentId:15},{id:60,name:"Multi-Sided-Market",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1],parentId:15}],businessModelIds:[1,2,3,4,5,6,7,9,10,11],parentId:2},{id:16,name:"Market Size",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!0,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:61,name:"Niche Market",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1,9,10,11],parentId:16},{id:62,name:"Mass Market",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1,2,3,4,5,6,7],parentId:16}],businessModelIds:[1,2,3,4,5,6,7,9,10,11],parentId:2},{id:17,name:"Target Group",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:130,name:"Fitness Improver",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[118],excludingDependency:[],features:[],businessModelIds:[8,9],parentId:17},{id:131,name:"Life Improver",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[121],excludingDependency:[],features:[],businessModelIds:[8,10],parentId:17},{id:132,name:"Business Improver",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[124],excludingDependency:[],features:[],businessModelIds:[8,11],parentId:17}],businessModelIds:[1,8,9,10,11],parentId:2},{id:18,name:"User Type",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:63,name:"Private User",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1,2,3,4,5,6,7,9,10],parentId:18},{id:64,name:"Professional User",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1,2,3,4,5,11],parentId:18}],businessModelIds:[1,2,3,4,5,6,7,9,10,11],parentId:2},{id:127,name:"Homing",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!0,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:128,name:"Single-Homed",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[99],features:[],businessModelIds:[6,7],parentId:127},{id:129,name:"Multi-Homed",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[2,3,4,5,9,10,11],parentId:127}],businessModelIds:[2,3,4,5,6,7,9,10,11],parentId:2}],businessModelIds:[1,2,3,4,5,6,7,8,9,10,11],parentId:0},{id:3,name:"Customer Relationships",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!1,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:19,name:"Customer Aquisition",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:85,name:"Advertisements",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:136,name:"Facbook Ads",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[],parentId:85}],businessModelIds:[1,3,4,5,10,11],parentId:19},{id:86,name:"Friend Invitation System",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1,3,4,5,9,10,11],parentId:19},{id:133,name:"Existing Customer Base",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:134,name:"Brand Customer Base",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[],parentId:133},{id:135,name:"OS Customer Base",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[],parentId:133}],businessModelIds:[2,6,7],parentId:19},{id:158,name:"Online Communities",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[8,9,11],parentId:19},{id:159,name:"Facebook Groups",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[35],excludingDependency:[],features:[],businessModelIds:[8,9,10],parentId:19}],businessModelIds:[1,2,3,4,8,5,6,7,9,10,11],parentId:3},{id:20,name:"Customer Retention",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:87,name:"Locked-In",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1,5,10,11],parentId:20},{id:88,name:"Gamification",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:137,name:"Progress Discovery",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[8,9,10,11],parentId:88},{id:138,name:"Friend Challenges",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[58],features:[],businessModelIds:[8,9],parentId:88}],businessModelIds:[1,8,9,10,11],parentId:20},{id:89,name:"Customer Support",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1,2,3,4,5,11],parentId:20},{id:156,name:"Free Usage",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[2,9],parentId:20}],businessModelIds:[1,2,3,4,8,5,9,10,11],parentId:3},{id:21,name:"Boosting Sales",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:92,name:"Forced Stops",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1],parentId:21}],businessModelIds:[1],parentId:3}],businessModelIds:[1,2,3,4,5,6,7,8,9,10,11],parentId:0},{id:4,name:"Customer Channels",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!1,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:22,name:"Awareness",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:93,name:"Word-of-Mouth",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1,2,3,4,5,9,10,11],parentId:22},{id:94,name:"Store Placement",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1,3,4],parentId:22},{id:139,name:"Facebook Groups",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[8,9,10],parentId:22},{id:140,name:"Online Communities",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[8,9,11],parentId:22},{id:141,name:"Social Media Ads",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[3,4,8,5,10,11],parentId:22},{id:163,name:"Influencer Marketing",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[8]}],businessModelIds:[1,2,3,4,8,5,9,10,11],parentId:4},{id:23,name:"Evaluation",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:95,name:"Freemium",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1,3,4,5,10,11],parentId:23},{id:96,name:"AppStore Optimization",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:143,name:"Review Reactions",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[],parentId:96}],businessModelIds:[1,3,9,10,11],parentId:23},{id:142,name:"Company Branding",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[2],parentId:23}],businessModelIds:[1,2,3,4,5,9,10,11],parentId:4},{id:24,name:"Purchase",isMandatory:!0,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:67,name:"In-Store Purchase",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1,2,3,4,5,9,10,11],parentId:24},{id:68,name:"Out-of-Store Purchase",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[44],excludingDependency:[],features:[],businessModelIds:[1,3,4,5,11],parentId:24},{id:161,name:"No Purchase",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[],parentId:24}],businessModelIds:[1,2,3,4,5,9,10,11],parentId:4},{id:25,name:"Delivery",isMandatory:!0,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:69,name:"In-Store Delivery",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1,2,3,4,5,9,10,11],parentId:25},{id:70,name:"Out-of-Store Delivery",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1],parentId:25}],businessModelIds:[1,2,3,4,5,9,10,11],parentId:4},{id:26,name:"After Sales",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:97,name:"App Updates",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:144,name:"Update with OS",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[],parentId:97}],businessModelIds:[1,2,3,4,5,9,10,11],parentId:26},{id:98,name:"Content Updates",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1,9,10],parentId:26}],businessModelIds:[1,2,3,4,5,9,10,11],parentId:4},{id:160,name:"Included in OS",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[6,7],parentId:4}],businessModelIds:[1,2,3,4,5,6,7,8,9,10,11],parentId:0},{id:5,name:"Key Partners",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!1,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:38,name:"Advertisement Partner",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[27],excludingDependency:[],features:[],businessModelIds:[1,9],parentId:5},{id:39,name:"App Developer",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1],parentId:5},{id:41,name:"Content Provider",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1,9],parentId:5},{id:42,name:"Instrastructure Provider",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1,3,4,5,9,10,11],parentId:5},{id:43,name:"Manufacturing Provider",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1],parentId:5},{id:44,name:"Payment Provider",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[68],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1,3,4,5,11],parentId:5},{id:45,name:"Store Provider",isMandatory:!0,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1,2,3,4,5,9,10,11],parentId:5},{id:151,name:"Third-Party Developer",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[152],excludingDependency:[],features:[],businessModelIds:[3,4,5],parentId:5},{id:162,name:"Influencer",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[8]}],businessModelIds:[1,2,3,4,5,6,7,8,9,10,11],parentId:0},{id:6,name:"Key Activities",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!1,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:46,name:"Develop Hard- and Software",isMandatory:!0,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[32],excludingDependency:[],features:[{id:65,name:"Develop Software",isMandatory:!0,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1,3,4,5,6,9,10],parentId:46},{id:66,name:"Develop Hardware",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1],parentId:46}],businessModelIds:[1,2,3,4,5,6,7,9,10,11],parentId:6},{id:47,name:"Negotiate Licenses",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[34],excludingDependency:[],features:[],businessModelIds:[1],parentId:6},{id:48,name:"Manage Infrastructure",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[33],excludingDependency:[],features:[],businessModelIds:[1,2,3,4,5,6,7,10,11],parentId:6},{id:49,name:"Produce Content",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[36],excludingDependency:[],features:[],businessModelIds:[1,9,10],parentId:6},{id:50,name:"Plan Marketing Campaigns",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[35],excludingDependency:[],features:[],businessModelIds:[1,2,3,4,5,9,10,11],parentId:6},{id:51,name:"Support Customer",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[37],excludingDependency:[],features:[],businessModelIds:[1,2,3,4,5,6,7,9,10,11],parentId:6}],businessModelIds:[1,2,3,4,5,6,7,8,9,10,11],parentId:0},{id:7,name:"Key Resources",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!1,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],businessModelIds:[1,2,3,4,5,6,7,8,9,10,11],features:[{id:52,name:"Algorithms",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1,3,9,10,11],parentId:7},{id:53,name:"Brands",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1],parentId:7},{id:54,name:"Content",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1,9,10],parentId:7},{id:55,name:"Developer License",isMandatory:!0,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1,2,3,4,5,9,10,11],parentId:7},{id:57,name:"Patents",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1],parentId:7},{id:56,name:"Infrastructure",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,features:[],businessModelIds:[1,2,3,4,5,6,7,9,10,11],requiringDependencyFrom:[],requiringDependencyTo:[33],excludingDependency:[],parentId:7},{id:152,name:"Developer API",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[151],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[3,4,5],parentId:7}],parentId:0},{id:8,name:"Revenue Streams",isMandatory:!1,hasOrSubfeatures:!0,hasXOrSubfeatures:!1,isDeletable:!1,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:27,name:"Advertisement",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[38],requiringDependencyTo:[],excludingDependency:[],features:[{id:90,name:"In-App Ads",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1,9],parentId:27},{id:91,name:"Personalized Ads",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1],parentId:27}],businessModelIds:[1,9],parentId:8},{id:28,name:"Brokerage",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1],parentId:8},{id:29,name:"Donation",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1],parentId:8},{id:30,name:"Sale",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:71,name:"App Purchase",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1],parentId:30},{id:72,name:"In-App Purchase",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1],parentId:30}],businessModelIds:[1],parentId:8},{id:31,name:"Subscription",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:148,name:"Normal Account",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[3,4,5],parentId:31},{id:149,name:"Professional Account",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[3,4,11],parentId:31},{id:150,name:"Business Account",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[4,5,11],parentId:31}],businessModelIds:[1,3,4,5,10,11],parentId:8},{id:145,name:"Cross-Financed",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:146,name:"Hardware",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[6],parentId:145},{id:147,name:"Software",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[6,7],parentId:145}],businessModelIds:[2,6,7],parentId:8}],businessModelIds:[1,2,3,4,5,6,7,8,9,10,11],parentId:0},{id:9,name:"Cost Structure",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!1,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:32,name:"Development",isMandatory:!0,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[46],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1,2,3,4,5,6,7,9,10,11],parentId:9},{id:33,name:"Infrastructure",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[48,56],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1,2,3,4,5,6,7,9,10,11],parentId:9},{id:34,name:"Licenses",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[47],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1],parentId:9},{id:35,name:"Marketing",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[50,159],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1,2,3,4,5,9,10,11],parentId:9},{id:36,name:"Production ",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[49],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1,9,10],parentId:9},{id:37,name:"Support",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[51],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1,2,3,4,5,6,7,9,10,11],parentId:9}],businessModelIds:[1,2,3,4,5,6,7,8,9,10,11],parentId:0}],featureMap:{1:"Value Proposition",2:"Customer Segments",3:"Customer Relationships",4:"Customer Channel",5:"Key Partners",6:"Key Activities",7:"Key Resources",8:"Revenue Streams",9:"Cost Structure",10:"Accessibility",11:"Customization",12:"Design / Usability",13:"Price",14:"Network",15:"Interaction Type",16:"Market Size",17:"Target Group",18:"User Type",19:"Customer Aquisition",20:"Customer Retention",21:"Boosting Sales",22:"Awareness",23:"Evaluation",24:"Purchase",25:"Delivery",26:"After Sales",27:"Advertisement",28:"Brokerage",29:"Donation",30:"Sale",31:"Subscription",32:"Development",33:"Infrastructure",34:"Licenses",35:"Marketing",36:"Production ",37:"Support",38:"Advertisement Partner",39:"App Developer",41:"Content Provider",42:"Instrastructure Provider",43:"Manufacturing Provider",44:"Payment Provider",45:"Store Provider",46:"Develop Hard- and Software",47:"Negotiate Licsenses",48:"Manage Infrastructure",49:"Produce Content",50:"Plan Marketing Campaigns",51:"Support Customer",52:"Algorithms",53:"Brands",54:"Content",55:"Developer Licsense",56:"Infrastructure",57:"Patents",58:"Single-User",59:"Single-Sided-Market",60:"Multi-Sided-Market",61:"Niche Market",62:"Mass Market",63:"Private User",64:"Professional User",65:"Develop Software",66:"Develop Hardware",67:"In-Store-Purchase",68:"Out-Of-Store Purchase",69:"In-Store-Delivery",70:"Out-of-Store Delivery",71:"App Purchase",72:"In-App Purchase",73:"Anonymous Access",74:"Simplified Sign-In Servies",75:"Personalized Recommendations",76:"Changeable User Interfaces",77:"Execution Step Reduction",78:"Design Pattern Usage",79:"Free for All",80:"Low-Price Strategy",81:"Money-Back Guarantee",82:"Quantity Network Size",84:"Quality Network Users",85:"Advertisements",86:"Friend Invitation System",87:"Locked-In",88:"Gamification",89:"Customer Support",90:"Inn-App Ads",91:"Personalized Ads",92:"Forced Stops",93:"Word-of-Mouth",94:"Store Placement",95:"Freemium",96:"AppStore Optimization",97:"App Updates",98:"Content Updates",99:"Multi-OS Access",100:"Device Syncronisation",101:"Function Scope",102:"Minimized Scope",103:"Maximized Scope",104:"Task Management",105:"Splitting of Tasks",106:"Work Together",107:"Workflow Management",108:"Workflow Templates",109:"Workflow Tracker",110:"Productivity Analysis",111:"Light-Weight Tooling",112:"Productivity Optimization",113:"Segment Optimized Functions",114:"General",115:"Automatic Task Breakdown",116:"Task Time Prediction",117:"Connect To Friends",118:"Fitness Functions",119:"Time To Sport",120:"Calories Tracker",121:"Work&Life Balance",122:"Optimize Scheduling",123:"Optimize Concentration",124:"Business Functions",125:"Automatic Task Scheduling",126:"Workflow Tracking",127:"Homing",128:"Single-Homed",129:"Multi-Homed",130:"Fitness Improver",131:"Life Improver",132:"Business Improver",133:"Existing Customer Base",134:"Brand Customer Base",135:"OS Customer Base",136:"Facbook Ads",137:"Progress Discovery",138:"Friend Challenges",139:"Facebook Groups",140:"Online Communities",141:"Social Media Ads",142:"Company Branding",143:"Review Reactions",144:"Update with OS",145:"Cross-Financed",146:"Hardware",147:"Software",148:"Normal Account",149:"Professional Account",150:"Business Account",151:"Third-Party Developer",152:"Developer API",154:"Medium Scope",155:"Intelligent Flow Planer",156:"Free Usage",157:"Connect To Calender",158:"Online Communities",159:"Facebook Groups",160:"Included in OS",161:"No Purchase",162:"Influencer",163:"Influencer Marketing"},businessModelMap:{1:"Market Analysis",2:"Competitor Analysis: Microsoft Todo",3:"Competitor Analysis: Wunderlist",4:"Competitor Analysis: Any.do",5:"Competitor Analysis: Todoist",6:"Competitor Analysis: Apples iOS",7:"Competitor Analysis Googles Android",8:"Niche Analysis",9:"Customer Analysis: Fitness Improver",10:"Customer Analysis: Work&Life Improver",11:"Customer Analysis: Business Improver"}}])),e=>e)}}return e.ngInjectableDef=pe({factory:function(){return new e},token:e,providedIn:"root"}),e})();var vC=Jn({encapsulation:0,styles:[[""]],data:{}});function yC(e){return ci(0,[(e()(),Xs(0,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),Xs(1,0,null,null,1,"h4",[["class","modal-title"],["id","modal-basic-title"]],null,null,null,null,null)),(e()(),oi(2,null,["",""])),(e()(),Xs(3,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.closeModal()&&r),r},null,null)),(e()(),Xs(4,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),oi(-1,null,["\xd7"])),(e()(),Xs(6,0,null,null,5,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),Xs(7,0,null,null,4,"div",[["class","alert alert-warning"],["role","alert"]],null,null,null,null,null)),(e()(),Xs(8,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),oi(9,null,['You are trying to remove the feature "','". Please keep in mind that you are removing also all subfeatures together with the corresponding dependencies.'])),(e()(),Xs(10,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),oi(-1,null,["Moreover, the feature is also removed from all business canvases."])),(e()(),Xs(12,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(e()(),Xs(13,0,null,null,1,"button",[["class","btn btn-block btn-warning"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0,l=e.component;return"click"===t&&(r=!1!==l.deleteFeature(l.modalFeature.id)&&r),r},null,null)),(e()(),oi(-1,null,["Delete Feature"]))],null,function(e,t){var n=t.component;e(t,2,0,n.modalFeature.name),e(t,9,0,n.modalFeature.name)})}function bC(e){return ci(0,[(e()(),Xs(0,0,null,null,2,"div",[["class","alert alert-info"],["role","alert"]],null,null,null,null,null)),(e()(),Xs(1,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),oi(-1,null,["There are no dependencies left to remove."]))],null,null)}function _C(e){return ci(0,[(e()(),Xs(0,0,null,null,3,"li",[["class","list-group-item justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),oi(1,null,[""," "])),(e()(),Xs(2,0,null,null,1,"button",[["class","btn btn-warning btn-xs bottom-right"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0,l=e.component;return"click"===t&&(r=!1!==l.deleteDependency("requiringDependencyTo",l.modalFeature.id,e.context.$implicit)&&r),r},null,null)),(e()(),oi(-1,null,["Delete"]))],null,function(e,t){e(t,1,0,t.component.featureModel.featureMap[t.context.$implicit])})}function wC(e){return ci(0,[(e()(),Xs(0,0,null,null,5,"li",[["class","list-group-item justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),Xs(1,0,null,null,0,"i",[["class","fa fa-arrow-right"]],null,null,null,null,null)),(e()(),oi(-1,null,[" Requires: "])),(e()(),Xs(3,0,null,null,2,"ul",[["class","list-group inner"],["style","margin:5px;"]],null,null,null,null,null)),(e()(),zs(16777216,null,null,1,null,_C)),cl(5,278528,null,0,fu,[Pn,Tn,kn],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,5,0,t.component.modalFeature.requiringDependencyTo)},null)}function DC(e){return ci(0,[(e()(),Xs(0,0,null,null,3,"li",[["class","list-group-item justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),oi(1,null,[""," "])),(e()(),Xs(2,0,null,null,1,"button",[["class","btn btn-warning btn-xs bottom-right"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0,l=e.component;return"click"===t&&(r=!1!==l.deleteDependency("requiringDependencyFrom",l.modalFeature.id,e.context.$implicit)&&r),r},null,null)),(e()(),oi(-1,null,["Delete"]))],null,function(e,t){e(t,1,0,t.component.featureModel.featureMap[t.context.$implicit])})}function SC(e){return ci(0,[(e()(),Xs(0,0,null,null,5,"li",[["class","list-group-item justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),Xs(1,0,null,null,0,"i",[["class","fa fa-arrow-left"]],null,null,null,null,null)),(e()(),oi(-1,null,[" Required by: "])),(e()(),Xs(3,0,null,null,2,"ul",[["class","list-group inner"],["style","margin:5px;"]],null,null,null,null,null)),(e()(),zs(16777216,null,null,1,null,DC)),cl(5,278528,null,0,fu,[Pn,Tn,kn],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,5,0,t.component.modalFeature.requiringDependencyFrom)},null)}function CC(e){return ci(0,[(e()(),Xs(0,0,null,null,3,"li",[["class","list-group-item justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),oi(1,null,[""," "])),(e()(),Xs(2,0,null,null,1,"button",[["class","btn btn-warning btn-xs bottom-right"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0,l=e.component;return"click"===t&&(r=!1!==l.deleteDependency("excludingDependency",l.modalFeature.id,e.context.$implicit)&&r),r},null,null)),(e()(),oi(-1,null,["Delete"]))],null,function(e,t){e(t,1,0,t.component.featureModel.featureMap[t.context.$implicit])})}function kC(e){return ci(0,[(e()(),Xs(0,0,null,null,5,"li",[["class","list-group-item justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),Xs(1,0,null,null,0,"i",[["class","fa fa-arrows-alt-h"]],null,null,null,null,null)),(e()(),oi(-1,null,[" Excludes: "])),(e()(),Xs(3,0,null,null,2,"ul",[["class","list-group inner"],["style","margin:5px;"]],null,null,null,null,null)),(e()(),zs(16777216,null,null,1,null,CC)),cl(5,278528,null,0,fu,[Pn,Tn,kn],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,5,0,t.component.modalFeature.excludingDependency)},null)}function xC(e){return ci(0,[(e()(),Xs(0,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),Xs(1,0,null,null,1,"h4",[["class","modal-title"],["id","modal-basic-title"]],null,null,null,null,null)),(e()(),oi(2,null,["",""])),(e()(),Xs(3,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.closeModal()&&r),r},null,null)),(e()(),Xs(4,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),oi(-1,null,["\xd7"])),(e()(),Xs(6,0,null,null,9,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),zs(16777216,null,null,1,null,bC)),cl(8,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(e()(),Xs(9,0,null,null,6,"ul",[["class","list-group inner"],["style","margin:5px;"]],null,null,null,null,null)),(e()(),zs(16777216,null,null,1,null,wC)),cl(11,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(e()(),zs(16777216,null,null,1,null,SC)),cl(13,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(e()(),zs(16777216,null,null,1,null,kC)),cl(15,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,8,0,0==n.modalFeature.requiringDependencyTo.length&&0==n.modalFeature.requiringDependencyFrom.length&&0==n.modalFeature.excludingDependency.length),e(t,11,0,0!=n.modalFeature.requiringDependencyTo.length),e(t,13,0,0!=n.modalFeature.requiringDependencyFrom.length),e(t,15,0,0!=n.modalFeature.excludingDependency.length)},function(e,t){e(t,2,0,t.component.modalFeature.name)})}function IC(e){return ci(0,[(e()(),Xs(0,0,null,null,3,"option",[],[[8,"disabled",0]],null,null,null,null)),cl(1,147456,null,0,ep,[sn,dn,[2,Yf]],{value:[0,"value"]},null),cl(2,147456,null,0,rp,[sn,dn,[8,null]],{value:[0,"value"]},null),(e()(),oi(3,null,[""," "]))],function(e,t){e(t,1,0,kr(1,"",t.context.$implicit.id,"")),e(t,2,0,kr(1,"",t.context.$implicit.id,""))},function(e,t){var n=t.component;e(t,0,0,t.context.$implicit.id==n.modalFeature.id||n.modalSubfeatureIds.includes(t.context.$implicit.id)),e(t,3,0,t.context.$implicit.levelname)})}function MC(e){return ci(0,[(e()(),Xs(0,0,null,null,11,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Xs(1,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","subfeatureOf"]],null,null,null,null,null)),(e()(),oi(-1,null,["Subfeature of"])),(e()(),Xs(3,0,null,null,8,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Xs(4,0,null,null,7,"select",[["class","form-control"],["formControlName","subfeatureOf"],["id","subfeatureOf"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var r=!0;return"change"===t&&(r=!1!==Qr(e,5).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==Qr(e,5).onTouched()&&r),r},null,null)),cl(5,16384,null,0,Yf,[dn,sn],null,null),dl(1024,null,If,function(e){return[e]},[Yf]),cl(7,671744,null,0,Tp,[[3,Tf],[8,null],[8,null],[6,If],[2,Ip]],{name:[0,"name"]},null),dl(2048,null,Pf,null,[Tp]),cl(9,16384,null,0,Nf,[[4,Pf]],null,null),(e()(),zs(16777216,null,null,1,null,IC)),cl(11,278528,null,0,fu,[Pn,Tn,kn],{ngForOf:[0,"ngForOf"]},null)],function(e,t){var n=t.component;e(t,7,0,"subfeatureOf"),e(t,11,0,n.featureList)},function(e,t){e(t,4,0,Qr(t,9).ngClassUntouched,Qr(t,9).ngClassTouched,Qr(t,9).ngClassPristine,Qr(t,9).ngClassDirty,Qr(t,9).ngClassValid,Qr(t,9).ngClassInvalid,Qr(t,9).ngClassPending)})}function EC(e){return ci(0,[(e()(),Xs(0,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),Xs(1,0,null,null,1,"h4",[["class","modal-title"],["id","modal-basic-title"]],null,null,null,null,null)),(e()(),oi(2,null,["",""])),(e()(),Xs(3,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.closeModal()&&r),r},null,null)),(e()(),Xs(4,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),oi(-1,null,["\xd7"])),(e()(),Xs(6,0,null,null,76,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),Xs(7,0,null,null,75,"div",[["class","text-muted pt-3"]],null,null,null,null,null)),(e()(),Xs(8,0,null,null,74,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(e,t,n){var r=!0,l=e.component;return"submit"===t&&(r=!1!==Qr(e,10).onSubmit(n)&&r),"reset"===t&&(r=!1!==Qr(e,10).onReset()&&r),"ngSubmit"===t&&(r=!1!==l.updateFeature()&&r),r},null,null)),cl(9,16384,null,0,xp,[],null,null),cl(10,540672,null,0,Mp,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),dl(2048,null,Tf,null,[Mp]),cl(12,16384,null,0,Rf,[[4,Tf]],null,null),(e()(),Xs(13,0,null,null,9,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Xs(14,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","name"]],null,null,null,null,null)),(e()(),oi(-1,null,["Feature Name"])),(e()(),Xs(16,0,null,null,6,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Xs(17,0,null,null,5,"input",[["class","form-control"],["formControlName","name"],["id","name"],["type","text"]],[[8,"readOnly",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var r=!0;return"input"===t&&(r=!1!==Qr(e,18)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Qr(e,18).onTouched()&&r),"compositionstart"===t&&(r=!1!==Qr(e,18)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Qr(e,18)._compositionEnd(n.target.value)&&r),r},null,null)),cl(18,16384,null,0,Of,[dn,sn,[2,Ef]],null,null),dl(1024,null,If,function(e){return[e]},[Of]),cl(20,671744,null,0,Tp,[[3,Tf],[8,null],[8,null],[6,If],[2,Ip]],{name:[0,"name"]},null),dl(2048,null,Pf,null,[Tp]),cl(22,16384,null,0,Nf,[[4,Pf]],null,null),(e()(),zs(16777216,null,null,1,null,MC)),cl(24,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(e()(),Xs(25,0,null,null,17,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Xs(26,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","isMandatory"]],null,null,null,null,null)),(e()(),oi(-1,null,["Mandatory Feature"])),(e()(),Xs(28,0,null,null,14,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Xs(29,0,null,null,13,"select",[["class","form-control"],["formControlName","isMandatory"],["id","isMandatory"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var r=!0;return"change"===t&&(r=!1!==Qr(e,30).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==Qr(e,30).onTouched()&&r),r},null,null)),cl(30,16384,null,0,Yf,[dn,sn],null,null),dl(1024,null,If,function(e){return[e]},[Yf]),cl(32,671744,null,0,Tp,[[3,Tf],[8,null],[8,null],[6,If],[2,Ip]],{name:[0,"name"]},null),dl(2048,null,Pf,null,[Tp]),cl(34,16384,null,0,Nf,[[4,Pf]],null,null),(e()(),Xs(35,0,null,null,3,"option",[["value","true"]],null,null,null,null,null)),cl(36,147456,null,0,ep,[sn,dn,[2,Yf]],{value:[0,"value"]},null),cl(37,147456,null,0,rp,[sn,dn,[8,null]],{value:[0,"value"]},null),(e()(),oi(-1,null,["Yes"])),(e()(),Xs(39,0,null,null,3,"option",[["value","false"]],null,null,null,null,null)),cl(40,147456,null,0,ep,[sn,dn,[2,Yf]],{value:[0,"value"]},null),cl(41,147456,null,0,rp,[sn,dn,[8,null]],{value:[0,"value"]},null),(e()(),oi(-1,null,["No"])),(e()(),Xs(43,0,null,null,17,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Xs(44,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","hasOrSubfeatures"]],null,null,null,null,null)),(e()(),oi(-1,null,["OR Subfeatures"])),(e()(),Xs(46,0,null,null,14,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Xs(47,0,null,null,13,"select",[["class","form-control"],["formControlName","hasOrSubfeatures"],["id","hasOrSubfeatures"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var r=!0;return"change"===t&&(r=!1!==Qr(e,48).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==Qr(e,48).onTouched()&&r),r},null,null)),cl(48,16384,null,0,Yf,[dn,sn],null,null),dl(1024,null,If,function(e){return[e]},[Yf]),cl(50,671744,null,0,Tp,[[3,Tf],[8,null],[8,null],[6,If],[2,Ip]],{name:[0,"name"]},null),dl(2048,null,Pf,null,[Tp]),cl(52,16384,null,0,Nf,[[4,Pf]],null,null),(e()(),Xs(53,0,null,null,3,"option",[["value","true"]],null,null,null,null,null)),cl(54,147456,null,0,ep,[sn,dn,[2,Yf]],{value:[0,"value"]},null),cl(55,147456,null,0,rp,[sn,dn,[8,null]],{value:[0,"value"]},null),(e()(),oi(-1,null,["Yes"])),(e()(),Xs(57,0,null,null,3,"option",[["value","false"]],null,null,null,null,null)),cl(58,147456,null,0,ep,[sn,dn,[2,Yf]],{value:[0,"value"]},null),cl(59,147456,null,0,rp,[sn,dn,[8,null]],{value:[0,"value"]},null),(e()(),oi(-1,null,["No"])),(e()(),Xs(61,0,null,null,17,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Xs(62,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","hasXOrSubfeatures"]],null,null,null,null,null)),(e()(),oi(-1,null,["XOR Subfeature"])),(e()(),Xs(64,0,null,null,14,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Xs(65,0,null,null,13,"select",[["class","form-control"],["formControlName","hasXOrSubfeatures"],["id","hasXOrSubfeatures"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var r=!0;return"change"===t&&(r=!1!==Qr(e,66).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==Qr(e,66).onTouched()&&r),r},null,null)),cl(66,16384,null,0,Yf,[dn,sn],null,null),dl(1024,null,If,function(e){return[e]},[Yf]),cl(68,671744,null,0,Tp,[[3,Tf],[8,null],[8,null],[6,If],[2,Ip]],{name:[0,"name"]},null),dl(2048,null,Pf,null,[Tp]),cl(70,16384,null,0,Nf,[[4,Pf]],null,null),(e()(),Xs(71,0,null,null,3,"option",[["value","true"]],null,null,null,null,null)),cl(72,147456,null,0,ep,[sn,dn,[2,Yf]],{value:[0,"value"]},null),cl(73,147456,null,0,rp,[sn,dn,[8,null]],{value:[0,"value"]},null),(e()(),oi(-1,null,["Yes"])),(e()(),Xs(75,0,null,null,3,"option",[["value","false"]],null,null,null,null,null)),cl(76,147456,null,0,ep,[sn,dn,[2,Yf]],{value:[0,"value"]},null),cl(77,147456,null,0,rp,[sn,dn,[8,null]],{value:[0,"value"]},null),(e()(),oi(-1,null,["No"])),(e()(),Xs(79,0,null,null,3,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Xs(80,0,null,null,2,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),Xs(81,0,null,null,1,"button",[["class","btn btn-dark btn-block"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),oi(-1,null,["Update Feature"]))],function(e,t){var n=t.component;e(t,10,0,n.modalFeatureForm),e(t,20,0,"name"),e(t,24,0,n.modalFeature.isDeletable),e(t,32,0,"isMandatory"),e(t,36,0,"true"),e(t,37,0,"true"),e(t,40,0,"false"),e(t,41,0,"false"),e(t,50,0,"hasOrSubfeatures"),e(t,54,0,"true"),e(t,55,0,"true"),e(t,58,0,"false"),e(t,59,0,"false"),e(t,68,0,"hasXOrSubfeatures"),e(t,72,0,"true"),e(t,73,0,"true"),e(t,76,0,"false"),e(t,77,0,"false")},function(e,t){var n=t.component;e(t,2,0,n.modalFeature.name),e(t,8,0,Qr(t,12).ngClassUntouched,Qr(t,12).ngClassTouched,Qr(t,12).ngClassPristine,Qr(t,12).ngClassDirty,Qr(t,12).ngClassValid,Qr(t,12).ngClassInvalid,Qr(t,12).ngClassPending),e(t,17,0,!n.modalFeature.isDeletable,Qr(t,22).ngClassUntouched,Qr(t,22).ngClassTouched,Qr(t,22).ngClassPristine,Qr(t,22).ngClassDirty,Qr(t,22).ngClassValid,Qr(t,22).ngClassInvalid,Qr(t,22).ngClassPending),e(t,29,0,Qr(t,34).ngClassUntouched,Qr(t,34).ngClassTouched,Qr(t,34).ngClassPristine,Qr(t,34).ngClassDirty,Qr(t,34).ngClassValid,Qr(t,34).ngClassInvalid,Qr(t,34).ngClassPending),e(t,47,0,Qr(t,52).ngClassUntouched,Qr(t,52).ngClassTouched,Qr(t,52).ngClassPristine,Qr(t,52).ngClassDirty,Qr(t,52).ngClassValid,Qr(t,52).ngClassInvalid,Qr(t,52).ngClassPending),e(t,65,0,Qr(t,70).ngClassUntouched,Qr(t,70).ngClassTouched,Qr(t,70).ngClassPristine,Qr(t,70).ngClassDirty,Qr(t,70).ngClassValid,Qr(t,70).ngClassInvalid,Qr(t,70).ngClassPending),e(t,81,0,!n.modalFeatureForm.valid)})}function OC(e){return ci(0,[(e()(),Xs(0,0,null,null,3,"a",[["class","nav-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Qr(e,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),cl(1,671744,null,0,Kh,[Wh,Nd,Do],{routerLink:[0,"routerLink"]},null),li(2,2),(e()(),oi(3,null,["View ",""]))],function(e,t){var n=e(t,2,0,"/featuremodelview",t.component.featureModel._id);e(t,1,0,n)},function(e,t){var n=t.component;e(t,0,0,Qr(t,1).target,Qr(t,1).href),e(t,3,0,n.featureModel.name)})}function FC(e){return ci(0,[(e()(),Xs(0,0,null,null,3,"a",[["class","nav-link active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Qr(e,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),cl(1,671744,null,0,Kh,[Wh,Nd,Do],{routerLink:[0,"routerLink"]},null),li(2,2),(e()(),oi(3,null,["Edit ",""]))],function(e,t){var n=e(t,2,0,"/featuremodel",t.component.featureModel._id);e(t,1,0,n)},function(e,t){var n=t.component;e(t,0,0,Qr(t,1).target,Qr(t,1).href),e(t,3,0,n.featureModel.name)})}function TC(e){return ci(0,[(e()(),Xs(0,0,null,null,1,"app-feature-tree",[],null,[[null,"openDependenciesEmitter"],[null,"updateFeatureEmitter"],[null,"deleteFeatureEmitter"]],function(e,t,n){var r=!0,l=e.component;return"openDependenciesEmitter"===t&&(r=!1!==l.openDependenciesModal(n)&&r),"updateFeatureEmitter"===t&&(r=!1!==l.updateFeatureModal(n)&&r),"deleteFeatureEmitter"===t&&(r=!1!==l.deleteFeatureModal(n)&&r),r},cy,ey)),cl(1,49152,null,0,Yv,[],{features:[0,"features"]},{openDependenciesEmitter:"openDependenciesEmitter",updateFeatureEmitter:"updateFeatureEmitter",deleteFeatureEmitter:"deleteFeatureEmitter"})],function(e,t){e(t,1,0,t.component.featureModel.features)},null)}function AC(e){return ci(0,[(e()(),Xs(0,0,null,null,3,"option",[],null,null,null,null,null)),cl(1,147456,null,0,ep,[sn,dn,[2,Yf]],{value:[0,"value"]},null),cl(2,147456,null,0,rp,[sn,dn,[8,null]],{value:[0,"value"]},null),(e()(),oi(3,null,[""," "]))],function(e,t){e(t,1,0,kr(1,"",t.context.$implicit.id,"")),e(t,2,0,kr(1,"",t.context.$implicit.id,""))},function(e,t){e(t,3,0,t.context.$implicit.levelname)})}function PC(e){return ci(0,[(e()(),Xs(0,0,null,null,3,"option",[],null,null,null,null,null)),cl(1,147456,null,0,ep,[sn,dn,[2,Yf]],{value:[0,"value"]},null),cl(2,147456,null,0,rp,[sn,dn,[8,null]],{value:[0,"value"]},null),(e()(),oi(3,null,[""," "]))],function(e,t){e(t,1,0,kr(1,"",t.context.$implicit.id,"")),e(t,2,0,kr(1,"",t.context.$implicit.id,""))},function(e,t){e(t,3,0,t.context.$implicit.levelname)})}function qC(e){return ci(0,[(e()(),Xs(0,0,null,null,3,"option",[],null,null,null,null,null)),cl(1,147456,null,0,ep,[sn,dn,[2,Yf]],{value:[0,"value"]},null),cl(2,147456,null,0,rp,[sn,dn,[8,null]],{value:[0,"value"]},null),(e()(),oi(3,null,[""," "]))],function(e,t){e(t,1,0,kr(1,"",t.context.$implicit.id,"")),e(t,2,0,kr(1,"",t.context.$implicit.id,""))},function(e,t){e(t,3,0,t.context.$implicit.levelname)})}function NC(e){return ci(0,[(e()(),Xs(0,0,null,null,217,"main",[["class","container"],["role","main"]],null,null,null,null,null)),(e()(),Xs(1,0,null,null,35,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Xs(2,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),oi(-1,null,["Feature Model List"])),(e()(),Xs(4,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(e()(),Xs(5,0,null,null,2,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),zs(16777216,null,null,1,null,TC)),cl(7,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(e()(),Xs(8,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(e()(),Xs(9,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Xs(10,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),oi(-1,null,["Legend:"])),(e()(),Xs(12,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Xs(13,0,null,null,0,"i",[["class","fa fa-circle"]],null,null,null,null,null)),(e()(),oi(-1,null,[" Mandatory Feature"])),(e()(),Xs(15,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Xs(16,0,null,null,0,"i",[["class","fa fa-circle-o"]],null,null,null,null,null)),(e()(),oi(-1,null,[" Optional Feature"])),(e()(),Xs(18,0,null,null,8,"div",[["class","row"]],null,null,null,null,null)),(e()(),Xs(19,0,null,null,1,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),oi(-1,null,["\xa0"])),(e()(),Xs(21,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Xs(22,0,null,null,0,"i",[["class","fa fa-caret-up"]],null,null,null,null,null)),(e()(),oi(-1,null,[" Alternative (Xor)"])),(e()(),Xs(24,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Xs(25,0,null,null,0,"i",[["class","fa fa-angle-up"]],null,null,null,null,null)),(e()(),oi(-1,null,[" Or"])),(e()(),Xs(27,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(e()(),Xs(28,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Xs(29,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),oi(-1,null,["\xa0"])),(e()(),Xs(31,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Xs(32,0,null,null,0,"i",[["class","fa fa-arrow-right"]],null,null,null,null,null)),(e()(),oi(-1,null,["Requires (Dependency)"])),(e()(),Xs(34,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Xs(35,0,null,null,0,"i",[["class","fa fa-arrows-alt-h"]],null,null,null,null,null)),(e()(),oi(-1,null,["Excludes (Dependency)"])),(e()(),Xs(37,0,null,null,88,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Xs(38,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),oi(-1,null,["Add Feature"])),(e()(),Xs(40,0,null,null,85,"div",[["class","text-muted pt-3"]],null,null,null,null,null)),(e()(),Xs(41,0,null,null,84,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(e,t,n){var r=!0,l=e.component;return"submit"===t&&(r=!1!==Qr(e,43).onSubmit(n)&&r),"reset"===t&&(r=!1!==Qr(e,43).onReset()&&r),"ngSubmit"===t&&(r=!1!==l.insertFeature()&&r),r},null,null)),cl(42,16384,null,0,xp,[],null,null),cl(43,540672,null,0,Mp,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),dl(2048,null,Tf,null,[Mp]),cl(45,16384,null,0,Rf,[[4,Tf]],null,null),(e()(),Xs(46,0,null,null,9,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Xs(47,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","featureName"]],null,null,null,null,null)),(e()(),oi(-1,null,["Feature Name"])),(e()(),Xs(49,0,null,null,6,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Xs(50,0,null,null,5,"input",[["class","form-control"],["formControlName","featureName"],["id","name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var r=!0;return"input"===t&&(r=!1!==Qr(e,51)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Qr(e,51).onTouched()&&r),"compositionstart"===t&&(r=!1!==Qr(e,51)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Qr(e,51)._compositionEnd(n.target.value)&&r),r},null,null)),cl(51,16384,null,0,Of,[dn,sn,[2,Ef]],null,null),dl(1024,null,If,function(e){return[e]},[Of]),cl(53,671744,null,0,Tp,[[3,Tf],[8,null],[8,null],[6,If],[2,Ip]],{name:[0,"name"]},null),dl(2048,null,Pf,null,[Tp]),cl(55,16384,null,0,Nf,[[4,Pf]],null,null),(e()(),Xs(56,0,null,null,11,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Xs(57,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","subfeatureOf"]],null,null,null,null,null)),(e()(),oi(-1,null,["Subfeature of"])),(e()(),Xs(59,0,null,null,8,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Xs(60,0,null,null,7,"select",[["class","form-control"],["formControlName","subfeatureOf"],["id","subfeatureOf"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var r=!0;return"change"===t&&(r=!1!==Qr(e,61).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==Qr(e,61).onTouched()&&r),r},null,null)),cl(61,16384,null,0,Yf,[dn,sn],null,null),dl(1024,null,If,function(e){return[e]},[Yf]),cl(63,671744,null,0,Tp,[[3,Tf],[8,null],[8,null],[6,If],[2,Ip]],{name:[0,"name"]},null),dl(2048,null,Pf,null,[Tp]),cl(65,16384,null,0,Nf,[[4,Pf]],null,null),(e()(),zs(16777216,null,null,1,null,AC)),cl(67,278528,null,0,fu,[Pn,Tn,kn],{ngForOf:[0,"ngForOf"]},null),(e()(),Xs(68,0,null,null,17,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Xs(69,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","isMandatory"]],null,null,null,null,null)),(e()(),oi(-1,null,["Mandatory Feature"])),(e()(),Xs(71,0,null,null,14,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Xs(72,0,null,null,13,"select",[["class","form-control"],["formControlName","isMandatory"],["id","isMandatory"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var r=!0;return"change"===t&&(r=!1!==Qr(e,73).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==Qr(e,73).onTouched()&&r),r},null,null)),cl(73,16384,null,0,Yf,[dn,sn],null,null),dl(1024,null,If,function(e){return[e]},[Yf]),cl(75,671744,null,0,Tp,[[3,Tf],[8,null],[8,null],[6,If],[2,Ip]],{name:[0,"name"]},null),dl(2048,null,Pf,null,[Tp]),cl(77,16384,null,0,Nf,[[4,Pf]],null,null),(e()(),Xs(78,0,null,null,3,"option",[["selected",""],["value","true"]],null,null,null,null,null)),cl(79,147456,null,0,ep,[sn,dn,[2,Yf]],{value:[0,"value"]},null),cl(80,147456,null,0,rp,[sn,dn,[8,null]],{value:[0,"value"]},null),(e()(),oi(-1,null,["Yes"])),(e()(),Xs(82,0,null,null,3,"option",[["value","false"]],null,null,null,null,null)),cl(83,147456,null,0,ep,[sn,dn,[2,Yf]],{value:[0,"value"]},null),cl(84,147456,null,0,rp,[sn,dn,[8,null]],{value:[0,"value"]},null),(e()(),oi(-1,null,["No"])),(e()(),Xs(86,0,null,null,17,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Xs(87,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","hasOrSubfeatures"]],null,null,null,null,null)),(e()(),oi(-1,null,["OR Subfeatures"])),(e()(),Xs(89,0,null,null,14,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Xs(90,0,null,null,13,"select",[["class","form-control"],["formControlName","hasOrSubfeatures"],["id","hasOrSubfeatures"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var r=!0;return"change"===t&&(r=!1!==Qr(e,91).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==Qr(e,91).onTouched()&&r),r},null,null)),cl(91,16384,null,0,Yf,[dn,sn],null,null),dl(1024,null,If,function(e){return[e]},[Yf]),cl(93,671744,null,0,Tp,[[3,Tf],[8,null],[8,null],[6,If],[2,Ip]],{name:[0,"name"]},null),dl(2048,null,Pf,null,[Tp]),cl(95,16384,null,0,Nf,[[4,Pf]],null,null),(e()(),Xs(96,0,null,null,3,"option",[["value","true"]],null,null,null,null,null)),cl(97,147456,null,0,ep,[sn,dn,[2,Yf]],{value:[0,"value"]},null),cl(98,147456,null,0,rp,[sn,dn,[8,null]],{value:[0,"value"]},null),(e()(),oi(-1,null,["Yes"])),(e()(),Xs(100,0,null,null,3,"option",[["selected",""],["value","false"]],null,null,null,null,null)),cl(101,147456,null,0,ep,[sn,dn,[2,Yf]],{value:[0,"value"]},null),cl(102,147456,null,0,rp,[sn,dn,[8,null]],{value:[0,"value"]},null),(e()(),oi(-1,null,["No"])),(e()(),Xs(104,0,null,null,17,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Xs(105,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","hasXOrSubfeatures"]],null,null,null,null,null)),(e()(),oi(-1,null,["XOR Subfeature"])),(e()(),Xs(107,0,null,null,14,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Xs(108,0,null,null,13,"select",[["class","form-control"],["formControlName","hasXOrSubfeatures"],["id","hasXOrSubfeatures"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var r=!0;return"change"===t&&(r=!1!==Qr(e,109).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==Qr(e,109).onTouched()&&r),r},null,null)),cl(109,16384,null,0,Yf,[dn,sn],null,null),dl(1024,null,If,function(e){return[e]},[Yf]),cl(111,671744,null,0,Tp,[[3,Tf],[8,null],[8,null],[6,If],[2,Ip]],{name:[0,"name"]},null),dl(2048,null,Pf,null,[Tp]),cl(113,16384,null,0,Nf,[[4,Pf]],null,null),(e()(),Xs(114,0,null,null,3,"option",[["value","true"]],null,null,null,null,null)),cl(115,147456,null,0,ep,[sn,dn,[2,Yf]],{value:[0,"value"]},null),cl(116,147456,null,0,rp,[sn,dn,[8,null]],{value:[0,"value"]},null),(e()(),oi(-1,null,["Yes"])),(e()(),Xs(118,0,null,null,3,"option",[["selected",""],["value","false"]],null,null,null,null,null)),cl(119,147456,null,0,ep,[sn,dn,[2,Yf]],{value:[0,"value"]},null),cl(120,147456,null,0,rp,[sn,dn,[8,null]],{value:[0,"value"]},null),(e()(),oi(-1,null,["No"])),(e()(),Xs(122,0,null,null,3,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Xs(123,0,null,null,2,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),Xs(124,0,null,null,1,"button",[["class","btn btn-sm btn-dark btn-block"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),oi(-1,null,["Add Feature"])),(e()(),Xs(126,0,null,null,58,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Xs(127,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),oi(-1,null,["Add Dependency"])),(e()(),Xs(129,0,null,null,55,"div",[["class","text-muted pt-3"]],null,null,null,null,null)),(e()(),Xs(130,0,null,null,54,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(e,t,n){var r=!0,l=e.component;return"submit"===t&&(r=!1!==Qr(e,132).onSubmit(n)&&r),"reset"===t&&(r=!1!==Qr(e,132).onReset()&&r),"ngSubmit"===t&&(r=!1!==l.insertDependency()&&r),r},null,null)),cl(131,16384,null,0,xp,[],null,null),cl(132,540672,null,0,Mp,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),dl(2048,null,Tf,null,[Mp]),cl(134,16384,null,0,Rf,[[4,Tf]],null,null),(e()(),Xs(135,0,null,null,21,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Xs(136,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","dependencyType"]],null,null,null,null,null)),(e()(),oi(-1,null,["Type of Dependency"])),(e()(),Xs(138,0,null,null,18,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Xs(139,0,null,null,17,"select",[["class","form-control"],["formControlName","dependencyType"],["id","dependencyType"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var r=!0;return"change"===t&&(r=!1!==Qr(e,140).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==Qr(e,140).onTouched()&&r),r},null,null)),cl(140,16384,null,0,Yf,[dn,sn],null,null),dl(1024,null,If,function(e){return[e]},[Yf]),cl(142,671744,null,0,Tp,[[3,Tf],[8,null],[8,null],[6,If],[2,Ip]],{name:[0,"name"]},null),dl(2048,null,Pf,null,[Tp]),cl(144,16384,null,0,Nf,[[4,Pf]],null,null),(e()(),Xs(145,0,null,null,3,"option",[["selected",""],["value","requiringDependencyTo"]],null,null,null,null,null)),cl(146,147456,null,0,ep,[sn,dn,[2,Yf]],{value:[0,"value"]},null),cl(147,147456,null,0,rp,[sn,dn,[8,null]],{value:[0,"value"]},null),(e()(),oi(-1,null,["A requires B "])),(e()(),Xs(149,0,null,null,3,"option",[["value","requiringDependencyFrom"]],null,null,null,null,null)),cl(150,147456,null,0,ep,[sn,dn,[2,Yf]],{value:[0,"value"]},null),cl(151,147456,null,0,rp,[sn,dn,[8,null]],{value:[0,"value"]},null),(e()(),oi(-1,null,["B requires A"])),(e()(),Xs(153,0,null,null,3,"option",[["value","excludingDependency"]],null,null,null,null,null)),cl(154,147456,null,0,ep,[sn,dn,[2,Yf]],{value:[0,"value"]},null),cl(155,147456,null,0,rp,[sn,dn,[8,null]],{value:[0,"value"]},null),(e()(),oi(-1,null,["A excludes B"])),(e()(),Xs(157,0,null,null,11,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Xs(158,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","fromFeatureId"]],null,null,null,null,null)),(e()(),oi(-1,null,["Feature A"])),(e()(),Xs(160,0,null,null,8,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Xs(161,0,null,null,7,"select",[["class","form-control"],["formControlName","fromFeatureId"],["id","fromFeatureId"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var r=!0;return"change"===t&&(r=!1!==Qr(e,162).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==Qr(e,162).onTouched()&&r),r},null,null)),cl(162,16384,null,0,Yf,[dn,sn],null,null),dl(1024,null,If,function(e){return[e]},[Yf]),cl(164,671744,null,0,Tp,[[3,Tf],[8,null],[8,null],[6,If],[2,Ip]],{name:[0,"name"]},null),dl(2048,null,Pf,null,[Tp]),cl(166,16384,null,0,Nf,[[4,Pf]],null,null),(e()(),zs(16777216,null,null,1,null,PC)),cl(168,278528,null,0,fu,[Pn,Tn,kn],{ngForOf:[0,"ngForOf"]},null),(e()(),Xs(169,0,null,null,11,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Xs(170,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","toFeatureId"]],null,null,null,null,null)),(e()(),oi(-1,null,["Feature B"])),(e()(),Xs(172,0,null,null,8,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Xs(173,0,null,null,7,"select",[["class","form-control"],["formControlName","toFeatureId"],["id","toFeatureId"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var r=!0;return"change"===t&&(r=!1!==Qr(e,174).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==Qr(e,174).onTouched()&&r),r},null,null)),cl(174,16384,null,0,Yf,[dn,sn],null,null),dl(1024,null,If,function(e){return[e]},[Yf]),cl(176,671744,null,0,Tp,[[3,Tf],[8,null],[8,null],[6,If],[2,Ip]],{name:[0,"name"]},null),dl(2048,null,Pf,null,[Tp]),cl(178,16384,null,0,Nf,[[4,Pf]],null,null),(e()(),zs(16777216,null,null,1,null,qC)),cl(180,278528,null,0,fu,[Pn,Tn,kn],{ngForOf:[0,"ngForOf"]},null),(e()(),Xs(181,0,null,null,3,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Xs(182,0,null,null,2,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),Xs(183,0,null,null,1,"button",[["class","btn btn-sm btn-dark btn-block"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),oi(-1,null,["Add Dependency"])),(e()(),Xs(185,0,null,null,32,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Xs(186,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),oi(-1,null,["Edit Feature Model"])),(e()(),Xs(188,0,null,null,29,"div",[["class","text-muted pt-3"]],null,null,null,null,null)),(e()(),Xs(189,0,null,null,28,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(e,t,n){var r=!0,l=e.component;return"submit"===t&&(r=!1!==Qr(e,191).onSubmit(n)&&r),"reset"===t&&(r=!1!==Qr(e,191).onReset()&&r),"ngSubmit"===t&&(r=!1!==l.updateFeatureModel()&&r),r},null,null)),cl(190,16384,null,0,xp,[],null,null),cl(191,540672,null,0,Mp,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),dl(2048,null,Tf,null,[Mp]),cl(193,16384,null,0,Rf,[[4,Tf]],null,null),(e()(),Xs(194,0,null,null,9,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Xs(195,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","name"]],null,null,null,null,null)),(e()(),oi(-1,null,["Model Name"])),(e()(),Xs(197,0,null,null,6,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Xs(198,0,null,null,5,"input",[["class","form-control"],["formControlName","name"],["id","name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var r=!0;return"input"===t&&(r=!1!==Qr(e,199)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Qr(e,199).onTouched()&&r),"compositionstart"===t&&(r=!1!==Qr(e,199)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Qr(e,199)._compositionEnd(n.target.value)&&r),r},null,null)),cl(199,16384,null,0,Of,[dn,sn,[2,Ef]],null,null),dl(1024,null,If,function(e){return[e]},[Of]),cl(201,671744,null,0,Tp,[[3,Tf],[8,null],[8,null],[6,If],[2,Ip]],{name:[0,"name"]},null),dl(2048,null,Pf,null,[Tp]),cl(203,16384,null,0,Nf,[[4,Pf]],null,null),(e()(),Xs(204,0,null,null,9,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Xs(205,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","description"]],null,null,null,null,null)),(e()(),oi(-1,null,["Model Description"])),(e()(),Xs(207,0,null,null,6,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Xs(208,0,null,null,5,"input",[["class","form-control"],["formControlName","description"],["id","description"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var r=!0;return"input"===t&&(r=!1!==Qr(e,209)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Qr(e,209).onTouched()&&r),"compositionstart"===t&&(r=!1!==Qr(e,209)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Qr(e,209)._compositionEnd(n.target.value)&&r),r},null,null)),cl(209,16384,null,0,Of,[dn,sn,[2,Ef]],null,null),dl(1024,null,If,function(e){return[e]},[Of]),cl(211,671744,null,0,Tp,[[3,Tf],[8,null],[8,null],[6,If],[2,Ip]],{name:[0,"name"]},null),dl(2048,null,Pf,null,[Tp]),cl(213,16384,null,0,Nf,[[4,Pf]],null,null),(e()(),Xs(214,0,null,null,3,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Xs(215,0,null,null,2,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),Xs(216,0,null,null,1,"button",[["class","btn btn-sm btn-dark btn-block"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),oi(-1,null,["Update Feature Model"]))],function(e,t){var n=t.component;e(t,7,0,n.featureModel&&n.featureModel.features),e(t,43,0,n.featureForm),e(t,53,0,"featureName"),e(t,63,0,"subfeatureOf"),e(t,67,0,n.featureList),e(t,75,0,"isMandatory"),e(t,79,0,"true"),e(t,80,0,"true"),e(t,83,0,"false"),e(t,84,0,"false"),e(t,93,0,"hasOrSubfeatures"),e(t,97,0,"true"),e(t,98,0,"true"),e(t,101,0,"false"),e(t,102,0,"false"),e(t,111,0,"hasXOrSubfeatures"),e(t,115,0,"true"),e(t,116,0,"true"),e(t,119,0,"false"),e(t,120,0,"false"),e(t,132,0,n.dependencyForm),e(t,142,0,"dependencyType"),e(t,146,0,"requiringDependencyTo"),e(t,147,0,"requiringDependencyTo"),e(t,150,0,"requiringDependencyFrom"),e(t,151,0,"requiringDependencyFrom"),e(t,154,0,"excludingDependency"),e(t,155,0,"excludingDependency"),e(t,164,0,"fromFeatureId"),e(t,168,0,n.featureList),e(t,176,0,"toFeatureId"),e(t,180,0,n.featureList),e(t,191,0,n.featureModelForm),e(t,201,0,"name"),e(t,211,0,"description")},function(e,t){var n=t.component;e(t,41,0,Qr(t,45).ngClassUntouched,Qr(t,45).ngClassTouched,Qr(t,45).ngClassPristine,Qr(t,45).ngClassDirty,Qr(t,45).ngClassValid,Qr(t,45).ngClassInvalid,Qr(t,45).ngClassPending),e(t,50,0,Qr(t,55).ngClassUntouched,Qr(t,55).ngClassTouched,Qr(t,55).ngClassPristine,Qr(t,55).ngClassDirty,Qr(t,55).ngClassValid,Qr(t,55).ngClassInvalid,Qr(t,55).ngClassPending),e(t,60,0,Qr(t,65).ngClassUntouched,Qr(t,65).ngClassTouched,Qr(t,65).ngClassPristine,Qr(t,65).ngClassDirty,Qr(t,65).ngClassValid,Qr(t,65).ngClassInvalid,Qr(t,65).ngClassPending),e(t,72,0,Qr(t,77).ngClassUntouched,Qr(t,77).ngClassTouched,Qr(t,77).ngClassPristine,Qr(t,77).ngClassDirty,Qr(t,77).ngClassValid,Qr(t,77).ngClassInvalid,Qr(t,77).ngClassPending),e(t,90,0,Qr(t,95).ngClassUntouched,Qr(t,95).ngClassTouched,Qr(t,95).ngClassPristine,Qr(t,95).ngClassDirty,Qr(t,95).ngClassValid,Qr(t,95).ngClassInvalid,Qr(t,95).ngClassPending),e(t,108,0,Qr(t,113).ngClassUntouched,Qr(t,113).ngClassTouched,Qr(t,113).ngClassPristine,Qr(t,113).ngClassDirty,Qr(t,113).ngClassValid,Qr(t,113).ngClassInvalid,Qr(t,113).ngClassPending),e(t,124,0,!n.featureForm.valid),e(t,130,0,Qr(t,134).ngClassUntouched,Qr(t,134).ngClassTouched,Qr(t,134).ngClassPristine,Qr(t,134).ngClassDirty,Qr(t,134).ngClassValid,Qr(t,134).ngClassInvalid,Qr(t,134).ngClassPending),e(t,139,0,Qr(t,144).ngClassUntouched,Qr(t,144).ngClassTouched,Qr(t,144).ngClassPristine,Qr(t,144).ngClassDirty,Qr(t,144).ngClassValid,Qr(t,144).ngClassInvalid,Qr(t,144).ngClassPending),e(t,161,0,Qr(t,166).ngClassUntouched,Qr(t,166).ngClassTouched,Qr(t,166).ngClassPristine,Qr(t,166).ngClassDirty,Qr(t,166).ngClassValid,Qr(t,166).ngClassInvalid,Qr(t,166).ngClassPending),e(t,173,0,Qr(t,178).ngClassUntouched,Qr(t,178).ngClassTouched,Qr(t,178).ngClassPristine,Qr(t,178).ngClassDirty,Qr(t,178).ngClassValid,Qr(t,178).ngClassInvalid,Qr(t,178).ngClassPending),e(t,183,0,!n.dependencyForm.valid),e(t,189,0,Qr(t,193).ngClassUntouched,Qr(t,193).ngClassTouched,Qr(t,193).ngClassPristine,Qr(t,193).ngClassDirty,Qr(t,193).ngClassValid,Qr(t,193).ngClassInvalid,Qr(t,193).ngClassPending),e(t,198,0,Qr(t,203).ngClassUntouched,Qr(t,203).ngClassTouched,Qr(t,203).ngClassPristine,Qr(t,203).ngClassDirty,Qr(t,203).ngClassValid,Qr(t,203).ngClassInvalid,Qr(t,203).ngClassPending),e(t,208,0,Qr(t,213).ngClassUntouched,Qr(t,213).ngClassTouched,Qr(t,213).ngClassPristine,Qr(t,213).ngClassDirty,Qr(t,213).ngClassValid,Qr(t,213).ngClassInvalid,Qr(t,213).ngClassPending),e(t,216,0,!n.featureModelForm.valid)})}function RC(e){return ci(0,[Qs(402653184,1,{dependencyModal:0}),Qs(402653184,2,{updateModal:0}),Qs(402653184,3,{deleteModal:0}),(e()(),zs(0,[[3,2],["deleteModal",2]],null,0,null,yC)),(e()(),zs(0,[[1,2],["dependencyModal",2]],null,0,null,xC)),(e()(),zs(0,[[2,2],["updateModal",2]],null,0,null,EC)),(e()(),Xs(6,0,null,null,5,"div",[["class","nav-scroller bg-white shadow-sm"]],null,null,null,null,null)),(e()(),Xs(7,0,null,null,4,"nav",[["class","nav nav-underline"]],null,null,null,null,null)),(e()(),zs(16777216,null,null,1,null,OC)),cl(9,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(e()(),zs(16777216,null,null,1,null,FC)),cl(11,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(e()(),zs(16777216,null,null,1,null,NC)),cl(13,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,9,0,n.featureModel),e(t,11,0,n.featureModel),e(t,13,0,n.featureModel)},null)}function jC(e){return ci(0,[(e()(),Xs(0,0,null,null,1,"app-feature-model-detail",[],null,null,null,RC,vC)),cl(1,114688,null,0,dy,[Pp,Nd,Co,mC,im],null,null)],function(e,t){e(t,1,0)},null)}var $C=Vr("app-feature-model-detail",dy,jC,{},{},[]);class VC{}var LC=Jn({encapsulation:0,styles:[[""]],data:{}});function BC(e){return ci(0,[(e()(),Xs(0,0,null,null,0,"i",[["class","fa fa-circle"]],null,null,null,null,null))],null,null)}function UC(e){return ci(0,[(e()(),Xs(0,0,null,null,0,"i",[["class","fa fa-circle-o"]],null,null,null,null,null))],null,null)}function HC(e){return ci(0,[(e()(),Xs(0,0,null,null,7,"a",[["class","list-group-item list-group-item-action"],["style","padding:7px;"]],null,null,null,null,null)),dl(512,null,uu,au,[kn,xn,sn,dn]),cl(2,278528,null,0,du,[uu],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),zs(16777216,null,null,1,null,BC)),cl(4,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(e()(),zs(16777216,null,null,1,null,UC)),cl(6,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(e()(),oi(7,null,[" "," "]))],function(e,t){e(t,2,0,"list-group-item list-group-item-action",t.component.doubleBlock?"w-50":"w-100"),e(t,4,0,t.context.$implicit.isMandatory),e(t,6,0,!t.context.$implicit.isMandatory)},function(e,t){e(t,7,0,t.context.$implicit.name)})}function zC(e){return ci(0,[(e()(),Xs(0,0,null,null,6,"ul",[["class","list-group inner no-list"],["style","margin:5px;"]],null,null,null,null,null)),(e()(),Xs(1,0,null,null,5,"li",[],null,null,null,null,null)),(e()(),Xs(2,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),oi(3,null,["",""])),(e()(),Xs(4,0,null,null,2,"div",[["class","list-group d-flex flex-row flex-wrap"]],null,null,null,null,null)),(e()(),zs(16777216,null,null,1,null,HC)),cl(6,278528,null,0,fu,[Pn,Tn,kn],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,6,0,t.component.features)},function(e,t){e(t,3,0,t.component.buildingBlockName)})}class XC{constructor(e,t,n,r){this.route=e,this.pouchDBServer=t,this.router=n,this.fb=r,this.businessModelForm=this.fb.group({name:["",Vf.required]})}ngOnInit(){this.featureModelId=this.route.snapshot.paramMap.get("id"),this.businessModelList=[],this.loadFeatureModel(this.featureModelId)}addBusinessModel(){this.pouchDBServer.addBusinessModel(this.featureModelId,this.businessModelForm.value.name).then(e=>{this.businessModelForm.reset(),this.loadFeatureModel(this.featureModelId)},e=>{console.log("AddBusinessModel: "+e)})}viewBusinessModel(e){this.router.navigate(["/businessmodelview",this.featureModelId,e])}deleteBusinessModel(e){this.pouchDBServer.deleteBusinessModel(this.featureModelId,parseInt(e)).then(e=>{this.loadFeatureModel(this.featureModelId)},e=>{console.log("DeleteBusinessModel: "+e)})}loadFeatureModel(e){this.pouchDBServer.getFeatureModel(this.featureModelId).then(e=>{for(var t in this.featureModel=e,this.businessModelList=[],this.featureModel.businessModelMap)this.businessModelList.push({id:t,name:this.featureModel.businessModelMap[t]})},e=>{console.log("LoadFeatureModel: "+e)})}}var WC=Jn({encapsulation:0,styles:[[""]],data:{}});function GC(e){return ci(0,[(e()(),Xs(0,0,null,null,1,"a",[["class","nav-link active"],["href","#"]],null,null,null,null,null)),(e()(),oi(1,null,["",""]))],null,function(e,t){e(t,1,0,t.component.featureModel.name)})}function KC(e){return ci(0,[(e()(),Xs(0,0,null,null,3,"a",[["class","nav-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Qr(e,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),cl(1,671744,null,0,Kh,[Wh,Nd,Do],{routerLink:[0,"routerLink"]},null),li(2,3),(e()(),oi(3,null,["",""]))],function(e,t){var n=e(t,2,0,"/businessmodelview",t.component.featureModel._id,t.context.$implicit.id);e(t,1,0,n)},function(e,t){e(t,0,0,Qr(t,1).target,Qr(t,1).href),e(t,3,0,t.context.$implicit.name)})}function ZC(e){return ci(0,[(e()(),Xs(0,0,null,null,33,"div",[["class","container businesscanvas"]],null,null,null,null,null)),(e()(),Xs(1,0,null,null,25,"div",[["class","row"]],null,null,null,null,null)),(e()(),Xs(2,0,null,null,2,"div",[["class","col-2 buildingblock brectangle"]],null,null,null,null,null)),(e()(),Xs(3,0,null,null,1,"app-feature-building-block",[],null,null,null,zC,LC)),cl(4,49152,null,0,VC,[],{buildingBlockName:[0,"buildingBlockName"],features:[1,"features"],doubleBlock:[2,"doubleBlock"]},null),(e()(),Xs(5,0,null,null,7,"div",[["class","col-3"]],null,null,null,null,null)),(e()(),Xs(6,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(e()(),Xs(7,0,null,null,2,"div",[["class","col-md-12 buildingblock bsquare"]],null,null,null,null,null)),(e()(),Xs(8,0,null,null,1,"app-feature-building-block",[],null,null,null,zC,LC)),cl(9,49152,null,0,VC,[],{buildingBlockName:[0,"buildingBlockName"],features:[1,"features"],doubleBlock:[2,"doubleBlock"]},null),(e()(),Xs(10,0,null,null,2,"div",[["class","col-md-12 buildingblock bsquare"]],null,null,null,null,null)),(e()(),Xs(11,0,null,null,1,"app-feature-building-block",[],null,null,null,zC,LC)),cl(12,49152,null,0,VC,[],{buildingBlockName:[0,"buildingBlockName"],features:[1,"features"],doubleBlock:[2,"doubleBlock"]},null),(e()(),Xs(13,0,null,null,2,"div",[["class","col-2 buildingblock"]],null,null,null,null,null)),(e()(),Xs(14,0,null,null,1,"app-feature-building-block",[],null,null,null,zC,LC)),cl(15,49152,null,0,VC,[],{buildingBlockName:[0,"buildingBlockName"],features:[1,"features"],doubleBlock:[2,"doubleBlock"]},null),(e()(),Xs(16,0,null,null,7,"div",[["class","col-3"]],null,null,null,null,null)),(e()(),Xs(17,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(e()(),Xs(18,0,null,null,2,"div",[["class","col-md-12 buildingblock bsquare"]],null,null,null,null,null)),(e()(),Xs(19,0,null,null,1,"app-feature-building-block",[],null,null,null,zC,LC)),cl(20,49152,null,0,VC,[],{buildingBlockName:[0,"buildingBlockName"],features:[1,"features"],doubleBlock:[2,"doubleBlock"]},null),(e()(),Xs(21,0,null,null,2,"div",[["class","col-md-12 buildingblock bsquare"]],null,null,null,null,null)),(e()(),Xs(22,0,null,null,1,"app-feature-building-block",[],null,null,null,zC,LC)),cl(23,49152,null,0,VC,[],{buildingBlockName:[0,"buildingBlockName"],features:[1,"features"],doubleBlock:[2,"doubleBlock"]},null),(e()(),Xs(24,0,null,null,2,"div",[["class","col-2 buildingblock brectangle"]],null,null,null,null,null)),(e()(),Xs(25,0,null,null,1,"app-feature-building-block",[],null,null,null,zC,LC)),cl(26,49152,null,0,VC,[],{buildingBlockName:[0,"buildingBlockName"],features:[1,"features"],doubleBlock:[2,"doubleBlock"]},null),(e()(),Xs(27,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(e()(),Xs(28,0,null,null,2,"div",[["class","col-6 buildingblock blongtangle"]],null,null,null,null,null)),(e()(),Xs(29,0,null,null,1,"app-feature-building-block",[],null,null,null,zC,LC)),cl(30,49152,null,0,VC,[],{buildingBlockName:[0,"buildingBlockName"],features:[1,"features"],doubleBlock:[2,"doubleBlock"]},null),(e()(),Xs(31,0,null,null,2,"div",[["class","col-6 buildingblock blongtangle"]],null,null,null,null,null)),(e()(),Xs(32,0,null,null,1,"app-feature-building-block",[],null,null,null,zC,LC)),cl(33,49152,null,0,VC,[],{buildingBlockName:[0,"buildingBlockName"],features:[1,"features"],doubleBlock:[2,"doubleBlock"]},null)],function(e,t){var n=t.component;e(t,4,0,"Key Partners",n.featureModel.features[4].features,!1),e(t,9,0,"Key Activities",n.featureModel.features[5].features,!1),e(t,12,0,"Key Resources",n.featureModel.features[6].features,!1),e(t,15,0,"Value Propositions",n.featureModel.features[0].features,!1),e(t,20,0,"Customer Relationships",n.featureModel.features[2].features,!1),e(t,23,0,"Customer Channels",n.featureModel.features[3].features,!1),e(t,26,0,"Customer Segments",n.featureModel.features[1].features,!1),e(t,30,0,"Cost Structure",n.featureModel.features[8].features,!0),e(t,33,0,"Revenue Streams",n.featureModel.features[7].features,!0)},null)}function QC(e){return ci(0,[(e()(),Xs(0,0,null,null,5,"li",[["class","list-group-item justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),oi(1,null,[" "," "])),(e()(),Xs(2,0,null,null,1,"button",[["class","btn btn-dark btn-xs bottom-right-two"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.viewBusinessModel(e.context.$implicit.id)&&r),r},null,null)),(e()(),oi(-1,null,["View"])),(e()(),Xs(4,0,null,null,1,"button",[["class","btn btn-danger btn-xs bottom-right"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.deleteBusinessModel(e.context.$implicit.id)&&r),r},null,null)),(e()(),oi(-1,null,["Delete"]))],null,function(e,t){e(t,1,0,t.context.$implicit.name)})}function JC(e){return ci(0,[(e()(),Xs(0,0,null,null,2,"ul",[["class","list-group inner"],["style","margin:5px;"]],null,null,null,null,null)),(e()(),zs(16777216,null,null,1,null,QC)),cl(2,278528,null,0,fu,[Pn,Tn,kn],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.component.businessModelList)},null)}function YC(e){return ci(0,[(e()(),Xs(0,0,null,null,49,"main",[["class","container"],["role","main"]],null,null,null,null,null)),(e()(),Xs(1,0,null,null,20,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Xs(2,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),oi(3,null,["Feature Model of ",""])),(e()(),zs(16777216,null,null,1,null,ZC)),cl(5,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(e()(),Xs(6,0,null,null,15,"div",[["class","container"]],null,null,null,null,null)),(e()(),Xs(7,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(e()(),Xs(8,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Xs(9,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),oi(-1,null,["Legend:"])),(e()(),Xs(11,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Xs(12,0,null,null,0,"i",[["class","fa fa-circle"]],null,null,null,null,null)),(e()(),oi(-1,null,[" Mandatory Feature"])),(e()(),Xs(14,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Xs(15,0,null,null,0,"i",[["class","fa fa-circle-o"]],null,null,null,null,null)),(e()(),oi(-1,null,[" Optional Feature"])),(e()(),Xs(17,0,null,null,4,"div",[["class","row"],["style","margin-top:20px;"]],null,null,null,null,null)),(e()(),Xs(18,0,null,null,3,"button",[["class","btn btn-sm btn-dark btn-lg btn-block"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Qr(e,19).onClick()&&r),r},null,null)),cl(19,16384,null,0,Gh,[Wh,Nd,[8,null],dn,sn],{routerLink:[0,"routerLink"]},null),li(20,2),(e()(),oi(-1,null,["View Complete Feature Model"])),(e()(),Xs(22,0,null,null,4,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Xs(23,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),oi(-1,null,["Derived Business Models"])),(e()(),zs(16777216,null,null,1,null,JC)),cl(26,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(e()(),Xs(27,0,null,null,22,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Xs(28,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),oi(-1,null,["Add Business Model"])),(e()(),Xs(30,0,null,null,19,"div",[["class","text-muted pt-3"]],null,null,null,null,null)),(e()(),Xs(31,0,null,null,18,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(e,t,n){var r=!0,l=e.component;return"submit"===t&&(r=!1!==Qr(e,33).onSubmit(n)&&r),"reset"===t&&(r=!1!==Qr(e,33).onReset()&&r),"ngSubmit"===t&&(r=!1!==l.addBusinessModel()&&r),r},null,null)),cl(32,16384,null,0,xp,[],null,null),cl(33,540672,null,0,Mp,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),dl(2048,null,Tf,null,[Mp]),cl(35,16384,null,0,Rf,[[4,Tf]],null,null),(e()(),Xs(36,0,null,null,9,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Xs(37,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","name"]],null,null,null,null,null)),(e()(),oi(-1,null,["Model Name"])),(e()(),Xs(39,0,null,null,6,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Xs(40,0,null,null,5,"input",[["class","form-control"],["formControlName","name"],["id","name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var r=!0;return"input"===t&&(r=!1!==Qr(e,41)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Qr(e,41).onTouched()&&r),"compositionstart"===t&&(r=!1!==Qr(e,41)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Qr(e,41)._compositionEnd(n.target.value)&&r),r},null,null)),cl(41,16384,null,0,Of,[dn,sn,[2,Ef]],null,null),dl(1024,null,If,function(e){return[e]},[Of]),cl(43,671744,null,0,Tp,[[3,Tf],[8,null],[8,null],[6,If],[2,Ip]],{name:[0,"name"]},null),dl(2048,null,Pf,null,[Tp]),cl(45,16384,null,0,Nf,[[4,Pf]],null,null),(e()(),Xs(46,0,null,null,3,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Xs(47,0,null,null,2,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),Xs(48,0,null,null,1,"button",[["class","btn btn-sm btn-dark btn-block"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),oi(-1,null,["Add Business Model"]))],function(e,t){var n=t.component;e(t,5,0,n.featureModel);var r=e(t,20,0,"/featuremodel",n.featureModelId);e(t,19,0,r),e(t,26,0,n.businessModelList),e(t,33,0,n.businessModelForm),e(t,43,0,"name")},function(e,t){var n=t.component;e(t,3,0,n.featureModel.name),e(t,31,0,Qr(t,35).ngClassUntouched,Qr(t,35).ngClassTouched,Qr(t,35).ngClassPristine,Qr(t,35).ngClassDirty,Qr(t,35).ngClassValid,Qr(t,35).ngClassInvalid,Qr(t,35).ngClassPending),e(t,40,0,Qr(t,45).ngClassUntouched,Qr(t,45).ngClassTouched,Qr(t,45).ngClassPristine,Qr(t,45).ngClassDirty,Qr(t,45).ngClassValid,Qr(t,45).ngClassInvalid,Qr(t,45).ngClassPending),e(t,48,0,!n.businessModelForm.valid)})}function ek(e){return ci(0,[(e()(),Xs(0,0,null,null,5,"div",[["class","nav-scroller bg-white shadow-sm"]],null,null,null,null,null)),(e()(),Xs(1,0,null,null,4,"nav",[["class","nav nav-underline"]],null,null,null,null,null)),(e()(),zs(16777216,null,null,1,null,GC)),cl(3,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(e()(),zs(16777216,null,null,1,null,KC)),cl(5,278528,null,0,fu,[Pn,Tn,kn],{ngForOf:[0,"ngForOf"]},null),(e()(),zs(16777216,null,null,1,null,YC)),cl(7,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,3,0,n.featureModel),e(t,5,0,n.businessModelList),e(t,7,0,n.featureModel)},null)}function tk(e){return ci(0,[(e()(),Xs(0,0,null,null,1,"app-feature-model-view",[],null,null,null,ek,WC)),cl(1,114688,null,0,XC,[Nd,mC,Wh,Pp],null,null)],function(e,t){e(t,1,0)},null)}var nk=Vr("app-feature-model-view",XC,tk,{},{},[]);class rk{constructor(){this.addFeatureEmitter=new Al,this.deleteFeatureEmitter=new Al,this.conformanceProblemFeatureIdList=[]}addFeature(e){this.addFeatureEmitter.emit(e)}deleteFeature(e){this.deleteFeatureEmitter.emit(e)}addFeatureForwardEmitter(e){this.addFeature(e)}deleteFeatureForwardEmitter(e){this.deleteFeature(e)}includes(e,t){return!(!e||!e.includes(parseInt(t)))}}var lk=Jn({encapsulation:0,styles:[[""]],data:{}});function sk(e){return ci(0,[(e()(),Xs(0,0,null,null,3,"strong",[],null,null,null,null,null)),dl(512,null,uu,au,[kn,xn,sn,dn]),cl(2,278528,null,0,du,[uu],{ngClass:[0,"ngClass"]},null),(e()(),oi(3,null,["",""]))],function(e,t){var n=t.component;e(t,2,0,n.includes(n.conformanceProblemFeatureIdList,n.feature.id)?"text-danger":"")},function(e,t){e(t,3,0,t.component.feature.name)})}function ik(e){return ci(0,[(e()(),Xs(0,0,null,null,3,"span",[],null,null,null,null,null)),dl(512,null,uu,au,[kn,xn,sn,dn]),cl(2,278528,null,0,du,[uu],{ngClass:[0,"ngClass"]},null),(e()(),oi(3,null,["",""]))],function(e,t){var n=t.component;e(t,2,0,n.includes(n.conformanceProblemFeatureIdList,n.feature.id)?"text-danger":"")},function(e,t){e(t,3,0,t.component.feature.name)})}function ok(e){return ci(0,[(e()(),Xs(0,0,null,null,0,"i",[["class","fas fa-minus-square"]],null,[[null,"click"]],function(e,t,n){var r=!0,l=e.component;return"click"===t&&(r=!1!==l.deleteFeature(l.feature.id)&&r),r},null,null))],null,null)}function uk(e){return ci(0,[(e()(),Xs(0,0,null,null,1,"app-canvas-building-block",[],null,[[null,"addFeatureEmitter"],[null,"deleteFeatureEmitter"]],function(e,t,n){var r=!0,l=e.component;return"addFeatureEmitter"===t&&(r=!1!==l.addFeatureForwardEmitter(n)&&r),"deleteFeatureEmitter"===t&&(r=!1!==l.deleteFeatureForwardEmitter(n)&&r),r},hk,lk)),cl(1,49152,null,0,rk,[],{feature:[0,"feature"],levelDepth:[1,"levelDepth"],businessModelId:[2,"businessModelId"],doubleBlock:[3,"doubleBlock"],conformanceProblemFeatureIdList:[4,"conformanceProblemFeatureIdList"]},{addFeatureEmitter:"addFeatureEmitter",deleteFeatureEmitter:"deleteFeatureEmitter"})],function(e,t){var n=t.component;e(t,1,0,t.parent.context.$implicit,n.levelDepth+1,n.businessModelId,n.doubleBlock,n.conformanceProblemFeatureIdList)},null)}function ak(e){return ci(0,[(e()(),Xs(0,0,null,null,2,"span",[],null,null,null,null,null)),(e()(),zs(16777216,null,null,1,null,uk)),cl(2,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,n.includes(t.context.$implicit.businessModelIds,n.businessModelId)||n.includes(n.conformanceProblemFeatureIdList,t.context.$implicit.id))},null)}function ck(e){return ci(0,[(e()(),Xs(0,0,null,null,11,"li",[],null,null,null,null,null)),(e()(),zs(16777216,null,null,1,null,sk)),cl(2,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(e()(),zs(16777216,null,null,1,null,ik)),cl(4,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(e()(),oi(-1,null,["\xa0 "])),(e()(),Xs(6,0,null,null,0,"i",[["class","fas fa-plus-square"]],null,[[null,"click"]],function(e,t,n){var r=!0,l=e.component;return"click"===t&&(r=!1!==l.addFeature(l.feature.id)&&r),r},null,null)),(e()(),oi(-1,null,["\xa0"])),(e()(),zs(16777216,null,null,1,null,ok)),cl(9,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(e()(),zs(16777216,null,null,1,null,ak)),cl(11,278528,null,0,fu,[Pn,Tn,kn],{ngForOf:[0,"ngForOf"]},null)],function(e,t){var n=t.component;e(t,2,0,1==n.levelDepth),e(t,4,0,1!=n.levelDepth),e(t,9,0,n.feature.isDeletable),e(t,11,0,n.feature.features)},null)}function dk(e){return ci(0,[(e()(),Xs(0,0,null,null,2,"li",[],null,null,null,null,null)),(e()(),Xs(1,0,null,null,1,"em",[["class","text-danger"]],null,null,null,null,null)),(e()(),oi(2,null,["",""]))],null,function(e,t){e(t,2,0,t.component.feature.name)})}function hk(e){return ci(0,[(e()(),Xs(0,0,null,null,6,"ul",[["class","list-group"],["style","margin-top: 5px; margin-left:5px;"]],null,null,null,null,null)),dl(512,null,uu,au,[kn,xn,sn,dn]),cl(2,278528,null,0,du,[uu],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),zs(16777216,null,null,1,null,ck)),cl(4,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(e()(),zs(16777216,null,null,1,null,dk)),cl(6,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,"list-group",1==n.levelDepth?"no-list":""),e(t,4,0,n.includes(n.feature.businessModelIds,n.businessModelId)),e(t,6,0,!n.includes(n.feature.businessModelIds,n.businessModelId))},null)}class fk{constructor(e,t,n,r,l){this.route=e,this.router=t,this.pouchDBServer=n,this.modalService=r,this.fb=l,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1}}ngOnInit(){this.addFeatureForm=this.fb.group({featurename:["",Vf.required]}),this.updateBusinessModelForm=this.fb.group({name:["",Vf.required]}),this.featureModelId=this.route.snapshot.paramMap.get("id"),this.businessModelId=this.route.snapshot.paramMap.get("bmid"),this.conformanceIsChecked=!1,this.conformanceProblemErrors=[],this.loadFeatureModel()}loadFeatureModel(){this.pouchDBServer.getFeatureModel(this.featureModelId).then(e=>{this.featureModel=e,this.businessModelName=this.featureModel.businessModelMap[this.businessModelId],this.updateBusinessModelForm.setValue({name:this.businessModelName}),this.conformanceProblemErrors=[],this.conformanceProblemFeatureIds=[],this.conformanceIsChecked&&this.checkConformance()},e=>{console.log("LoadFeatureModel: "+e)})}deleteFeatureModal(e){this.pouchDBServer.getFeatureWithParent(this.featureModelId,e).then(e=>{this.modalFeature=e,this.modalReference=this.modalService.open(this.deleteModal,{size:"lg"})},e=>{console.log("DeleteFeatureModal: "+e)})}addFeatureModal(e){console.log("Feature: "+e),this.pouchDBServer.getFeatureWithParent(this.featureModelId,e).then(e=>{this.modalFeature=e,this.modalUnselectedFeatures=this.getUnselectedFeatures(this.modalFeature),this.modalReference=this.modalService.open(this.addModal,{size:"lg"})},e=>{console.log("DeleteFeatureModal: "+e)})}addFeature(){this.pouchDBServer.addFeature(this.featureModelId,this.addFeatureForm.value.featurename,!1,!1,!1,this.modalFeature.id).then(e=>{this.addBusinessModelDecision(this.featureModel.featureIdCounter)},e=>{console.log("AddFeature: "+e)}),this.addFeatureForm.reset()}deleteBusinessModelDecision(e){this.pouchDBServer.removeBusinessDecision(this.featureModelId,e,this.businessModelId).then(e=>{this.pouchDBServer.getFeatureWithParent(this.featureModelId,this.modalFeature.id).then(e=>{this.conformanceProblemErrors=[],this.conformanceProblemFeatureIds=[],this.checkConformance(),this.closeModal()},e=>{console.log("DeleteBusinessModelDecision (new load): "+e)})},e=>{console.log("DeleteBusinessModelDecision: "+e)})}addBusinessModelDecision(e){this.pouchDBServer.addBusinessDecision(this.featureModelId,e,this.businessModelId).then(e=>{this.pouchDBServer.getFeatureWithParent(this.featureModelId,this.modalFeature.id).then(e=>{this.modalFeature=e,this.modalUnselectedFeatures=this.getUnselectedFeatures(this.modalFeature),this.loadFeatureModel()},e=>{console.log("AddBusinessModelDecision (new load): "+e)})},e=>{console.log("AddBusinessModelDecision: "+e)})}updateBusinessModel(){this.pouchDBServer.updateBusinessModel(this.featureModelId,this.businessModelId,this.updateBusinessModelForm.value.name).then(e=>{this.loadFeatureModel()},e=>{console.log("UpdateBusinessModel: "+e)})}createAdaptation(){var e,t=this.businessModelName.split(" - Adaptation#");console.log(t.length),e=t.length>1&&NaN!=parseInt(t[t.length-1])?t[0]+" - Adaptation#"+(parseInt(t[t.length-1])+1):t[0]+" - Adaptation#1",this.pouchDBServer.adaptBusinessModel(this.featureModelId,this.businessModelId,e).then(e=>{this.pouchDBServer.getFeatureModel(this.featureModelId).then(e=>{var t=Object.keys(e.businessModelMap);this.router.navigateByUrl("/businessmodelview/"+this.featureModelId+"/"+t[t.length-1])},e=>{console.log("CreateAdaptation (inner): ")})},e=>{console.log("CreateAdaptation: ")})}uncheckConformance(){this.conformanceIsChecked=!1,this.conformanceProblemErrors=[],this.conformanceProblemFeatureIds=[]}checkConformance(){this.conformanceIsChecked=!0,this.conformanceProblemFeatureIds=[],this.conformanceProblemErrors=[];let e=new Set;for(var t=[],n=this.featureModel.features,r=this.selectedFeatureList(n),l=0;l<n.length;l++)t.push(i=n[n.length-1-l]);for(;t.length>0;){var s=t.pop();if(s.isMandatory&&-1==s.businessModelIds.indexOf(parseInt(this.businessModelId))&&(e.add(s.id),this.conformanceProblemErrors.push(s.name+" is mandatory")),s.hasOrSubfeatures&&0==this.numberOfSelectedSubfeaturesHelper(s.features)&&(e.add(s.id),this.conformanceProblemErrors.push(s.name+" needs at least one subfeature")),s.hasXOrSubfeatures&&1!=this.numberOfSelectedSubfeaturesHelper(s.features)&&(e.add(s.id),this.conformanceProblemErrors.push(s.name+" needs exactly one subfeature")),0!=s.requiringDependencyTo.length)for(l=0;l<s.requiringDependencyTo.length;l++)-1==r.indexOf(s.requiringDependencyTo[l])&&(e.add(s.id),this.conformanceProblemErrors.push(s.name+" requires the feature "+this.featureModel.featureMap[s.requiringDependencyTo[l]]));if(0!=s.excludingDependency.length)for(l=0;l<s.excludingDependency.length;l++)-1!=r.indexOf(s.excludingDependency[l])&&(e.add(s.id),this.conformanceProblemErrors.push(s.name+" excludes the feature "+this.featureModel.featureMap[s.excludingDependency[l]]));if(s.features)for(l=0;l<s.features.length;l++){var i;((i=s.features[s.features.length-1-l]).isMandatory||-1!=i.businessModelIds.indexOf(parseInt(this.businessModelId)))&&t.push(i)}}for(let o of e)this.conformanceProblemFeatureIds.push(parseInt(o.toString()))}numberOfSelectedSubfeaturesHelper(e){for(var t=0,n=0;n<e.length;n++)-1!=e[n].businessModelIds.indexOf(parseInt(this.businessModelId))&&(t+=1);return t}selectedFeatureList(e){for(var t=[],n=[],r=0;r<e.length;r++)n.push(s=e[e.length-1-r]),t.push(s.id);for(;n.length>0;){var l=n.pop();if(-1!=l.businessModelIds.indexOf(parseInt(this.businessModelId))&&t.push(l.id),l.features)for(r=0;r<l.features.length;r++){var s;n.push(s=l.features[l.features.length-1-r])}}return t}getUnselectedFeatures(e){var t=[];console.log(JSON.stringify(e));for(var n=0;n<e.features.length;n++)e.features[n].businessModelIds.includes(parseInt(this.businessModelId))||t.push(e.features[n]);return t}closeModal(){this.modalReference.close(),this.modalFeature=null,this.loadFeatureModel()}}var pk=Jn({encapsulation:0,styles:[[""]],data:{}});function gk(e){return ci(0,[(e()(),Xs(0,0,null,null,3,"a",[["class","nav-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Qr(e,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),cl(1,671744,null,0,Kh,[Wh,Nd,Do],{routerLink:[0,"routerLink"]},null),li(2,2),(e()(),oi(3,null,["",""]))],function(e,t){var n=e(t,2,0,"/featuremodelview",t.component.featureModel._id);e(t,1,0,n)},function(e,t){var n=t.component;e(t,0,0,Qr(t,1).target,Qr(t,1).href),e(t,3,0,n.featureModel.name)})}function mk(e){return ci(0,[(e()(),Xs(0,0,null,null,3,"a",[["class","nav-link active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Qr(e,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),cl(1,671744,null,0,Kh,[Wh,Nd,Do],{routerLink:[0,"routerLink"]},null),li(2,3),(e()(),oi(3,null,["",""]))],function(e,t){var n=t.component,r=e(t,2,0,"/businessmodelview",n.featureModel._id,n.businessModelId);e(t,1,0,r)},function(e,t){var n=t.component;e(t,0,0,Qr(t,1).target,Qr(t,1).href),e(t,3,0,n.businessModelName)})}function vk(e){return ci(0,[(e()(),Xs(0,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),Xs(1,0,null,null,1,"h4",[["class","modal-title"],["id","modal-basic-title"]],null,null,null,null,null)),(e()(),oi(2,null,["",""])),(e()(),Xs(3,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.closeModal()&&r),r},null,null)),(e()(),Xs(4,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),oi(-1,null,["\xd7"])),(e()(),Xs(6,0,null,null,3,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),Xs(7,0,null,null,2,"div",[["class","alert alert-warning"],["role","alert"]],null,null,null,null,null)),(e()(),Xs(8,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),oi(9,null,['You are trying to remove the decision "','". Please keep in mind that you are removing also all subdecisions.'])),(e()(),Xs(10,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(e()(),Xs(11,0,null,null,1,"button",[["class","btn btn-block btn-warning"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0,l=e.component;return"click"===t&&(r=!1!==l.deleteBusinessModelDecision(l.modalFeature.id)&&r),r},null,null)),(e()(),oi(-1,null,["Delete Decision"]))],null,function(e,t){var n=t.component;e(t,2,0,n.modalFeature.name),e(t,9,0,n.modalFeature.name)})}function yk(e){return ci(0,[(e()(),Xs(0,0,null,null,3,"li",[["class","list-group-item justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),oi(1,null,[""," "])),(e()(),Xs(2,0,null,null,1,"button",[["class","btn btn-warning btn-xs bottom-right"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.addBusinessModelDecision(e.context.$implicit.id)&&r),r},null,null)),(e()(),oi(-1,null,["Add"]))],null,function(e,t){e(t,1,0,t.context.$implicit.name)})}function bk(e){return ci(0,[(e()(),Xs(0,0,null,null,1,"li",[["class","list-group-item justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),oi(-1,null,["There are no existing business model decisions left to add. "]))],null,null)}function _k(e){return ci(0,[(e()(),Xs(0,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),Xs(1,0,null,null,1,"h4",[["class","modal-title"],["id","modal-basic-title"]],null,null,null,null,null)),(e()(),oi(2,null,["",""])),(e()(),Xs(3,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.closeModal()&&r),r},null,null)),(e()(),Xs(4,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),oi(-1,null,["\xd7"])),(e()(),Xs(6,0,null,null,29,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),Xs(7,0,null,null,28,"ul",[["class","list-group inner"],["style","margin:5px;"]],null,null,null,null,null)),(e()(),Xs(8,0,null,null,7,"li",[["class","list-group-item justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),Xs(9,0,null,null,0,"i",[["class","fas fa-plus-square"]],null,null,null,null,null)),(e()(),oi(-1,null,[" Add existing business model decisions: "])),(e()(),Xs(11,0,null,null,4,"ul",[["class","list-group inner"],["style","margin:5px;"]],null,null,null,null,null)),(e()(),zs(16777216,null,null,1,null,yk)),cl(13,278528,null,0,fu,[Pn,Tn,kn],{ngForOf:[0,"ngForOf"]},null),(e()(),zs(16777216,null,null,1,null,bk)),cl(15,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(e()(),Xs(16,0,null,null,19,"li",[["class","list-group-item justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),Xs(17,0,null,null,0,"i",[["class","fas fa-plus-square"]],null,null,null,null,null)),(e()(),oi(-1,null,[" Add new business model decision: "])),(e()(),Xs(19,0,null,null,16,"ul",[["class","list-group inner"],["style","margin:5px;"]],null,null,null,null,null)),(e()(),Xs(20,0,null,null,15,"li",[["class","list-group-item justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),Xs(21,0,null,null,14,"form",[["class","form-inline"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(e,t,n){var r=!0,l=e.component;return"submit"===t&&(r=!1!==Qr(e,23).onSubmit(n)&&r),"reset"===t&&(r=!1!==Qr(e,23).onReset()&&r),"ngSubmit"===t&&(r=!1!==l.addFeature()&&r),r},null,null)),cl(22,16384,null,0,xp,[],null,null),cl(23,540672,null,0,Mp,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),dl(2048,null,Tf,null,[Mp]),cl(25,16384,null,0,Rf,[[4,Tf]],null,null),(e()(),Xs(26,0,null,null,1,"label",[["class","sr-only"],["for","featurename"]],null,null,null,null,null)),(e()(),oi(-1,null,["Decision Name"])),(e()(),Xs(28,0,null,null,5,"input",[["class","form-control mb-2 mr-sm-2"],["formControlName","featurename"],["id","featurename"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var r=!0;return"input"===t&&(r=!1!==Qr(e,29)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Qr(e,29).onTouched()&&r),"compositionstart"===t&&(r=!1!==Qr(e,29)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Qr(e,29)._compositionEnd(n.target.value)&&r),r},null,null)),cl(29,16384,null,0,Of,[dn,sn,[2,Ef]],null,null),dl(1024,null,If,function(e){return[e]},[Of]),cl(31,671744,null,0,Tp,[[3,Tf],[8,null],[8,null],[6,If],[2,Ip]],{name:[0,"name"]},null),dl(2048,null,Pf,null,[Tp]),cl(33,16384,null,0,Nf,[[4,Pf]],null,null),(e()(),Xs(34,0,null,null,1,"button",[["class","btn btn-warning btn-xs bottom-right"],["type","submit"]],null,null,null,null,null)),(e()(),oi(-1,null,["Add"]))],function(e,t){var n=t.component;e(t,13,0,n.modalUnselectedFeatures),e(t,15,0,0==n.modalUnselectedFeatures.length),e(t,23,0,n.addFeatureForm),e(t,31,0,"featurename")},function(e,t){e(t,2,0,t.component.modalFeature.name),e(t,21,0,Qr(t,25).ngClassUntouched,Qr(t,25).ngClassTouched,Qr(t,25).ngClassPristine,Qr(t,25).ngClassDirty,Qr(t,25).ngClassValid,Qr(t,25).ngClassInvalid,Qr(t,25).ngClassPending),e(t,28,0,Qr(t,33).ngClassUntouched,Qr(t,33).ngClassTouched,Qr(t,33).ngClassPristine,Qr(t,33).ngClassDirty,Qr(t,33).ngClassValid,Qr(t,33).ngClassInvalid,Qr(t,33).ngClassPending)})}function wk(e){return ci(0,[(e()(),Xs(0,0,null,null,33,"div",[["class","container businesscanvas"]],null,null,null,null,null)),(e()(),Xs(1,0,null,null,25,"div",[["class","row"]],null,null,null,null,null)),(e()(),Xs(2,0,null,null,2,"div",[["class","col-2 buildingblock brectangle"]],null,null,null,null,null)),(e()(),Xs(3,0,null,null,1,"app-canvas-building-block",[],null,[[null,"addFeatureEmitter"],[null,"deleteFeatureEmitter"]],function(e,t,n){var r=!0,l=e.component;return"addFeatureEmitter"===t&&(r=!1!==l.addFeatureModal(n)&&r),"deleteFeatureEmitter"===t&&(r=!1!==l.deleteFeatureModal(n)&&r),r},hk,lk)),cl(4,49152,null,0,rk,[],{feature:[0,"feature"],levelDepth:[1,"levelDepth"],businessModelId:[2,"businessModelId"],doubleBlock:[3,"doubleBlock"],conformanceProblemFeatureIdList:[4,"conformanceProblemFeatureIdList"]},{addFeatureEmitter:"addFeatureEmitter",deleteFeatureEmitter:"deleteFeatureEmitter"}),(e()(),Xs(5,0,null,null,7,"div",[["class","col-3"]],null,null,null,null,null)),(e()(),Xs(6,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(e()(),Xs(7,0,null,null,2,"div",[["class","col-md-12 buildingblock bsquare"]],null,null,null,null,null)),(e()(),Xs(8,0,null,null,1,"app-canvas-building-block",[],null,[[null,"addFeatureEmitter"],[null,"deleteFeatureEmitter"]],function(e,t,n){var r=!0,l=e.component;return"addFeatureEmitter"===t&&(r=!1!==l.addFeatureModal(n)&&r),"deleteFeatureEmitter"===t&&(r=!1!==l.deleteFeatureModal(n)&&r),r},hk,lk)),cl(9,49152,null,0,rk,[],{feature:[0,"feature"],levelDepth:[1,"levelDepth"],businessModelId:[2,"businessModelId"],doubleBlock:[3,"doubleBlock"],conformanceProblemFeatureIdList:[4,"conformanceProblemFeatureIdList"]},{addFeatureEmitter:"addFeatureEmitter",deleteFeatureEmitter:"deleteFeatureEmitter"}),(e()(),Xs(10,0,null,null,2,"div",[["class","col-md-12 buildingblock bsquare"]],null,null,null,null,null)),(e()(),Xs(11,0,null,null,1,"app-canvas-building-block",[],null,[[null,"addFeatureEmitter"],[null,"deleteFeatureEmitter"]],function(e,t,n){var r=!0,l=e.component;return"addFeatureEmitter"===t&&(r=!1!==l.addFeatureModal(n)&&r),"deleteFeatureEmitter"===t&&(r=!1!==l.deleteFeatureModal(n)&&r),r},hk,lk)),cl(12,49152,null,0,rk,[],{feature:[0,"feature"],levelDepth:[1,"levelDepth"],businessModelId:[2,"businessModelId"],doubleBlock:[3,"doubleBlock"],conformanceProblemFeatureIdList:[4,"conformanceProblemFeatureIdList"]},{addFeatureEmitter:"addFeatureEmitter",deleteFeatureEmitter:"deleteFeatureEmitter"}),(e()(),Xs(13,0,null,null,2,"div",[["class","col-2 buildingblock"]],null,null,null,null,null)),(e()(),Xs(14,0,null,null,1,"app-canvas-building-block",[],null,[[null,"addFeatureEmitter"],[null,"deleteFeatureEmitter"]],function(e,t,n){var r=!0,l=e.component;return"addFeatureEmitter"===t&&(r=!1!==l.addFeatureModal(n)&&r),"deleteFeatureEmitter"===t&&(r=!1!==l.deleteFeatureModal(n)&&r),r},hk,lk)),cl(15,49152,null,0,rk,[],{feature:[0,"feature"],levelDepth:[1,"levelDepth"],businessModelId:[2,"businessModelId"],doubleBlock:[3,"doubleBlock"],conformanceProblemFeatureIdList:[4,"conformanceProblemFeatureIdList"]},{addFeatureEmitter:"addFeatureEmitter",deleteFeatureEmitter:"deleteFeatureEmitter"}),(e()(),Xs(16,0,null,null,7,"div",[["class","col-3"]],null,null,null,null,null)),(e()(),Xs(17,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(e()(),Xs(18,0,null,null,2,"div",[["class","col-md-12 buildingblock bsquare"]],null,null,null,null,null)),(e()(),Xs(19,0,null,null,1,"app-canvas-building-block",[],null,[[null,"addFeatureEmitter"],[null,"deleteFeatureEmitter"]],function(e,t,n){var r=!0,l=e.component;return"addFeatureEmitter"===t&&(r=!1!==l.addFeatureModal(n)&&r),"deleteFeatureEmitter"===t&&(r=!1!==l.deleteFeatureModal(n)&&r),r},hk,lk)),cl(20,49152,null,0,rk,[],{feature:[0,"feature"],levelDepth:[1,"levelDepth"],businessModelId:[2,"businessModelId"],doubleBlock:[3,"doubleBlock"],conformanceProblemFeatureIdList:[4,"conformanceProblemFeatureIdList"]},{addFeatureEmitter:"addFeatureEmitter",deleteFeatureEmitter:"deleteFeatureEmitter"}),(e()(),Xs(21,0,null,null,2,"div",[["class","col-md-12 buildingblock bsquare"]],null,null,null,null,null)),(e()(),Xs(22,0,null,null,1,"app-canvas-building-block",[],null,[[null,"addFeatureEmitter"],[null,"deleteFeatureEmitter"]],function(e,t,n){var r=!0,l=e.component;return"addFeatureEmitter"===t&&(r=!1!==l.addFeatureModal(n)&&r),"deleteFeatureEmitter"===t&&(r=!1!==l.deleteFeatureModal(n)&&r),r},hk,lk)),cl(23,49152,null,0,rk,[],{feature:[0,"feature"],levelDepth:[1,"levelDepth"],businessModelId:[2,"businessModelId"],doubleBlock:[3,"doubleBlock"],conformanceProblemFeatureIdList:[4,"conformanceProblemFeatureIdList"]},{addFeatureEmitter:"addFeatureEmitter",deleteFeatureEmitter:"deleteFeatureEmitter"}),(e()(),Xs(24,0,null,null,2,"div",[["class","col-2 buildingblock brectangle"]],null,null,null,null,null)),(e()(),Xs(25,0,null,null,1,"app-canvas-building-block",[],null,[[null,"addFeatureEmitter"],[null,"deleteFeatureEmitter"]],function(e,t,n){var r=!0,l=e.component;return"addFeatureEmitter"===t&&(r=!1!==l.addFeatureModal(n)&&r),"deleteFeatureEmitter"===t&&(r=!1!==l.deleteFeatureModal(n)&&r),r},hk,lk)),cl(26,49152,null,0,rk,[],{feature:[0,"feature"],levelDepth:[1,"levelDepth"],businessModelId:[2,"businessModelId"],doubleBlock:[3,"doubleBlock"],conformanceProblemFeatureIdList:[4,"conformanceProblemFeatureIdList"]},{addFeatureEmitter:"addFeatureEmitter",deleteFeatureEmitter:"deleteFeatureEmitter"}),(e()(),Xs(27,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(e()(),Xs(28,0,null,null,2,"div",[["class","col-6 buildingblock blongtangle"]],null,null,null,null,null)),(e()(),Xs(29,0,null,null,1,"app-canvas-building-block",[],null,[[null,"addFeatureEmitter"],[null,"deleteFeatureEmitter"]],function(e,t,n){var r=!0,l=e.component;return"addFeatureEmitter"===t&&(r=!1!==l.addFeatureModal(n)&&r),"deleteFeatureEmitter"===t&&(r=!1!==l.deleteFeatureModal(n)&&r),r},hk,lk)),cl(30,49152,null,0,rk,[],{feature:[0,"feature"],levelDepth:[1,"levelDepth"],businessModelId:[2,"businessModelId"],doubleBlock:[3,"doubleBlock"],conformanceProblemFeatureIdList:[4,"conformanceProblemFeatureIdList"]},{addFeatureEmitter:"addFeatureEmitter",deleteFeatureEmitter:"deleteFeatureEmitter"}),(e()(),Xs(31,0,null,null,2,"div",[["class","col-6 buildingblock blongtangle"]],null,null,null,null,null)),(e()(),Xs(32,0,null,null,1,"app-canvas-building-block",[],null,[[null,"addFeatureEmitter"],[null,"deleteFeatureEmitter"]],function(e,t,n){var r=!0,l=e.component;return"addFeatureEmitter"===t&&(r=!1!==l.addFeatureModal(n)&&r),"deleteFeatureEmitter"===t&&(r=!1!==l.deleteFeatureModal(n)&&r),r},hk,lk)),cl(33,49152,null,0,rk,[],{feature:[0,"feature"],levelDepth:[1,"levelDepth"],businessModelId:[2,"businessModelId"],doubleBlock:[3,"doubleBlock"],conformanceProblemFeatureIdList:[4,"conformanceProblemFeatureIdList"]},{addFeatureEmitter:"addFeatureEmitter",deleteFeatureEmitter:"deleteFeatureEmitter"})],function(e,t){var n=t.component;e(t,4,0,n.featureModel.features[4],1,n.businessModelId,!1,n.conformanceProblemFeatureIds),e(t,9,0,n.featureModel.features[5],1,n.businessModelId,!1,n.conformanceProblemFeatureIds),e(t,12,0,n.featureModel.features[6],1,n.businessModelId,!1,n.conformanceProblemFeatureIds),e(t,15,0,n.featureModel.features[0],1,n.businessModelId,!1,n.conformanceProblemFeatureIds),e(t,20,0,n.featureModel.features[2],1,n.businessModelId,!1,n.conformanceProblemFeatureIds),e(t,23,0,n.featureModel.features[3],1,n.businessModelId,!1,n.conformanceProblemFeatureIds),e(t,26,0,n.featureModel.features[1],1,n.businessModelId,!1,n.conformanceProblemFeatureIds),e(t,30,0,n.featureModel.features[8],1,n.businessModelId,!1,n.conformanceProblemFeatureIds),e(t,33,0,n.featureModel.features[7],1,n.businessModelId,!1,n.conformanceProblemFeatureIds)},null)}function Dk(e){return ci(0,[(e()(),Xs(0,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(e()(),Xs(1,0,null,null,1,"div",[["class","col-2"]],null,null,null,null,null)),(e()(),oi(-1,null,["\xa0"])),(e()(),Xs(3,0,null,null,1,"div",[["class","col-2"]],null,null,null,null,null)),(e()(),oi(-1,null,["Conformance:"])),(e()(),Xs(5,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Xs(6,0,null,null,1,"span",[["class","text-danger"]],null,null,null,null,null)),(e()(),oi(-1,null,["Conformance Error (see below)"])),(e()(),Xs(8,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Xs(9,0,null,null,1,"em",[["class","text-danger"]],null,null,null,null,null)),(e()(),oi(-1,null,["Missing Mandatory Decision"]))],null,null)}function Sk(e){return ci(0,[(e()(),Xs(0,0,null,null,1,"button",[["class","btn btn-dark btn-sm btn-block"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.checkConformance()&&r),r},null,null)),(e()(),oi(-1,null,[" Activate Conformance Checking of Business Model "]))],null,null)}function Ck(e){return ci(0,[(e()(),Xs(0,0,null,null,1,"button",[["class","btn btn-dark btn-sm btn-block"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.uncheckConformance()&&r),r},null,null)),(e()(),oi(-1,null,[" Deactivate Conformance Checking of Business Model "]))],null,null)}function kk(e){return ci(0,[(e()(),Xs(0,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),oi(1,null,["",""]))],null,function(e,t){e(t,1,0,t.context.$implicit)})}function xk(e){return ci(0,[(e()(),Xs(0,0,null,null,3,"div",[["class","row"],["style","margin-top:20px;"]],null,null,null,null,null)),(e()(),Xs(1,0,null,null,2,"ul",[],null,null,null,null,null)),(e()(),zs(16777216,null,null,1,null,kk)),cl(3,278528,null,0,fu,[Pn,Tn,kn],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,3,0,t.component.conformanceProblemErrors)},null)}function Ik(e){return ci(0,[(e()(),Xs(0,0,null,null,61,"main",[["class","container"],["role","main"]],null,null,null,null,null)),(e()(),Xs(1,0,null,null,19,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Xs(2,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),oi(3,null,[""," of ",""])),(e()(),zs(16777216,null,null,1,null,wk)),cl(5,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(e()(),Xs(6,0,null,null,14,"div",[["class","container"]],null,null,null,null,null)),(e()(),Xs(7,0,null,null,11,"div",[["class","row"]],null,null,null,null,null)),(e()(),Xs(8,0,null,null,2,"div",[["class","col-2"]],null,null,null,null,null)),(e()(),Xs(9,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),oi(-1,null,["Legend:"])),(e()(),Xs(11,0,null,null,1,"div",[["class","col-2"]],null,null,null,null,null)),(e()(),oi(-1,null,["Modification:"])),(e()(),Xs(13,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Xs(14,0,null,null,0,"i",[["class","fas fa-plus-square"]],null,null,null,null,null)),(e()(),oi(-1,null,[" Add Business Model Decision"])),(e()(),Xs(16,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Xs(17,0,null,null,0,"i",[["class","fas fa-minus-square"]],null,null,null,null,null)),(e()(),oi(-1,null,[" Delete Business Model Decision"])),(e()(),zs(16777216,null,null,1,null,Dk)),cl(20,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(e()(),Xs(21,0,null,null,10,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Xs(22,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),oi(-1,null,["Conformance Check"])),(e()(),Xs(24,0,null,null,7,"div",[["class","container"]],null,null,null,null,null)),(e()(),Xs(25,0,null,null,4,"div",[["class","row"],["style","margin-top:20px;"]],null,null,null,null,null)),(e()(),zs(16777216,null,null,1,null,Sk)),cl(27,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(e()(),zs(16777216,null,null,1,null,Ck)),cl(29,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(e()(),zs(16777216,null,null,1,null,xk)),cl(31,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(e()(),Xs(32,0,null,null,6,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Xs(33,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),oi(-1,null,["Adapt Business Model"])),(e()(),Xs(35,0,null,null,3,"div",[["class","container"]],null,null,null,null,null)),(e()(),Xs(36,0,null,null,2,"div",[["class","row"],["style","margin-top:20px;"]],null,null,null,null,null)),(e()(),Xs(37,0,null,null,1,"button",[["class","btn btn-dark btn-sm btn-block"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.createAdaptation()&&r),r},null,null)),(e()(),oi(-1,null,[" Create New Business Model Adaptation "])),(e()(),Xs(39,0,null,null,22,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Xs(40,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),oi(-1,null,["Update Business Model"])),(e()(),Xs(42,0,null,null,19,"div",[["class","text-muted pt-3"]],null,null,null,null,null)),(e()(),Xs(43,0,null,null,18,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(e,t,n){var r=!0,l=e.component;return"submit"===t&&(r=!1!==Qr(e,45).onSubmit(n)&&r),"reset"===t&&(r=!1!==Qr(e,45).onReset()&&r),"ngSubmit"===t&&(r=!1!==l.updateBusinessModel()&&r),r},null,null)),cl(44,16384,null,0,xp,[],null,null),cl(45,540672,null,0,Mp,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),dl(2048,null,Tf,null,[Mp]),cl(47,16384,null,0,Rf,[[4,Tf]],null,null),(e()(),Xs(48,0,null,null,9,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Xs(49,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","name"]],null,null,null,null,null)),(e()(),oi(-1,null,["Business Model Name"])),(e()(),Xs(51,0,null,null,6,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Xs(52,0,null,null,5,"input",[["class","form-control"],["formControlName","name"],["id","name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var r=!0;return"input"===t&&(r=!1!==Qr(e,53)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Qr(e,53).onTouched()&&r),"compositionstart"===t&&(r=!1!==Qr(e,53)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Qr(e,53)._compositionEnd(n.target.value)&&r),r},null,null)),cl(53,16384,null,0,Of,[dn,sn,[2,Ef]],null,null),dl(1024,null,If,function(e){return[e]},[Of]),cl(55,671744,null,0,Tp,[[3,Tf],[8,null],[8,null],[6,If],[2,Ip]],{name:[0,"name"]},null),dl(2048,null,Pf,null,[Tp]),cl(57,16384,null,0,Nf,[[4,Pf]],null,null),(e()(),Xs(58,0,null,null,3,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Xs(59,0,null,null,2,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),Xs(60,0,null,null,1,"button",[["class","btn btn-sm btn-dark btn-block"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),oi(-1,null,["Update Business Model Name"]))],function(e,t){var n=t.component;e(t,5,0,n.featureModel),e(t,20,0,n.conformanceIsChecked),e(t,27,0,!n.conformanceIsChecked),e(t,29,0,n.conformanceIsChecked),e(t,31,0,n.conformanceIsChecked),e(t,45,0,n.updateBusinessModelForm),e(t,55,0,"name")},function(e,t){var n=t.component;e(t,3,0,n.businessModelName,n.featureModel.name),e(t,43,0,Qr(t,47).ngClassUntouched,Qr(t,47).ngClassTouched,Qr(t,47).ngClassPristine,Qr(t,47).ngClassDirty,Qr(t,47).ngClassValid,Qr(t,47).ngClassInvalid,Qr(t,47).ngClassPending),e(t,52,0,Qr(t,57).ngClassUntouched,Qr(t,57).ngClassTouched,Qr(t,57).ngClassPristine,Qr(t,57).ngClassDirty,Qr(t,57).ngClassValid,Qr(t,57).ngClassInvalid,Qr(t,57).ngClassPending),e(t,60,0,!n.updateBusinessModelForm.valid)})}function Mk(e){return ci(0,[Qs(402653184,1,{addModal:0}),Qs(402653184,2,{deleteModal:0}),(e()(),Xs(2,0,null,null,5,"div",[["class","nav-scroller bg-white shadow-sm"]],null,null,null,null,null)),(e()(),Xs(3,0,null,null,4,"nav",[["class","nav nav-underline"]],null,null,null,null,null)),(e()(),zs(16777216,null,null,1,null,gk)),cl(5,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(e()(),zs(16777216,null,null,1,null,mk)),cl(7,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(e()(),zs(0,[[2,2],["deleteModal",2]],null,0,null,vk)),(e()(),zs(0,[[1,2],["addModal",2]],null,0,null,_k)),(e()(),zs(16777216,null,null,1,null,Ik)),cl(11,16384,null,0,gu,[Pn,Tn],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,5,0,n.featureModel),e(t,7,0,n.featureModel),e(t,11,0,n.featureModel)},null)}function Ek(e){return ci(0,[(e()(),Xs(0,0,null,null,1,"app-business-model-view",[],null,null,null,Mk,pk)),cl(1,114688,null,0,fk,[Nd,Wh,mC,im,Pp],null,null)],function(e,t){e(t,1,0)},null)}var Ok=Vr("app-business-model-view",fk,Ek,{},{},[]);class Fk{constructor(e,t,n){this.fb=e,this.pouchDBServer=t,this.router=n,this.featureModelForm=this.fb.group({name:[""],description:[]}),this.pouchDBServer.getDatabaseInfo().then(e=>{0===e.doc_count&&this.pouchDBServer.addDefaultData().then(e=>{this.refreshFeatureModelList()},e=>{console.log("Default Constructor (inner): "+e)})},e=>{console.log("Default Constructor: "+e)}),this.refreshFeatureModelList()}addFeatureModel(){this.pouchDBServer.addFeatureModel(this.featureModelForm.value.name,this.featureModelForm.value.description).then(e=>{this.refreshFeatureModelList()},e=>{console.log("AddFeatureModel: "+e)})}resetDatabase(){console.log("Delete Database"),this.pouchDBServer.addDefaultData().then(e=>{this.refreshFeatureModelList()},e=>{console.log("Default Constructor (inner): "+e)})}viewFeatureModel(e){this.router.navigate(["/featuremodelview",e])}editFeatureModel(e){this.router.navigate(["/featuremodel",e])}deleteFeatureModel(e){this.pouchDBServer.deleteFeatureModel(e).then(e=>{this.refreshFeatureModelList()},e=>{console.log("DeleteFeatureModel: "+e)})}refreshFeatureModelList(){this.pouchDBServer.getFeatureModelList().then(e=>{this.featureModelList=e.docs},e=>{console.log("RefreshFeatureModelList: "+e)})}}var Tk=Jn({encapsulation:0,styles:[[""]],data:{}});function Ak(e){return ci(0,[(e()(),Xs(0,0,null,null,2,"a",[["class","nav-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Qr(e,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),cl(1,671744,null,0,Kh,[Wh,Nd,Do],{routerLink:[0,"routerLink"]},null),(e()(),oi(2,null,["",""]))],function(e,t){e(t,1,0,kr(1,"/featuremodel/",t.context.$implicit._id,""))},function(e,t){e(t,0,0,Qr(t,1).target,Qr(t,1).href),e(t,2,0,t.context.$implicit.name)})}function Pk(e){return ci(0,[(e()(),Xs(0,0,null,null,20,"div",[["class","media text-muted pt-3"]],null,null,null,null,null)),(e()(),Xs(1,0,null,null,4,":svg:svg",[["aria-label","Placeholder: 32x32"],["class","bd-placeholder-img mr-2 rounded"],["focusable","false"],["height","32"],["preserveAspectRatio","xMidYMid slice"],["role","img"],["width","32"],["xmlns","http://www.w3.org/2000/svg"]],null,null,null,null,null)),(e()(),Xs(2,0,null,null,1,":svg:title",[],null,null,null,null,null)),(e()(),oi(-1,null,["Placeholder"])),(e()(),Xs(4,0,null,null,0,":svg:rect",[["fill","#6f42c1"],["height","100%"],["width","100%"]],null,null,null,null,null)),(e()(),Xs(5,0,null,null,0,":svg:rect",[["fill","#007bff"],["x","50%"],["y","50%"]],null,null,null,null,null)),(e()(),Xs(6,0,null,null,14,"div",[["class","media-body pb-3 mb-0 small lh-125 border-bottom border-gray"]],null,null,null,null,null)),(e()(),Xs(7,0,null,null,11,"div",[["class","d-flex justify-content-between align-items-center "]],null,null,null,null,null)),(e()(),Xs(8,0,null,null,1,"strong",[["class","text-gray-dark"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.viewFeatureModel(e.context.$implicit._id)&&r),r},null,null)),(e()(),oi(9,null,["",""])),(e()(),Xs(10,0,null,null,8,"span",[],null,null,null,null,null)),(e()(),Xs(11,0,null,null,1,"button",[["class","btn btn-dark btn-xs"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.viewFeatureModel(e.context.$implicit._id)&&r),r},null,null)),(e()(),oi(-1,null,["View"])),(e()(),oi(-1,null,[" \xa0 "])),(e()(),Xs(14,0,null,null,1,"button",[["class","btn btn-warning btn-xs"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.editFeatureModel(e.context.$implicit._id)&&r),r},null,null)),(e()(),oi(-1,null,["Edit"])),(e()(),oi(-1,null,[" \xa0 "])),(e()(),Xs(17,0,null,null,1,"button",[["class","btn btn-danger btn-xs"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.deleteFeatureModel(e.context.$implicit._id)&&r),r},null,null)),(e()(),oi(-1,null,["Delete"])),(e()(),Xs(19,0,null,null,1,"span",[["class","d-block"]],null,null,null,null,null)),(e()(),oi(20,null,["",""]))],null,function(e,t){e(t,9,0,t.context.$implicit.name),e(t,20,0,t.context.$implicit.description)})}function qk(e){return ci(0,[(e()(),Xs(0,0,null,null,5,"div",[["class","nav-scroller bg-white shadow-sm"]],null,null,null,null,null)),(e()(),Xs(1,0,null,null,4,"nav",[["class","nav nav-underline"]],null,null,null,null,null)),(e()(),Xs(2,0,null,null,1,"a",[["class","nav-link active"],["href","#"]],null,null,null,null,null)),(e()(),oi(-1,null,["Feature Models"])),(e()(),zs(16777216,null,null,1,null,Ak)),cl(5,278528,null,0,fu,[Pn,Tn,kn],{ngForOf:[0,"ngForOf"]},null),(e()(),Xs(6,0,null,null,58,"main",[["class","container"],["role","main"]],null,null,null,null,null)),(e()(),Xs(7,0,null,null,6,"div",[["class","d-flex align-items-center p-3 my-3 text-white-50 bg-purple rounded shadow-sm"]],null,null,null,null,null)),(e()(),Xs(8,0,null,null,0,"img",[["alt",""],["class","mr-3"],["height","48"],["src","/assets/logo.svg"],["width","48"]],null,null,null,null,null)),(e()(),Xs(9,0,null,null,4,"div",[["class","lh-100"]],null,null,null,null,null)),(e()(),Xs(10,0,null,null,1,"h6",[["class","mb-0 text-white lh-100"]],null,null,null,null,null)),(e()(),oi(-1,null,["BMDL Feature Modeler"])),(e()(),Xs(12,0,null,null,1,"small",[],null,null,null,null,null)),(e()(),oi(-1,null,["Describe Business Models through a Business Model Decision Line (BMDL) by using Feature Models"])),(e()(),Xs(14,0,null,null,10,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Xs(15,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),oi(-1,null,["Short introduction"])),(e()(),Xs(17,0,null,null,7,"div",[["class","text-muted pt-3"]],null,null,null,null,null)),(e()(),Xs(18,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),oi(-1,null,["The BMDL Feature Modeler is a tool to describe Business Models through a combination of the Business Model Canvas (BMC) and a Software Product Line (SPL). We call this concept Business Model Decision Line (BMDL), where each feature describes a single business model decision. Features can be ordered in hierarchies and marked as mandatory or optional for the business models. Moreover, there can be Or (at least one sub-feature is selected) and Alternate (exactly one sub-feature is selected) relationships between a parent and a child feature. To refine the business models, cross-tree constraints for requiring and excluding dependencies can be made."])),(e()(),Xs(20,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),oi(-1,null,["The current state of the tool allows the creation of feature models and the deriving of business models. New business model decisions of single business models are synchronized with the corresponding feature model to ensure consistency. Moreover, the conformance of business models can be checked with the feature model and occurring conformance errors are explained."])),(e()(),Xs(22,0,null,null,2,"button",[["class","btn btn-dark btn-sm btn-block"],["routerLink","/explanation"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Qr(e,23).onClick()&&r),r},null,null)),cl(23,16384,null,0,Gh,[Wh,Nd,[8,null],dn,sn],{routerLink:[0,"routerLink"]},null),(e()(),oi(-1,null,["View Full Tool Explanation"])),(e()(),Xs(25,0,null,null,6,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Xs(26,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),oi(-1,null,["List of Feature Models"])),(e()(),zs(16777216,null,null,1,null,Pk)),cl(29,278528,null,0,fu,[Pn,Tn,kn],{ngForOf:[0,"ngForOf"]},null),(e()(),Xs(30,0,null,null,1,"button",[["class","btn btn-dark btn-sm btn-block"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.resetDatabase()&&r),r},null,null)),(e()(),oi(-1,null,["Reset Database to Default"])),(e()(),Xs(32,0,null,null,32,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Xs(33,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),oi(-1,null,["Add Feature Model"])),(e()(),Xs(35,0,null,null,29,"div",[["class","text-muted pt-3"]],null,null,null,null,null)),(e()(),Xs(36,0,null,null,28,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(e,t,n){var r=!0,l=e.component;return"submit"===t&&(r=!1!==Qr(e,38).onSubmit(n)&&r),"reset"===t&&(r=!1!==Qr(e,38).onReset()&&r),"ngSubmit"===t&&(r=!1!==l.addFeatureModel()&&r),r},null,null)),cl(37,16384,null,0,xp,[],null,null),cl(38,540672,null,0,Mp,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),dl(2048,null,Tf,null,[Mp]),cl(40,16384,null,0,Rf,[[4,Tf]],null,null),(e()(),Xs(41,0,null,null,9,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Xs(42,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","name"]],null,null,null,null,null)),(e()(),oi(-1,null,["Model Name"])),(e()(),Xs(44,0,null,null,6,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Xs(45,0,null,null,5,"input",[["class","form-control"],["formControlName","name"],["id","name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var r=!0;return"input"===t&&(r=!1!==Qr(e,46)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Qr(e,46).onTouched()&&r),"compositionstart"===t&&(r=!1!==Qr(e,46)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Qr(e,46)._compositionEnd(n.target.value)&&r),r},null,null)),cl(46,16384,null,0,Of,[dn,sn,[2,Ef]],null,null),dl(1024,null,If,function(e){return[e]},[Of]),cl(48,671744,null,0,Tp,[[3,Tf],[8,null],[8,null],[6,If],[2,Ip]],{name:[0,"name"]},null),dl(2048,null,Pf,null,[Tp]),cl(50,16384,null,0,Nf,[[4,Pf]],null,null),(e()(),Xs(51,0,null,null,9,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Xs(52,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","description"]],null,null,null,null,null)),(e()(),oi(-1,null,["Model Description"])),(e()(),Xs(54,0,null,null,6,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Xs(55,0,null,null,5,"input",[["class","form-control"],["formControlName","description"],["id","description"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var r=!0;return"input"===t&&(r=!1!==Qr(e,56)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Qr(e,56).onTouched()&&r),"compositionstart"===t&&(r=!1!==Qr(e,56)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Qr(e,56)._compositionEnd(n.target.value)&&r),r},null,null)),cl(56,16384,null,0,Of,[dn,sn,[2,Ef]],null,null),dl(1024,null,If,function(e){return[e]},[Of]),cl(58,671744,null,0,Tp,[[3,Tf],[8,null],[8,null],[6,If],[2,Ip]],{name:[0,"name"]},null),dl(2048,null,Pf,null,[Tp]),cl(60,16384,null,0,Nf,[[4,Pf]],null,null),(e()(),Xs(61,0,null,null,3,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Xs(62,0,null,null,2,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),Xs(63,0,null,null,1,"button",[["class","btn btn-sm btn-dark btn-block"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),oi(-1,null,["Add Feature Model"]))],function(e,t){var n=t.component;e(t,5,0,n.featureModelList),e(t,23,0,"/explanation"),e(t,29,0,n.featureModelList),e(t,38,0,n.featureModelForm),e(t,48,0,"name"),e(t,58,0,"description")},function(e,t){var n=t.component;e(t,36,0,Qr(t,40).ngClassUntouched,Qr(t,40).ngClassTouched,Qr(t,40).ngClassPristine,Qr(t,40).ngClassDirty,Qr(t,40).ngClassValid,Qr(t,40).ngClassInvalid,Qr(t,40).ngClassPending),e(t,45,0,Qr(t,50).ngClassUntouched,Qr(t,50).ngClassTouched,Qr(t,50).ngClassPristine,Qr(t,50).ngClassDirty,Qr(t,50).ngClassValid,Qr(t,50).ngClassInvalid,Qr(t,50).ngClassPending),e(t,55,0,Qr(t,60).ngClassUntouched,Qr(t,60).ngClassTouched,Qr(t,60).ngClassPristine,Qr(t,60).ngClassDirty,Qr(t,60).ngClassValid,Qr(t,60).ngClassInvalid,Qr(t,60).ngClassPending),e(t,63,0,!n.featureModelForm.valid)})}function Nk(e){return ci(0,[(e()(),Xs(0,0,null,null,1,"app-feature-model",[],null,null,null,qk,Tk)),cl(1,49152,null,0,Fk,[Pp,mC,Wh],null,null)],null,null)}var Rk=Vr("app-feature-model",Fk,Nk,{},{},[]),jk=Jn({encapsulation:0,styles:[[""]],data:{}});function $k(e){return ci(0,[(e()(),Xs(0,0,null,null,18,"nav",[["class","navbar navbar-expand-lg fixed-top navbar-dark bg-dark"]],null,null,null,null,null)),cl(1,16384,null,0,Gg,[],null,null),(e()(),Xs(2,0,null,null,2,"a",[["class","navbar-brand mr-auto mr-lg-0"],["routerLink","featuremodels"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Qr(e,3).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),cl(3,671744,null,0,Kh,[Wh,Nd,Do],{routerLink:[0,"routerLink"]},null),(e()(),oi(-1,null,["BMDL Feature Modeler"])),(e()(),Xs(5,0,null,null,1,"button",[["class","navbar-toggler p-0 border-0"],["data-toggle","offcanvas"],["type","button"]],null,null,null,null,null)),(e()(),Xs(6,0,null,null,0,"span",[["class","navbar-toggler-icon"]],null,null,null,null,null)),(e()(),Xs(7,0,null,null,11,"div",[["class","navbar-collapse offcanvas-collapse"],["id","navbarsExampleDefault"]],null,null,null,null,null)),(e()(),Xs(8,0,null,null,10,"ul",[["class","navbar-nav mr-auto"]],null,null,null,null,null)),(e()(),Xs(9,0,null,null,5,"li",[["class","nav-item active"]],null,null,null,null,null)),(e()(),Xs(10,0,null,null,4,"a",[["class","nav-link"],["routerLink","featuremodels"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Qr(e,11).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),cl(11,671744,null,0,Kh,[Wh,Nd,Do],{routerLink:[0,"routerLink"]},null),(e()(),oi(-1,null,["Feature Model List "])),(e()(),Xs(13,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(e()(),oi(-1,null,["(current)"])),(e()(),Xs(15,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(e()(),Xs(16,0,null,null,2,"a",[["class","nav-link"],["routerLink","explanation"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Qr(e,17).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),cl(17,671744,null,0,Kh,[Wh,Nd,Do],{routerLink:[0,"routerLink"]},null),(e()(),oi(-1,null,["Tool Explanation"])),(e()(),Xs(19,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),cl(20,212992,null,0,Yh,[Jh,Pn,Yt,[8,null],In],null,null)],function(e,t){e(t,3,0,"featuremodels"),e(t,11,0,"featuremodels"),e(t,17,0,"explanation"),e(t,20,0)},function(e,t){e(t,2,0,Qr(t,3).target,Qr(t,3).href),e(t,10,0,Qr(t,11).target,Qr(t,11).href),e(t,16,0,Qr(t,17).target,Qr(t,17).href)})}function Vk(e){return ci(0,[(e()(),Xs(0,0,null,null,1,"app-root",[],null,null,null,$k,jk)),cl(1,49152,null,0,bo,[],null,null)],null,null)}var Lk=Vr("app-root",bo,Vk,{},{},[]);class Bk{}var Uk=mo(yo,[bo],function(e){return function(e){const t={},n=[];let r=!1;for(let l=0;l<e.length;l++){const s=e[l];s.token===Le&&!0===s.value&&(r=!0),1073741824&s.flags&&n.push(s.token),s.index=l,t[Kn(s.token)]=s}return{factory:null,providersByKey:t,providers:e,modules:n,isRoot:r}}([Fr(512,Yt,en,[[8,[kf,Jv,$C,nk,Ok,Rk,xm,fv,Vv,Hv,_v,Cv,Fv,Lk]],[3,Yt],nn]),Fr(5120,zl,Bs,[[3,zl]]),Fr(4608,iu,ou,[zl,[2,su]]),Fr(5120,xl,Us,[os]),Fr(5120,jl,$l,[]),Fr(5120,kn,Vs,[]),Fr(5120,xn,Ls,[]),Fr(4608,vc,yc,[_u]),Fr(6144,Et,null,[vc]),Fr(4608,cc,hc,[]),Fr(5120,Ra,function(e,t,n,r,l,s,i,o){return[new uc(e,t,n),new mc(r),new fc(l,s,i,o)]},[_u,os,Bl,_u,_u,cc,Hl,[2,dc]]),Fr(4608,ja,ja,[Ra,os]),Fr(135680,La,La,[_u]),Fr(4608,Ga,Ga,[ja,La,jl]),Fr(6144,an,null,[Ga]),Fr(6144,Va,null,[La]),Fr(4608,ps,ps,[os]),Fr(5120,Nd,vf,[Wh]),Fr(4608,rf,rf,[]),Fr(6144,tf,null,[rf]),Fr(135680,lf,lf,[Wh,Ms,Yl,Ue,tf]),Fr(4608,nf,nf,[]),Fr(5120,sf,hf,[Wh,wu,of]),Fr(5120,wf,_f,[yf]),Fr(5120,Ul,function(e){return[e]},[wf]),Fr(4608,Wf,Wf,[]),Fr(4608,Pp,Pp,[]),Fr(4608,im,im,[Yt,Ue,sm,Zg]),Fr(1073742336,bu,bu,[]),Fr(1024,qt,xc,[]),Fr(1024,ws,function(){return[cf()]},[]),Fr(512,yf,yf,[Ue]),Fr(1024,Nl,function(e,t){return[(n=e,Pa("probe",Na),Pa("coreTokens",Object.assign({},qa,(n||[]).reduce((e,t)=>(e[t.name]=t.token,e),{}))),()=>Na),bf(t)];var n},[[2,ws],yf]),Fr(512,Rl,Rl,[[2,Nl]]),Fr(131584,xs,xs,[os,Hl,Ue,qt,Yt,Rl]),Fr(1073742336,Hs,Hs,[xs]),Fr(1073742336,Ic,Ic,[[3,Ic]]),Fr(1024,uf,pf,[[3,Wh]]),Fr(512,pd,gd,[]),Fr(512,Jh,Jh,[]),Fr(256,of,{},[]),Fr(1024,Do,ff,[_o,[2,So],of]),Fr(512,Co,Co,[Do,_o]),Fr(512,Yl,Yl,[]),Fr(512,Ms,Fs,[Yl,[2,Es]]),Fr(1024,Vh,function(){return[[{path:"",redirectTo:"/featuremodels",pathMatch:"full"},{path:"explanation",component:zv},{path:"featuremodel/:id",component:dy},{path:"featuremodelview/:id",component:XC},{path:"businessmodelview/:id/:bmid",component:fk},{path:"featuremodels",component:Fk}]]},[]),Fr(1024,Wh,mf,[xs,pd,Jh,Co,Ue,Ms,Yl,Vh,of,[2,Bh],[2,jh]]),Fr(1073742336,df,df,[[2,uf],[2,Wh]]),Fr(1073742336,Bk,Bk,[]),Fr(1073742336,Ap,Ap,[]),Fr(1073742336,qp,qp,[]),Fr(1073742336,Np,Np,[]),Fr(1073742336,ig,ig,[]),Fr(1073742336,ag,ag,[]),Fr(1073742336,cg,cg,[]),Fr(1073742336,vg,vg,[]),Fr(1073742336,yg,yg,[]),Fr(1073742336,Wg,Wg,[]),Fr(1073742336,Kg,Kg,[]),Fr(1073742336,om,om,[]),Fr(1073742336,um,um,[]),Fr(1073742336,cm,cm,[]),Fr(1073742336,dm,dm,[]),Fr(1073742336,hm,hm,[]),Fr(1073742336,fm,fm,[]),Fr(1073742336,pm,pm,[]),Fr(1073742336,gm,gm,[]),Fr(1073742336,vm,vm,[]),Fr(1073742336,_m,_m,[]),Fr(1073742336,wm,wm,[]),Fr(1073742336,yo,yo,[]),Fr(256,Le,!0,[])])});(function(){if(st)throw new Error("Cannot enable prod mode after platform setup.");lt=!1})(),kc().bootstrapModuleFactory(Uk).catch(e=>console.error(e))},zXlJ:function(e,t,n){var r=n("JYIv"),l=n("zc1T");e.exports=function(e,t,n){var s=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||r)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var o=0;o<16;++o)t[s+o]=i[o];return t||l(i)}},zc1T:function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0;return n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]}},zn8P:function(e,t){function n(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"},zu5P:function(e,t){e.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},[[0,0]]]);