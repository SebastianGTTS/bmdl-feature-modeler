(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+MFp":function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var l=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),l[t]=e>>>((3&t)<<3)&255;return l}}},"+qE3":function(e,t,n){"use strict";var r,l="object"==typeof Reflect?Reflect:null,i=l&&"function"==typeof l.apply?l.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=l&&"function"==typeof l.ownKeys?l.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var u=10;function a(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var l,i,s;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),s=i[t]),void 0===s)s=i[t]=n,++e._eventsCount;else if("function"==typeof s?s=i[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(l=a(e))>0&&s.length>l&&!s.warned){s.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=e,o.type=t,o.count=s.length,console&&console.warn&&console.warn(o)}return e}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},l=(function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,i(this.listener,this.target,e))}).bind(r);return l.listener=n,r.wrapFn=l,l}function h(e,t,n){var r=e._events;if(void 0===r)return[];var l=r[t];return void 0===l?[]:"function"==typeof l?n?[l.listener||l]:[l]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(l):p(l,l.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return a(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,l=this._events;if(void 0!==l)r=r&&void 0===l.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var u=l[e];if(void 0===u)return!1;if("function"==typeof u)i(u,this,t);else{var a=u.length,c=p(u,a);for(n=0;n<a;++n)i(c[n],this,t)}return!0},o.prototype.on=o.prototype.addListener=function(e,t){return c(this,e,t,!1)},o.prototype.prependListener=function(e,t){return c(this,e,t,!0)},o.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,d(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,d(this,e,t)),this},o.prototype.off=o.prototype.removeListener=function(e,t){var n,r,l,i,s;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(l=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){s=n[i].listener,l=i;break}if(l<0)return this;0===l?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,l),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var l,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(l=i[r])&&this.removeAllListeners(l);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return h(this,e,!0)},o.prototype.rawListeners=function(e){return h(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},o.prototype.listenerCount=f,o.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},0:function(e,t,n){e.exports=n("zUnb")},"16OU":function(e,t,n){var r,l,i=n("JYIv"),s=n("zc1T"),o=0,u=0;e.exports=function(e,t,n){var a=t&&n||0,c=t||[],d=(e=e||{}).node||r,h=void 0!==e.clockseq?e.clockseq:l;if(null==d||null==h){var f=i();null==d&&(d=r=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==h&&(h=l=16383&(f[6]<<8|f[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),g=void 0!==e.nsecs?e.nsecs:u+1,m=p-o+(g-u)/1e4;if(m<0&&void 0===e.clockseq&&(h=h+1&16383),(m<0||p>o)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");o=p,u=g,l=h;var v=(1e4*(268435455&(p+=122192928e5))+g)%4294967296;c[a++]=v>>>24&255,c[a++]=v>>>16&255,c[a++]=v>>>8&255,c[a++]=255&v;var y=p/4294967296*1e4&268435455;c[a++]=y>>>8&255,c[a++]=255&y,c[a++]=y>>>24&15|16,c[a++]=y>>>16&255,c[a++]=h>>>8|128,c[a++]=255&h;for(var b=0;b<6;++b)c[a+b]=d[b];return t||s(c)}},"26GY":function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0;return n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]}},"3Y9A":function(e,t,n){"use strict";e.exports=function(e){return function(){var t=arguments.length;if(t){for(var n=[],r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}return e.call(this,[])}}},"3j3K":function(e,t,n){"use strict";var r,l,i=global.MutationObserver||global.WebKitMutationObserver;if(i){var s=0,o=new i(d),u=global.document.createTextNode("");o.observe(u,{characterData:!0}),r=function(){u.data=s=++s%2}}else if(global.setImmediate||void 0===global.MessageChannel)r="document"in global&&"onreadystatechange"in global.document.createElement("script")?function(){var e=global.document.createElement("script");e.onreadystatechange=function(){d(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},global.document.documentElement.appendChild(e)}:function(){setTimeout(d,0)};else{var a=new global.MessageChannel;a.port1.onmessage=d,r=function(){a.port2.postMessage(0)}}var c=[];function d(){var e,t;l=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}l=!1}e.exports=function(e){1!==c.push(e)||l||r()}},"5Lhs":function(e,t,n){var r=n("ky14"),l=n("8d8U"),i=l;i.v1=r,i.v4=l,e.exports=i},"8d8U":function(e,t,n){var r=n("+MFp"),l=n("26GY");e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var o=0;o<16;++o)t[i+o]=s[o];return t||l(s)}},JYIv:function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var l=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),l[t]=e>>>((3&t)<<3)&255;return l}}},aaBP:function(e,t,n){e.exports=function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],r=e[1],l=e[2],i=e[3];r=((r+=((l=((l+=((i=((i+=((n=((n+=(r&l|~r&i)+t[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&l)+t[1]-389564586|0)<<12|i>>>20)+n|0)&n|~i&r)+t[2]+606105819|0)<<17|l>>>15)+i|0)&i|~l&n)+t[3]-1044525330|0)<<22|r>>>10)+l|0,r=((r+=((l=((l+=((i=((i+=((n=((n+=(r&l|~r&i)+t[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&l)+t[5]+1200080426|0)<<12|i>>>20)+n|0)&n|~i&r)+t[6]-1473231341|0)<<17|l>>>15)+i|0)&i|~l&n)+t[7]-45705983|0)<<22|r>>>10)+l|0,r=((r+=((l=((l+=((i=((i+=((n=((n+=(r&l|~r&i)+t[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&l)+t[9]-1958414417|0)<<12|i>>>20)+n|0)&n|~i&r)+t[10]-42063|0)<<17|l>>>15)+i|0)&i|~l&n)+t[11]-1990404162|0)<<22|r>>>10)+l|0,r=((r+=((l=((l+=((i=((i+=((n=((n+=(r&l|~r&i)+t[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&l)+t[13]-40341101|0)<<12|i>>>20)+n|0)&n|~i&r)+t[14]-1502002290|0)<<17|l>>>15)+i|0)&i|~l&n)+t[15]+1236535329|0)<<22|r>>>10)+l|0,r=((r+=((l=((l+=((i=((i+=((n=((n+=(r&i|l&~i)+t[1]-165796510|0)<<5|n>>>27)+r|0)&l|r&~l)+t[6]-1069501632|0)<<9|i>>>23)+n|0)&r|n&~r)+t[11]+643717713|0)<<14|l>>>18)+i|0)&n|i&~n)+t[0]-373897302|0)<<20|r>>>12)+l|0,r=((r+=((l=((l+=((i=((i+=((n=((n+=(r&i|l&~i)+t[5]-701558691|0)<<5|n>>>27)+r|0)&l|r&~l)+t[10]+38016083|0)<<9|i>>>23)+n|0)&r|n&~r)+t[15]-660478335|0)<<14|l>>>18)+i|0)&n|i&~n)+t[4]-405537848|0)<<20|r>>>12)+l|0,r=((r+=((l=((l+=((i=((i+=((n=((n+=(r&i|l&~i)+t[9]+568446438|0)<<5|n>>>27)+r|0)&l|r&~l)+t[14]-1019803690|0)<<9|i>>>23)+n|0)&r|n&~r)+t[3]-187363961|0)<<14|l>>>18)+i|0)&n|i&~n)+t[8]+1163531501|0)<<20|r>>>12)+l|0,r=((r+=((l=((l+=((i=((i+=((n=((n+=(r&i|l&~i)+t[13]-1444681467|0)<<5|n>>>27)+r|0)&l|r&~l)+t[2]-51403784|0)<<9|i>>>23)+n|0)&r|n&~r)+t[7]+1735328473|0)<<14|l>>>18)+i|0)&n|i&~n)+t[12]-1926607734|0)<<20|r>>>12)+l|0,r=((r+=((l=((l+=((i=((i+=((n=((n+=(r^l^i)+t[5]-378558|0)<<4|n>>>28)+r|0)^r^l)+t[8]-2022574463|0)<<11|i>>>21)+n|0)^n^r)+t[11]+1839030562|0)<<16|l>>>16)+i|0)^i^n)+t[14]-35309556|0)<<23|r>>>9)+l|0,r=((r+=((l=((l+=((i=((i+=((n=((n+=(r^l^i)+t[1]-1530992060|0)<<4|n>>>28)+r|0)^r^l)+t[4]+1272893353|0)<<11|i>>>21)+n|0)^n^r)+t[7]-155497632|0)<<16|l>>>16)+i|0)^i^n)+t[10]-1094730640|0)<<23|r>>>9)+l|0,r=((r+=((l=((l+=((i=((i+=((n=((n+=(r^l^i)+t[13]+681279174|0)<<4|n>>>28)+r|0)^r^l)+t[0]-358537222|0)<<11|i>>>21)+n|0)^n^r)+t[3]-722521979|0)<<16|l>>>16)+i|0)^i^n)+t[6]+76029189|0)<<23|r>>>9)+l|0,r=((r+=((l=((l+=((i=((i+=((n=((n+=(r^l^i)+t[9]-640364487|0)<<4|n>>>28)+r|0)^r^l)+t[12]-421815835|0)<<11|i>>>21)+n|0)^n^r)+t[15]+530742520|0)<<16|l>>>16)+i|0)^i^n)+t[2]-995338651|0)<<23|r>>>9)+l|0,r=((r+=((i=((i+=(r^((n=((n+=(l^(r|~i))+t[0]-198630844|0)<<6|n>>>26)+r|0)|~l))+t[7]+1126891415|0)<<10|i>>>22)+n|0)^((l=((l+=(n^(i|~r))+t[14]-1416354905|0)<<15|l>>>17)+i|0)|~n))+t[5]-57434055|0)<<21|r>>>11)+l|0,r=((r+=((i=((i+=(r^((n=((n+=(l^(r|~i))+t[12]+1700485571|0)<<6|n>>>26)+r|0)|~l))+t[3]-1894986606|0)<<10|i>>>22)+n|0)^((l=((l+=(n^(i|~r))+t[10]-1051523|0)<<15|l>>>17)+i|0)|~n))+t[1]-2054922799|0)<<21|r>>>11)+l|0,r=((r+=((i=((i+=(r^((n=((n+=(l^(r|~i))+t[8]+1873313359|0)<<6|n>>>26)+r|0)|~l))+t[15]-30611744|0)<<10|i>>>22)+n|0)^((l=((l+=(n^(i|~r))+t[6]-1560198380|0)<<15|l>>>17)+i|0)|~n))+t[13]+1309151649|0)<<21|r>>>11)+l|0,r=((r+=((i=((i+=(r^((n=((n+=(l^(r|~i))+t[4]-145523070|0)<<6|n>>>26)+r|0)|~l))+t[11]-1120210379|0)<<10|i>>>22)+n|0)^((l=((l+=(n^(i|~r))+t[2]+718787259|0)<<15|l>>>17)+i|0)|~n))+t[9]-343485551|0)<<21|r>>>11)+l|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=l+e[2]|0,e[3]=i+e[3]|0}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function l(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function i(e){var t,l,i,s,o,u,a=e.length,c=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=a;t+=64)n(c,r(e.substring(t-64,t)));for(l=(e=e.substring(t-64)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<l;t+=1)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(n(c,i),t=0;t<16;t+=1)i[t]=0;return s=(s=8*a).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(s[2],16),u=parseInt(s[1],16)||0,i[14]=o,i[15]=u,n(c,i),c}function s(e){var n,r="";for(n=0;n<4;n+=1)r+=t[e>>8*n+4&15]+t[e>>8*n&15];return r}function o(e){var t;for(t=0;t<e.length;t+=1)e[t]=s(e[t]);return e.join("")}function u(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function a(e){var t,n=[],r=e.length;for(t=0;t<r-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function c(){this.reset()}return o(i("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function e(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(t,n){var r,l,i,s,o=this.byteLength,u=e(t,o),a=o;return void 0!==n&&(a=e(n,o)),u>a?new ArrayBuffer(0):(r=a-u,l=new ArrayBuffer(r),i=new Uint8Array(l),s=new Uint8Array(this,u,r),i.set(s),l)}}(),c.prototype.append=function(e){return this.appendBinary(u(e)),this},c.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,l=this._buff.length;for(t=64;t<=l;t+=64)n(this._hash,r(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},c.prototype.end=function(e){var t,n,r=this._buff,l=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<l;t+=1)i[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(i,l),n=o(this._hash),e&&(n=a(n)),this.reset(),n},c.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},c.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},c.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},c.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},c.prototype._finish=function(e,t){var r,l,i,s=t;if(e[s>>2]|=128<<(s%4<<3),s>55)for(n(this._hash,e),s=0;s<16;s+=1)e[s]=0;r=(r=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),l=parseInt(r[2],16),i=parseInt(r[1],16)||0,e[14]=l,e[15]=i,n(this._hash,e)},c.hash=function(e,t){return c.hashBinary(u(e),t)},c.hashBinary=function(e,t){var n=o(i(e));return t?a(n):n},(c.ArrayBuffer=function(){this.reset()}).prototype.append=function(e){var t,r,i,s,o=(r=this._buff.buffer,i=e,(s=new Uint8Array(r.byteLength+i.byteLength)).set(new Uint8Array(r)),s.set(new Uint8Array(i),r.byteLength),s),u=o.length;for(this._length+=e.byteLength,t=64;t<=u;t+=64)n(this._hash,l(o.subarray(t-64,t)));return this._buff=t-64<u?new Uint8Array(o.buffer.slice(t-64)):new Uint8Array(0),this},c.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,l=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<l;t+=1)i[t>>2]|=r[t]<<(t%4<<3);return this._finish(i,l),n=o(this._hash),e&&(n=a(n)),this.reset(),n},c.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},c.ArrayBuffer.prototype.getState=function(){var e=c.prototype.getState.call(this);return e.buff=String.fromCharCode.apply(null,new Uint8Array(e.buff)),e},c.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var n,r=e.length,l=new ArrayBuffer(r),i=new Uint8Array(l);for(n=0;n<r;n+=1)i[n]=e.charCodeAt(n);return i}(e.buff),c.prototype.setState.call(this,e)},c.ArrayBuffer.prototype.destroy=c.prototype.destroy,c.ArrayBuffer.prototype._finish=c.prototype._finish,c.ArrayBuffer.hash=function(e,t){var r=o(function(e){var t,r,i,s,o,u,a=e.length,c=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=a;t+=64)n(c,l(e.subarray(t-64,t)));for(r=(e=t-64<a?e.subarray(t-64):new Uint8Array(0)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)i[t>>2]|=e[t]<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(n(c,i),t=0;t<16;t+=1)i[t]=0;return s=(s=8*a).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(s[2],16),u=parseInt(s[1],16)||0,i[14]=o,i[15]=u,n(c,i),c}(new Uint8Array(e)));return t?a(r):r},c}()},byjP:function(e,t,n){"use strict";function r(e,t,n){var r=n[n.length-1];e===r.element&&(n.pop(),r=n[n.length-1]);var l=r.element,i=r.index;Array.isArray(l)?l.push(e):i===t.length-2?l[t.pop()]=e:t.push(e)}t.stringify=function(e){var t=[];t.push({obj:e});for(var n,r,l,i,s,o,u,a,c,d="";n=t.pop();)if(r=n.obj,d+=n.prefix||"",l=n.val||"")d+=l;else if("object"!=typeof r)d+=void 0===r?null:JSON.stringify(r);else if(null===r)d+="null";else if(Array.isArray(r)){for(t.push({val:"]"}),i=r.length-1;i>=0;i--)t.push({obj:r[i],prefix:0===i?"":","});t.push({val:"["})}else{for(o in s=[],r)r.hasOwnProperty(o)&&s.push(o);for(t.push({val:"}"}),i=s.length-1;i>=0;i--)a=r[u=s[i]],c=i>0?",":"",c+=JSON.stringify(u)+":",t.push({obj:a,prefix:c});t.push({val:"{"})}return d},t.parse=function(e){for(var t,n,l,i,s,o,u,a,c,d=[],h=[],f=0;;)if("}"!==(t=e[f++])&&"]"!==t&&void 0!==t)switch(t){case" ":case"\t":case"\n":case":":case",":break;case"n":f+=3,r(null,d,h);break;case"t":f+=3,r(!0,d,h);break;case"f":f+=4,r(!1,d,h);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(n="",f--;;){if(l=e[f++],!/[\d\.\-e\+]/.test(l)){f--;break}n+=l}r(parseFloat(n),d,h);break;case'"':for(i="",s=void 0,o=0;'"'!==(u=e[f++])||"\\"===s&&o%2==1;)i+=u,"\\"===(s=u)?o++:o=0;r(JSON.parse('"'+i+'"'),d,h);break;case"[":d.push((a={element:[],index:d.length}).element),h.push(a);break;case"{":d.push((c={element:{},index:d.length}).element),h.push(c);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===d.length)return d.pop();r(d.pop(),d,h)}}},fVBe:function(e,t){e.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},kwZD:function(e,t){e.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},ky14:function(e,t,n){var r,l,i=n("+MFp"),s=n("26GY"),o=0,u=0;e.exports=function(e,t,n){var a=t&&n||0,c=t||[],d=(e=e||{}).node||r,h=void 0!==e.clockseq?e.clockseq:l;if(null==d||null==h){var f=i();null==d&&(d=r=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==h&&(h=l=16383&(f[6]<<8|f[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),g=void 0!==e.nsecs?e.nsecs:u+1,m=p-o+(g-u)/1e4;if(m<0&&void 0===e.clockseq&&(h=h+1&16383),(m<0||p>o)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");o=p,u=g,l=h;var v=(1e4*(268435455&(p+=122192928e5))+g)%4294967296;c[a++]=v>>>24&255,c[a++]=v>>>16&255,c[a++]=v>>>8&255,c[a++]=255&v;var y=p/4294967296*1e4&268435455;c[a++]=y>>>8&255,c[a++]=255&y,c[a++]=y>>>24&15|16,c[a++]=y>>>16&255,c[a++]=h>>>8|128,c[a++]=255&h;for(var b=0;b<6;++b)c[a+b]=d[b];return t||s(c)}},yBqk:function(e,t,n){var r=n("16OU"),l=n("zXlJ"),i=l;i.v1=r,i.v4=l,e.exports=i},yV8l:function(e,t){e.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},zUnb:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.r(t);let l=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){l=e},get useDeprecatedSynchronousErrorHandling(){return l}};function s(e){setTimeout(()=>{throw e})}const o={closed:!0,next(e){},error(e){if(i.useDeprecatedSynchronousErrorHandling)throw e;s(e)},complete(){}},u=Array.isArray||(e=>e&&"number"==typeof e.length);function a(e){return null!==e&&"object"==typeof e}function c(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}c.prototype=Object.create(Error.prototype);const d=c;let h=(()=>{class e{constructor(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}unsubscribe(){let e,t=!1;if(this.closed)return;let{_parent:n,_parents:l,_unsubscribe:i,_subscriptions:s}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let o=-1,c=l?l.length:0;for(;n;)n.remove(this),n=++o<c&&l[o]||null;if(r(i))try{i.call(this)}catch(h){t=!0,e=h instanceof d?f(h.errors):[h]}if(u(s))for(o=-1,c=s.length;++o<c;){const n=s[o];if(a(n))try{n.unsubscribe()}catch(h){t=!0,e=e||[],h instanceof d?e=e.concat(f(h.errors)):e.push(h)}}if(t)throw new d(e)}add(t){let n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){const t=n;(n=new e)._subscriptions=[t]}break;default:if(!t)return e.EMPTY;throw new Error("unrecognized teardown "+t+" added to Subscription.")}if(n._addParent(this)){const e=this._subscriptions;e?e.push(n):this._subscriptions=[n]}return n}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}_addParent(e){let{_parent:t,_parents:n}=this;return t!==e&&(t?n?-1===n.indexOf(e)&&(n.push(e),!0):(this._parents=[e],!0):(this._parent=e,!0))}}return e.EMPTY=function(e){return e.closed=!0,e}(new e),e})();function f(e){return e.reduce((e,t)=>e.concat(t instanceof d?t.errors:t),[])}const p="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class g extends h{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=o;break;case 1:if(!e){this.destination=o;break}if("object"==typeof e){e instanceof g?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,e,t,n)}}[p](){return this}static create(e,t,n){const r=new g(e,t,n);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:e,_parents:t}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this}}class m extends g{constructor(e,t,n,l){let i;super(),this._parentSubscriber=e;let s=this;r(t)?i=t:t&&(i=t.next,n=t.error,l=t.complete,t!==o&&(r((s=Object.create(t)).unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=i,this._error=n,this._complete=l}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;i.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=i;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):s(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;s(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);i.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),i.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(e,t,n){if(!i.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return i.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(s(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const v="function"==typeof Symbol&&Symbol.observable||"@@observable";function y(){}function b(...e){return _(e)}function _(e){return e?1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)}:y}let w=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:r}=this,l=function(e,t,n){if(e){if(e instanceof g)return e;if(e[p])return e[p]()}return e||t||n?new g(e,t,n):new g(o)}(e,t,n);if(l.add(r?r.call(l,this.source):this.source||i.useDeprecatedSynchronousErrorHandling&&!l.syncErrorThrowable?this._subscribe(l):this._trySubscribe(l)),i.useDeprecatedSynchronousErrorHandling&&l.syncErrorThrowable&&(l.syncErrorThrowable=!1,l.syncErrorThrown))throw l.syncErrorValue;return l}_trySubscribe(e){try{return this._subscribe(e)}catch(t){i.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:r}=e;if(t||r)return!1;e=n&&n instanceof g?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=C(t))((t,n)=>{let r;r=this.subscribe(t=>{try{e(t)}catch(l){n(l),r&&r.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[v](){return this}pipe(...e){return 0===e.length?this:_(e)(this)}toPromise(e){return new(e=C(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function C(e){if(e||(e=i.Promise||Promise),!e)throw new Error("no Promise impl found");return e}function k(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}k.prototype=Object.create(Error.prototype);const x=k;class S extends h{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}class E extends g{constructor(e){super(e),this.destination=e}}let D=(()=>{class e extends w{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new E(this)}lift(e){const t=new I(this,this);return t.operator=e,t}next(e){if(this.closed)throw new x;if(!this.isStopped){const{observers:t}=this,n=t.length,r=t.slice();for(let l=0;l<n;l++)r[l].next(e)}}error(e){if(this.closed)throw new x;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,r=t.slice();for(let l=0;l<n;l++)r[l].error(e);this.observers.length=0}complete(){if(this.closed)throw new x;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let r=0;r<t;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new x;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new x;return this.hasError?(e.error(this.thrownError),h.EMPTY):this.isStopped?(e.complete(),h.EMPTY):(this.observers.push(e),new S(this,e))}asObservable(){const e=new w;return e.source=this,e}}return e.create=(e,t)=>new I(e,t),e})();class I extends D{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):h.EMPTY}}function M(e){return e&&"function"==typeof e.schedule}class O extends g{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const F=e=>t=>{for(let n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.closed||t.complete()},A=e=>t=>(e.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,s),t);function T(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const P=T(),N=e=>t=>{const n=e[P]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t},R=e=>t=>{const n=e[v]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)},j=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function $(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const V=e=>{if(e instanceof w)return t=>e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t);if(e&&"function"==typeof e[v])return R(e);if(j(e))return F(e);if($(e))return A(e);if(e&&"function"==typeof e[P])return N(e);{const t=a(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}};function L(e,t,n,r,l=new O(e,n,r)){if(!l.closed)return V(t)(l)}class q extends g{notifyNext(e,t,n,r,l){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}function B(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new U(e,t))}}class U{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new H(e,this.project,this.thisArg))}}class H extends g{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function z(e,t){return new w(t?n=>{const r=new h;let l=0;return r.add(t.schedule(function(){l!==e.length?(n.next(e[l++]),n.closed||r.add(this.schedule())):n.complete()})),r}:F(e))}function W(e,t){if(!t)return e instanceof w?e:new w(V(e));if(null!=e){if(function(e){return e&&"function"==typeof e[v]}(e))return function(e,t){return new w(t?n=>{const r=new h;return r.add(t.schedule(()=>{const l=e[v]();r.add(l.subscribe({next(e){r.add(t.schedule(()=>n.next(e)))},error(e){r.add(t.schedule(()=>n.error(e)))},complete(){r.add(t.schedule(()=>n.complete()))}}))})),r}:R(e))}(e,t);if($(e))return function(e,t){return new w(t?n=>{const r=new h;return r.add(t.schedule(()=>e.then(e=>{r.add(t.schedule(()=>{n.next(e),r.add(t.schedule(()=>n.complete()))}))},e=>{r.add(t.schedule(()=>n.error(e)))}))),r}:A(e))}(e,t);if(j(e))return z(e,t);if(function(e){return e&&"function"==typeof e[P]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new w(t?n=>{const r=new h;let l;return r.add(()=>{l&&"function"==typeof l.return&&l.return()}),r.add(t.schedule(()=>{l=e[P](),r.add(t.schedule(function(){if(n.closed)return;let e,t;try{const i=l.next();e=i.value,t=i.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())}))})),r}:N(e))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function G(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?r=>r.pipe(G((n,r)=>W(e(n,r)).pipe(B((e,l)=>t(n,e,r,l))),n)):("number"==typeof t&&(n=t),t=>t.lift(new K(e,n)))}class K{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new Z(e,this.project,this.concurrent))}}class Z extends q{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)}_innerSub(e,t,n){const r=new O(this,void 0,void 0);this.destination.add(r),L(this,e,t,n,r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e,t,n,r,l){this.destination.next(t)}notifyComplete(e){const t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Q(e){return e}function J(e=Number.POSITIVE_INFINITY){return G(Q,e)}function X(...e){let t=Number.POSITIVE_INFINITY,n=null,r=e[e.length-1];return M(r)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof r&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof w?e[0]:J(t)(z(e,n))}function Y(){return function(e){return e.lift(new ee(e))}}class ee{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const r=new te(e,n),l=t.subscribe(r);return r.closed||(r.connection=n.connect()),l}}class te extends g{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}const ne=class extends w{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new h).add(this.source.subscribe(new le(this.getSubject(),this))),e.closed?(this._connection=null,e=h.EMPTY):this._connection=e),e}refCount(){return Y()(this)}}.prototype,re={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:ne._subscribe},_isComplete:{value:ne._isComplete,writable:!0},getSubject:{value:ne.getSubject},connect:{value:ne.connect},refCount:{value:ne.refCount}};class le extends E{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function ie(){return new D}const se="__parameters__";function oe(e,t,n){const r=function(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}(t);function l(...e){if(this instanceof l)return r.apply(this,e),this;const t=new l(...e);return n.annotation=t,n;function n(e,n,r){const l=e.hasOwnProperty(se)?e[se]:Object.defineProperty(e,se,{value:[]})[se];for(;l.length<=r;)l.push(null);return(l[r]=l[r]||[]).push(t),e}}return n&&(l.prototype=Object.create(n.prototype)),l.prototype.ngMetadataName=e,l.annotationCls=l,l}const ue=oe("Inject",e=>({token:e})),ae=oe("Optional"),ce=oe("Self"),de=oe("SkipSelf");var he=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function fe(e){for(let t in e)if(e[t]===fe)return t;throw Error("Could not find renamed property on target object.")}function pe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ge(e){const t=e[me];return t&&t.token===e?t:null}const me=fe({ngInjectableDef:fe});function ve(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(ve).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}const ye=fe({__forward_ref__:fe});function be(e){return e.__forward_ref__=be,e.toString=function(){return ve(this())},e}function _e(e){const t=e;return"function"==typeof t&&t.hasOwnProperty(ye)&&t.__forward_ref__===be?t():e}const we="undefined"!=typeof globalThis&&globalThis,Ce="undefined"!=typeof window&&window,ke="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,xe="undefined"!=typeof global&&global,Se=we||xe||Ce||ke;class Ee{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.ngInjectableDef=pe({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const De=new Ee("INJECTOR",-1),Ie=new Object,Me="ngTempTokenPath",Oe="ngTokenPath",Fe=/\n/gm,Ae="\u0275",Te="__source",Pe=fe({provide:String,useValue:fe});let Ne,Re=void 0;function je(e){const t=Re;return Re=e,t}function $e(e,t=he.Default){return(Ne||function(e,t=he.Default){if(void 0===Re)throw new Error("inject() must be called from an injection context");return null===Re?function(e,t,n){const r=ge(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&he.Optional)return null;throw new Error(`Injector: NOT_FOUND [${ve(e)}]`)}(e,0,t):Re.get(e,t&he.Optional?null:void 0,t)})(e,t)}class Ve{get(e,t=Ie){if(t===Ie){const t=new Error(`NullInjectorError: No provider for ${ve(e)}!`);throw t.name="NullInjectorError",t}return t}}function Le(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==Ae?e.substr(2):e;let l=ve(t);if(t instanceof Array)l=t.map(ve).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):ve(r)))}l=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${l}]: ${e.replace(Fe,"\n  ")}`}const qe=new Ee("The presence of this token marks an injector as being the root injector."),Be=function(e,t,n){return new Ze(e,t,n)};let Ue=(()=>{class e{static create(e,t){return Array.isArray(e)?Be(e,t,""):Be(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=Ie,e.NULL=new Ve,e.ngInjectableDef=pe({token:e,providedIn:"any",factory:()=>$e(De)}),e.__NG_ELEMENT_ID__=-1,e})();const He=function(e){return e},ze=[],We=He,Ge=function(){return Array.prototype.slice.call(arguments)},Ke="\u0275";class Ze{constructor(e,t=Ue.NULL,n=null){this.parent=t,this.source=n;const r=this._records=new Map;r.set(Ue,{token:Ue,fn:He,deps:ze,value:this,useNew:!1}),r.set(De,{token:De,fn:He,deps:ze,value:this,useNew:!1}),function e(t,n){if(n)if((n=_e(n))instanceof Array)for(let r=0;r<n.length;r++)e(t,n[r]);else{if("function"==typeof n)throw Je("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Je("Unexpected provider",n);{let e=_e(n.provide);const r=function(e){const t=function(e){let t=ze;const n=e.deps;if(n&&n.length){t=[];for(let e=0;e<n.length;e++){let r=6,l=_e(n[e]);if(l instanceof Array)for(let e=0,t=l;e<t.length;e++){const n=t[e];n instanceof ae||n==ae?r|=1:n instanceof de||n==de?r&=-3:n instanceof ce||n==ce?r&=-5:l=n instanceof ue?n.token:_e(n)}t.push({token:l,options:r})}}else if(e.useExisting)t=[{token:_e(e.useExisting),options:6}];else if(!(n||Pe in e))throw Je("'deps' required",e);return t}(e);let n=He,r=ze,l=!1,i=_e(e.provide);if(Pe in e)r=e.useValue;else if(e.useFactory)n=e.useFactory;else if(e.useExisting);else if(e.useClass)l=!0,n=_e(e.useClass);else{if("function"!=typeof i)throw Je("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",e);l=!0,n=i}return{deps:t,fn:n,useNew:l,value:r}}(n);if(!0===n.multi){let r=t.get(e);if(r){if(r.fn!==Ge)throw Qe(e)}else t.set(e,r={token:n.provide,deps:[],useNew:!1,fn:Ge,value:ze});r.deps.push({token:e=n,options:6})}const l=t.get(e);if(l&&l.fn==Ge)throw Qe(e);t.set(e,r)}}}(r,e)}get(e,t,n=he.Default){const r=this._records.get(e);try{return function e(t,n,r,l,i,s){try{return function(t,n,r,l,i,s){let o;if(!n||s&he.SkipSelf)s&he.Self||(o=l.get(t,i,he.Default));else{if((o=n.value)==We)throw Error(Ke+"Circular dependency");if(o===ze){n.value=We;let t=void 0,i=n.useNew,s=n.fn,u=n.deps,a=ze;if(u.length){a=[];for(let t=0;t<u.length;t++){const n=u[t],i=n.options,s=2&i?r.get(n.token):void 0;a.push(e(n.token,s,r,s||4&i?l:Ue.NULL,1&i?null:Ue.THROW_IF_NOT_FOUND,he.Default))}}n.value=o=i?new s(...a):s.apply(t,a)}}return o}(t,n,r,l,i,s)}catch(o){throw o instanceof Error||(o=new Error(o)),(o[Me]=o[Me]||[]).unshift(t),n&&n.value==We&&(n.value=ze),o}}(e,r,this._records,this.parent,t,n)}catch(l){return function(e,t,n,r){const l=e[Me];throw t[Te]&&l.unshift(t[Te]),e.message=Le("\n"+e.message,l,"StaticInjectorError",r),e[Oe]=l,e[Me]=null,e}(l,e,0,this.source)}}toString(){const e=[];return this._records.forEach((t,n)=>e.push(ve(n))),`StaticInjector[${e.join(", ")}]`}}function Qe(e){return Je("Cannot mix multi providers and regular providers",e)}function Je(e,t){return new Error(Le(e,t,"StaticInjectorError"))}const Xe="ngDebugContext",Ye="ngOriginalError",et="ngErrorLogger",tt=new Ee("AnalyzeForEntryComponents"),nt=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),rt=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Se))();let lt=!0,it=!1;function st(){return it=!0,lt}class ot{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(r){return null}const t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);const n=t.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(e){e="<body><remove></remove>"+e+"</body>";try{const n=(new window.DOMParser).parseFromString(e,"text/html").body;return n.removeChild(n.firstChild),n}catch(t){return null}}getInertBodyElement_InertDocument(e){const t=this.inertDocument.createElement("template");return"content"in t?(t.innerHTML=e,t):(this.inertBodyElement.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const n=t.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const ut=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,at=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ct(e){return(e=String(e)).match(ut)||e.match(at)?e:(st()&&console.warn(`WARNING: sanitizing unsafe URL value ${e} (see http://g.co/ng/security#xss)`),"unsafe:"+e)}function dt(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function ht(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const ft=dt("area,br,col,hr,img,wbr"),pt=dt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),gt=dt("rp,rt"),mt=ht(gt,pt),vt=ht(ft,ht(pt,dt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ht(gt,dt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),mt),yt=dt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),bt=dt("srcset"),_t=ht(yt,bt,dt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),dt("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),wt=dt("script,style,template");class Ct{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!vt.hasOwnProperty(t))return this.sanitizedSomething=!0,!wt.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let l=0;l<n.length;l++){const e=n.item(l),t=e.name,i=t.toLowerCase();if(!_t.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let s=e.value;yt[i]&&(s=ct(s)),bt[i]&&(r=s,s=(r=String(r)).split(",").map(e=>ct(e.trim())).join(", ")),this.buf.push(" ",t,'="',St(s),'"')}var r;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();vt.hasOwnProperty(t)&&!ft.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(St(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const kt=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,xt=/([^\#-~ |!])/g;function St(e){return e.replace(/&/g,"&amp;").replace(kt,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(xt,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Et;function Dt(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}const It=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}();class Mt{}const Ot=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Ft=/^url\(([^)]+)\)$/;function At(e){return e[Xe]}function Tt(e){return e[Ye]}function Pt(e,...t){e.error(...t)}class Nt{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e[et]||Pt}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?At(e)?At(e):this._findContext(Tt(e)):null}_findOriginalError(e){let t=Tt(e);for(;t&&Tt(t);)t=Tt(t);return t}}const Rt=/([A-Z])/g;function jt(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return"[ERROR] Exception while trying to serialize the value"}}let $t=null;function Vt(){if(!$t){const e=Se.Symbol;if(e&&e.iterator)$t=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&($t=n)}}}return $t}function Lt(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function qt(e,t){const n=Ut(e),r=Ut(t);if(n&&r)return function(e,t,n){const r=e[Vt()](),l=t[Vt()]();for(;;){const e=r.next(),t=l.next();if(e.done&&t.done)return!0;if(e.done||t.done)return!1;if(!n(e.value,t.value))return!1}}(e,t,qt);{const l=e&&("object"==typeof e||"function"==typeof e),i=t&&("object"==typeof t||"function"==typeof t);return!(n||!l||r||!i)||Lt(e,t)}}class Bt{constructor(e){this.wrapped=e}static wrap(e){return new Bt(e)}static unwrap(e){return Bt.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof Bt}}function Ut(e){return!!Ht(e)&&(Array.isArray(e)||!(e instanceof Map)&&Vt()in e)}function Ht(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function zt(e){return!!e&&"function"==typeof e.then}function Wt(e){return!!e&&"function"==typeof e.subscribe}class Gt{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}class Kt{}class Zt{}function Qt(e){const t=Error(`No component factory found for ${ve(e)}. Did you add it to @NgModule.entryComponents?`);return t[Jt]=e,t}const Jt="ngComponent";class Xt{resolveComponentFactory(e){throw Qt(e)}}let Yt=(()=>{class e{}return e.NULL=new Xt,e})();class en{constructor(e,t,n){this._parent=t,this._ngModule=n,this._factories=new Map;for(let r=0;r<e.length;r++){const t=e[r];this._factories.set(t.componentType,t)}}resolveComponentFactory(e){let t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw Qt(e);return new tn(t,this._ngModule)}}class tn extends Zt{constructor(e,t){super(),this.factory=e,this.ngModule=t,this.selector=e.selector,this.componentType=e.componentType,this.ngContentSelectors=e.ngContentSelectors,this.inputs=e.inputs,this.outputs=e.outputs}create(e,t,n,r){return this.factory.create(e,t,n,r||this.ngModule)}}class nn{}class rn{}function ln(...e){}let sn=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=()=>on(e),e})();const on=ln;class un{}class an{}const cn=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}();let dn=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>hn(),e})();const hn=ln;class fn{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const pn=new fn("8.1.1");class gn{constructor(){}supports(e){return Ut(e)}create(e){return new vn(e)}}const mn=(e,t)=>t;class vn{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||mn}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,l=null;for(;t||n;){const i=!n||t&&t.currentIndex<wn(n,r,l)?t:n,s=wn(i,r,l),o=i.currentIndex;if(i===n)r--,n=n._nextRemoved;else if(t=t._next,null==i.previousIndex)r++;else{l||(l=[]);const e=s-r,t=o-r;if(e!=t){for(let n=0;n<e;n++){const r=n<l.length?l[n]:l[n]=0,i=r+n;t<=i&&i<e&&(l[n]=r+1)}l[i.previousIndex]=t-e}}s!==o&&e(i,s,o)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Ut(e))throw new Error(`Error trying to diff '${ve(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,l=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)r=this._trackByFn(t,n=e[t]),null!==l&&Lt(l.trackById,r)?(i&&(l=this._verifyReinsertion(l,n,r,t)),Lt(l.item,n)||this._addIdentityChange(l,n)):(l=this._mismatch(l,n,r,t),i=!0),l=l._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Vt()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,e=>{r=this._trackByFn(t,e),null!==l&&Lt(l.trackById,r)?(i&&(l=this._verifyReinsertion(l,e,r,t)),Lt(l.item,e)||this._addIdentityChange(l,e)):(l=this._mismatch(l,e,r,t),i=!0),l=l._next,t++}),this.length=t;return this._truncate(l),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let l;return null===e?l=this._itTail:(l=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Lt(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,l,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Lt(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,l,r)):e=this._addAfter(new yn(t,n),l,r),e}_verifyReinsertion(e,t,n,r){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==l?e=this._reinsertAfter(l,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,l=e._nextRemoved;return null===r?this._removalsHead=l:r._nextRemoved=l,null===l?this._removalsTail=r:l._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new _n),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t?e:(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e,e)}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _n),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class yn{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bn{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Lt(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class _n{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new bn,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function wn(e,t,n){const r=e.previousIndex;if(null===r)return r;let l=0;return n&&r<n.length&&(l=n[r]),r+t+l}class Cn{constructor(){}supports(e){return e instanceof Map||Ht(e)}create(){return new kn}}class kn{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Ht(e)))throw new Error(`Error trying to diff '${ve(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,l=n._next;return r&&(r._next=l),l&&(l._prev=r),n._next=null,n._prev=null,n}const n=new xn(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Lt(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class xn{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Sn=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new de,new ae]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.ngInjectableDef=pe({token:e,providedIn:"root",factory:()=>new e([new gn])}),e})(),En=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new de,new ae]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.ngInjectableDef=pe({token:e,providedIn:"root",factory:()=>new e([new Cn])}),e})(),Dn=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>In(),e})();const In=(...e)=>{},Mn=[new Cn],On=new Sn([new gn]),Fn=new En(Mn);let An=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Tn(e,sn),e})();const Tn=ln;let Pn=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Nn(e,sn),e})();const Nn=ln;function Rn(e,t,n,r){let l=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${t}'. Current value: '${n}'.`;return r&&(l+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){const n=new Error(e);return jn(n,t),n}(l,e)}function jn(e,t){e[Xe]=t,e[et]=t.logError.bind(t)}function $n(e){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${e}`)}function Vn(e,t,n){const r=e.state,l=1792&r;return l===t?(e.state=-1793&r|n,e.initIndex=-1,!0):l===n}function Ln(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function qn(e,t){return e.nodes[t]}function Bn(e,t){return e.nodes[t]}function Un(e,t){return e.nodes[t]}function Hn(e,t){return e.nodes[t]}function zn(e,t){return e.nodes[t]}const Wn={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Gn=()=>{},Kn=new Map;function Zn(e){let t=Kn.get(e);return t||(t=ve(e)+"_"+Kn.size,Kn.set(e,t)),t}const Qn="$$undefined",Jn="$$empty";function Xn(e){return{id:Qn,styles:e.styles,encapsulation:e.encapsulation,data:e.data}}let Yn=0;function er(e,t,n,r){return!(!(2&e.state)&&Lt(e.oldValues[t.bindingIndex+n],r))}function tr(e,t,n,r){return!!er(e,t,n,r)&&(e.oldValues[t.bindingIndex+n]=r,!0)}function nr(e,t,n,r){const l=e.oldValues[t.bindingIndex+n];if(1&e.state||!qt(l,r)){const i=t.bindings[n].name;throw Rn(Wn.createDebugContext(e,t.nodeIndex),`${i}: ${l}`,`${i}: ${r}`,0!=(1&e.state))}}function rr(e){let t=e;for(;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function lr(e,t){let n=e;for(;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function ir(e,t,n,r){try{return rr(33554432&e.def.nodes[t].flags?Bn(e,t).componentView:e),Wn.handleEvent(e,t,n,r)}catch(l){e.root.errorHandler.handleError(l)}}function sr(e){return e.parent?Bn(e.parent,e.parentNodeDef.nodeIndex):null}function or(e){return e.parent?e.parentNodeDef.parent:null}function ur(e,t){switch(201347067&t.flags){case 1:return Bn(e,t.nodeIndex).renderElement;case 2:return qn(e,t.nodeIndex).renderText}}function ar(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function cr(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function dr(e){return 1<<e%32}function hr(e){const t={};let n=0;const r={};return e&&e.forEach(([e,l])=>{"number"==typeof e?(t[e]=l,n|=dr(e)):r[e]=l}),{matchedQueries:t,references:r,matchedQueryIds:n}}function fr(e,t){return e.map(e=>{let n,r;return Array.isArray(e)?[r,n]=e:(r=0,n=e),n&&("function"==typeof n||"object"==typeof n)&&t&&Object.defineProperty(n,Te,{value:t,configurable:!0}),{flags:r,token:n,tokenKey:Zn(n)}})}function pr(e,t,n){let r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===nt.Native?Bn(e,n.renderParent.nodeIndex).renderElement:void 0:t}const gr=new WeakMap;function mr(e){let t=gr.get(e);return t||((t=e(()=>Gn)).factory=e,gr.set(e,t)),t}function vr(e,t,n,r,l){3===t&&(n=e.renderer.parentNode(ur(e,e.def.lastRenderRootNode))),yr(e,t,0,e.def.nodes.length-1,n,r,l)}function yr(e,t,n,r,l,i,s){for(let o=n;o<=r;o++){const n=e.def.nodes[o];11&n.flags&&_r(e,n,t,l,i,s),o+=n.childCount}}function br(e,t,n,r,l,i){let s=e;for(;s&&!ar(s);)s=s.parent;const o=s.parent,u=or(s),a=u.nodeIndex+u.childCount;for(let c=u.nodeIndex+1;c<=a;c++){const e=o.def.nodes[c];e.ngContentIndex===t&&_r(o,e,n,r,l,i),c+=e.childCount}if(!o.parent){const s=e.root.projectableNodes[t];if(s)for(let t=0;t<s.length;t++)wr(e,s[t],n,r,l,i)}}function _r(e,t,n,r,l,i){if(8&t.flags)br(e,t.ngContent.index,n,r,l,i);else{const s=ur(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&wr(e,s,n,r,l,i),32&t.bindingFlags&&wr(Bn(e,t.nodeIndex).componentView,s,n,r,l,i)):wr(e,s,n,r,l,i),16777216&t.flags){const s=Bn(e,t.nodeIndex).viewContainer._embeddedViews;for(let e=0;e<s.length;e++)vr(s[e],n,r,l,i)}1&t.flags&&!t.element.name&&yr(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,r,l,i)}}function wr(e,t,n,r,l,i){const s=e.renderer;switch(n){case 1:s.appendChild(r,t);break;case 2:s.insertBefore(r,t,l);break;case 3:s.removeChild(r,t);break;case 0:i.push(t)}}const Cr=/^:([^:]+):(.+)$/;function kr(e){if(":"===e[0]){const t=e.match(Cr);return[t[1],t[2]]}return["",e]}function xr(e){let t=0;for(let n=0;n<e.length;n++)t|=e[n].flags;return t}function Sr(e,t,n,r,l,i,s,o,u,a,c,d,h,f,p,g,m,v,y,b){switch(e){case 1:return t+Er(n)+r;case 2:return t+Er(n)+r+Er(l)+i;case 3:return t+Er(n)+r+Er(l)+i+Er(s)+o;case 4:return t+Er(n)+r+Er(l)+i+Er(s)+o+Er(u)+a;case 5:return t+Er(n)+r+Er(l)+i+Er(s)+o+Er(u)+a+Er(c)+d;case 6:return t+Er(n)+r+Er(l)+i+Er(s)+o+Er(u)+a+Er(c)+d+Er(h)+f;case 7:return t+Er(n)+r+Er(l)+i+Er(s)+o+Er(u)+a+Er(c)+d+Er(h)+f+Er(p)+g;case 8:return t+Er(n)+r+Er(l)+i+Er(s)+o+Er(u)+a+Er(c)+d+Er(h)+f+Er(p)+g+Er(m)+v;case 9:return t+Er(n)+r+Er(l)+i+Er(s)+o+Er(u)+a+Er(c)+d+Er(h)+f+Er(p)+g+Er(m)+v+Er(y)+b;default:throw new Error("Does not support more than 9 expressions")}}function Er(e){return null!=e?e.toString():""}const Dr=new Object,Ir=Zn(Ue),Mr=Zn(De),Or=Zn(nn);function Fr(e,t,n,r){return n=_e(n),{index:-1,deps:fr(r,ve(t)),flags:e,token:t,value:n}}function Ar(e,t,n=Ue.THROW_IF_NOT_FOUND){const r=je(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(n=null),1&t.flags)return e._parent.get(t.token,n);const s=t.tokenKey;switch(s){case Ir:case Mr:case Or:return e}const o=e._def.providersByKey[s];let u;if(o){let t=e._providers[o.index];return void 0===t&&(t=e._providers[o.index]=Tr(e,o)),t===Dr?void 0:t}if((u=ge(t.token))&&(l=e,null!=(i=u).providedIn&&(function(e,t){return e._def.modules.indexOf(i.providedIn)>-1}(l)||"root"===i.providedIn&&l._def.isRoot))){const n=e._providers.length;return e._def.providers[n]=e._def.providersByKey[t.tokenKey]={flags:5120,value:u.factory,deps:[],index:n,token:t.token},e._providers[n]=Dr,e._providers[n]=Tr(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?n:e._parent.get(t.token,n)}finally{je(r)}var l,i}function Tr(e,t){let n;switch(201347067&t.flags){case 512:n=function(e,t,n){const r=n.length;switch(r){case 0:return new t;case 1:return new t(Ar(e,n[0]));case 2:return new t(Ar(e,n[0]),Ar(e,n[1]));case 3:return new t(Ar(e,n[0]),Ar(e,n[1]),Ar(e,n[2]));default:const l=new Array(r);for(let t=0;t<r;t++)l[t]=Ar(e,n[t]);return new t(...l)}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){const r=n.length;switch(r){case 0:return t();case 1:return t(Ar(e,n[0]));case 2:return t(Ar(e,n[0]),Ar(e,n[1]));case 3:return t(Ar(e,n[0]),Ar(e,n[1]),Ar(e,n[2]));default:const l=Array(r);for(let t=0;t<r;t++)l[t]=Ar(e,n[t]);return t(...l)}}(e,t.value,t.deps);break;case 2048:n=Ar(e,t.deps[0]);break;case 256:n=t.value}return n===Dr||null===n||"object"!=typeof n||131072&t.flags||"function"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?Dr:n}function Pr(e,t){const n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;const r=n[t];return r.viewContainerParent=null,$r(n,t),Wn.dirtyParentQueries(r),Rr(r),r}function Nr(e,t,n){const r=t?ur(t,t.def.lastRenderRootNode):e.renderElement,l=n.renderer.parentNode(r),i=n.renderer.nextSibling(r);vr(n,2,l,i,void 0)}function Rr(e){vr(e,3,null,null,void 0)}function jr(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function $r(e,t){t>=e.length-1?e.pop():e.splice(t,1)}const Vr=new Object;function Lr(e,t,n,r,l,i){return new qr(e,t,n,r,l,i)}class qr extends Zt{constructor(e,t,n,r,l,i){super(),this.selector=e,this.componentType=t,this._inputs=r,this._outputs=l,this.ngContentSelectors=i,this.viewDefFactory=n}get inputs(){const e=[],t=this._inputs;for(let n in t)e.push({propName:n,templateName:t[n]});return e}get outputs(){const e=[];for(let t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e}create(e,t,n,r){if(!r)throw new Error("ngModule should be provided");const l=mr(this.viewDefFactory),i=l.nodes[0].element.componentProvider.nodeIndex,s=Wn.createRootView(e,t||[],n,l,r,Vr),o=Un(s,i).instance;return n&&s.renderer.setAttribute(Bn(s,0).renderElement,"ng-version",pn.full),new Br(s,new Wr(s),o)}}class Br extends Kt{constructor(e,t,n){super(),this._view=e,this._viewRef=t,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=t,this.changeDetectorRef=t,this.instance=n}get location(){return new sn(Bn(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new Qr(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(e){this._viewRef.onDestroy(e)}}function Ur(e,t,n){return new Hr(e,t,n)}class Hr{constructor(e,t,n){this._view=e,this._elDef=t,this._data=n,this._embeddedViews=[]}get element(){return new sn(this._data.renderElement)}get injector(){return new Qr(this._view,this._elDef)}get parentInjector(){let e=this._view,t=this._elDef.parent;for(;!t&&e;)t=or(e),e=e.parent;return e?new Qr(e,t):new Qr(this._view,null)}clear(){for(let e=this._embeddedViews.length-1;e>=0;e--){const t=Pr(this._data,e);Wn.destroyView(t)}}get(e){const t=this._embeddedViews[e];if(t){const e=new Wr(t);return e.attachToViewContainerRef(this),e}return null}get length(){return this._embeddedViews.length}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,l){const i=n||this.parentInjector;l||e instanceof tn||(l=i.get(nn));const s=e.create(i,r,void 0,l);return this.insert(s.hostView,t),s}insert(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=e;return function(e,t,n,r){let l=t.viewContainer._embeddedViews;null==n&&(n=l.length),r.viewContainerParent=e,jr(l,n,r),function(e,t){const n=sr(t);if(!n||n===e||16&t.state)return;t.state|=16;let r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(t),function(e,n){if(4&n.flags)return;t.parent.def.nodeFlags|=4,n.flags|=4;let r=n.parent;for(;r;)r.childFlags|=4,r=r.parent}(0,t.parentNodeDef)}(t,r),Wn.dirtyParentQueries(r),Nr(t,n>0?l[n-1]:null,r)}(this._view,this._data,t,n._view),n.attachToViewContainerRef(this),e}move(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(e._view);return function(e,t,r){const l=e.viewContainer._embeddedViews,i=l[n];$r(l,n),null==r&&(r=l.length),jr(l,r,i),Wn.dirtyParentQueries(i),Rr(i),Nr(e,r>0?l[r-1]:null,i)}(this._data,0,t),e}indexOf(e){return this._embeddedViews.indexOf(e._view)}remove(e){const t=Pr(this._data,e);t&&Wn.destroyView(t)}detach(e){const t=Pr(this._data,e);return t?new Wr(t):null}}function zr(e){return new Wr(e)}class Wr{constructor(e){this._view=e,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(e){const t=[];return vr(e,0,void 0,void 0,t),t}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){rr(this._view)}detach(){this._view.state&=-5}detectChanges(){const e=this._view.root.rendererFactory;e.begin&&e.begin();try{Wn.checkAndUpdateView(this._view)}finally{e.end&&e.end()}}checkNoChanges(){Wn.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Wn.destroyView(this._view)}detachFromAppRef(){this._appRef=null,Rr(this._view),Wn.dirtyParentQueries(this._view)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}}function Gr(e,t){return new Kr(e,t)}class Kr extends An{constructor(e,t){super(),this._parentView=e,this._def=t}createEmbeddedView(e){return new Wr(Wn.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))}get elementRef(){return new sn(Bn(this._parentView,this._def.nodeIndex).renderElement)}}function Zr(e,t){return new Qr(e,t)}class Qr{constructor(e,t){this.view=e,this.elDef=t}get(e,t=Ue.THROW_IF_NOT_FOUND){return Wn.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:Zn(e)},t)}}function Jr(e,t){const n=e.def.nodes[t];if(1&n.flags){const t=Bn(e,n.nodeIndex);return n.element.template?t.template:t.renderElement}if(2&n.flags)return qn(e,n.nodeIndex).renderText;if(20240&n.flags)return Un(e,n.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${t}`)}function Xr(e){return new Yr(e.renderer)}class Yr{constructor(e){this.delegate=e}selectRootElement(e){return this.delegate.selectRootElement(e)}createElement(e,t){const[n,r]=kr(t),l=this.delegate.createElement(r,n);return e&&this.delegate.appendChild(e,l),l}createViewRoot(e){return e}createTemplateAnchor(e){const t=this.delegate.createComment("");return e&&this.delegate.appendChild(e,t),t}createText(e,t){const n=this.delegate.createText(t);return e&&this.delegate.appendChild(e,n),n}projectNodes(e,t){for(let n=0;n<t.length;n++)this.delegate.appendChild(e,t[n])}attachViewAfter(e,t){const n=this.delegate.parentNode(e),r=this.delegate.nextSibling(e);for(let l=0;l<t.length;l++)this.delegate.insertBefore(n,t[l],r)}detachView(e){for(let t=0;t<e.length;t++){const n=e[t],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}destroyView(e,t){for(let n=0;n<t.length;n++)this.delegate.destroyNode(t[n])}listen(e,t,n){return this.delegate.listen(e,t,n)}listenGlobal(e,t,n){return this.delegate.listen(e,t,n)}setElementProperty(e,t,n){this.delegate.setProperty(e,t,n)}setElementAttribute(e,t,n){const[r,l]=kr(t);null!=n?this.delegate.setAttribute(e,l,n,r):this.delegate.removeAttribute(e,l,r)}setBindingDebugInfo(e,t,n){}setElementClass(e,t,n){n?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)}setElementStyle(e,t,n){null!=n?this.delegate.setStyle(e,t,n):this.delegate.removeStyle(e,t)}invokeElementMethod(e,t,n){e[t].apply(e,n)}setText(e,t){this.delegate.setValue(e,t)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function el(e,t,n,r){return new tl(e,t,n,r)}class tl{constructor(e,t,n,r){this._moduleType=e,this._parent=t,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){const t=e._def,n=e._providers=new Array(t.providers.length);for(let r=0;r<t.providers.length;r++){const l=t.providers[r];4096&l.flags||void 0===n[r]&&(n[r]=Tr(e,l))}}(this)}get(e,t=Ue.THROW_IF_NOT_FOUND,n=he.Default){let r=0;return n&he.SkipSelf?r|=1:n&he.Self&&(r|=4),Ar(this,{token:e,tokenKey:Zn(e),flags:r},t)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(Yt)}destroy(){if(this._destroyed)throw new Error(`The ng module ${ve(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(e,t){const n=e._def,r=new Set;for(let l=0;l<n.providers.length;l++)if(131072&n.providers[l].flags){const t=e._providers[l];if(t&&t!==Dr){const e=t.ngOnDestroy;"function"!=typeof e||r.has(t)||(e.apply(t),r.add(t))}}}(this),this._destroyListeners.forEach(e=>e())}onDestroy(e){this._destroyListeners.push(e)}}const nl=Zn(un),rl=Zn(dn),ll=Zn(sn),il=Zn(Pn),sl=Zn(An),ol=Zn(Dn),ul=Zn(Ue),al=Zn(De);function cl(e,t,n,r,l,i,s,o){const u=[];if(s)for(let c in s){const[e,t]=s[c];u[e]={flags:8,name:c,nonMinifiedName:t,ns:null,securityContext:null,suffix:null}}const a=[];if(o)for(let c in o)a.push({type:1,propName:c,target:null,eventName:o[c]});return hl(e,t|=16384,n,r,l,l,i,u,a)}function dl(e,t,n,r,l){return hl(-1,e,t,0,n,r,l)}function hl(e,t,n,r,l,i,s,o,u){const{matchedQueries:a,references:c,matchedQueryIds:d}=hr(n);u||(u=[]),o||(o=[]),i=_e(i);const h=fr(s,ve(l));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a,matchedQueryIds:d,references:c,ngContentIndex:-1,childCount:r,bindings:o,bindingFlags:xr(o),outputs:u,element:null,provider:{token:l,value:i,deps:h},text:null,query:null,ngContent:null}}function fl(e,t){return vl(e,t)}function pl(e,t){let n=e;for(;n.parent&&!ar(n);)n=n.parent;return yl(n.parent,or(n),!0,t.provider.value,t.provider.deps)}function gl(e,t){const n=yl(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(let r=0;r<t.outputs.length;r++){const l=t.outputs[r],i=n[l.propName];if(!Wt(i))throw new Error(`@Output ${l.propName} not initialized in '${n.constructor.name}'.`);{const n=i.subscribe(ml(e,t.parent.nodeIndex,l.eventName));e.disposables[t.outputIndex+r]=n.unsubscribe.bind(n)}}return n}function ml(e,t,n){return r=>ir(e,t,n,r)}function vl(e,t){const n=(8192&t.flags)>0,r=t.provider;switch(201347067&t.flags){case 512:return yl(e,t.parent,n,r.value,r.deps);case 1024:return function(e,t,n,r,l){const i=l.length;switch(i){case 0:return r();case 1:return r(_l(e,t,n,l[0]));case 2:return r(_l(e,t,n,l[0]),_l(e,t,n,l[1]));case 3:return r(_l(e,t,n,l[0]),_l(e,t,n,l[1]),_l(e,t,n,l[2]));default:const s=Array(i);for(let r=0;r<i;r++)s[r]=_l(e,t,n,l[r]);return r(...s)}}(e,t.parent,n,r.value,r.deps);case 2048:return _l(e,t.parent,n,r.deps[0]);case 256:return r.value}}function yl(e,t,n,r,l){const i=l.length;switch(i){case 0:return new r;case 1:return new r(_l(e,t,n,l[0]));case 2:return new r(_l(e,t,n,l[0]),_l(e,t,n,l[1]));case 3:return new r(_l(e,t,n,l[0]),_l(e,t,n,l[1]),_l(e,t,n,l[2]));default:const s=new Array(i);for(let r=0;r<i;r++)s[r]=_l(e,t,n,l[r]);return new r(...s)}}const bl={};function _l(e,t,n,r,l=Ue.THROW_IF_NOT_FOUND){if(8&r.flags)return r.token;const i=e;2&r.flags&&(l=null);const s=r.tokenKey;s===ol&&(n=!(!t||!t.element.componentView)),t&&1&r.flags&&(n=!1,t=t.parent);let o=e;for(;o;){if(t)switch(s){case nl:return Xr(wl(o,t,n));case rl:return wl(o,t,n).renderer;case ll:return new sn(Bn(o,t.nodeIndex).renderElement);case il:return Bn(o,t.nodeIndex).viewContainer;case sl:if(t.element.template)return Bn(o,t.nodeIndex).template;break;case ol:return zr(wl(o,t,n));case ul:case al:return Zr(o,t);default:const e=(n?t.element.allProviders:t.element.publicProviders)[s];if(e){let t=Un(o,e.nodeIndex);return t||(t={instance:vl(o,e)},o.nodes[e.nodeIndex]=t),t.instance}}n=ar(o),t=or(o),o=o.parent,4&r.flags&&(o=null)}const u=i.root.injector.get(r.token,bl);return u!==bl||l===bl?u:i.root.ngModule.injector.get(r.token,l)}function wl(e,t,n){let r;if(n)r=Bn(e,t.nodeIndex).componentView;else for(r=e;r.parent&&!ar(r);)r=r.parent;return r}function Cl(e,t,n,r,l,i){if(32768&n.flags){const t=Bn(e,n.parent.nodeIndex).componentView;2&t.def.flags&&(t.state|=8)}if(t.instance[n.bindings[r].name]=l,524288&n.flags){i=i||{};const t=Bt.unwrap(e.oldValues[n.bindingIndex+r]);i[n.bindings[r].nonMinifiedName]=new Gt(t,l,0!=(2&e.state))}return e.oldValues[n.bindingIndex+r]=l,i}function kl(e,t){if(!(e.def.nodeFlags&t))return;const n=e.def.nodes;let r=0;for(let l=0;l<n.length;l++){const i=n[l];let s=i.parent;for(!s&&i.flags&t&&Sl(e,l,i.flags&t,r++),0==(i.childFlags&t)&&(l+=i.childCount);s&&1&s.flags&&l===s.nodeIndex+s.childCount;)s.directChildFlags&t&&(r=xl(e,s,t,r)),s=s.parent}}function xl(e,t,n,r){for(let l=t.nodeIndex+1;l<=t.nodeIndex+t.childCount;l++){const t=e.def.nodes[l];t.flags&n&&Sl(e,l,t.flags&n,r++),l+=t.childCount}return r}function Sl(e,t,n,r){const l=Un(e,t);if(!l)return;const i=l.instance;i&&(Wn.setCurrentNode(e,t),1048576&n&&Ln(e,512,r)&&i.ngAfterContentInit(),2097152&n&&i.ngAfterContentChecked(),4194304&n&&Ln(e,768,r)&&i.ngAfterViewInit(),8388608&n&&i.ngAfterViewChecked(),131072&n&&i.ngOnDestroy())}const El=new Ee("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>rt}),Dl={},Il=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}(),Ml=void 0;var Ol=["en",[["a","p"],["AM","PM"],Ml],[["AM","PM"],Ml,Ml],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ml,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ml,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ml,"{1} 'at' {0}",Ml],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];function Fl(e){const t=e.toLowerCase().replace(/_/g,"-");let n=Dl[t];if(n)return n;const r=t.split("-")[0];if(n=Dl[r])return n;if("en"===r)return Ol;throw new Error(`Missing locale data for the locale "${e}".`)}let Al="en-US";class Tl extends D{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let r,l=e=>null,i=()=>null;e&&"object"==typeof e?(r=this.__isAsync?t=>{setTimeout(()=>e.next(t))}:t=>{e.next(t)},e.error&&(l=this.__isAsync?t=>{setTimeout(()=>e.error(t))}:t=>{e.error(t)}),e.complete&&(i=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(r=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)},t&&(l=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)}),n&&(i=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const s=super.subscribe(r,l,i);return e instanceof h&&e.add(s),s}}function Pl(){return this._results[Vt()]()}class Nl{constructor(){this.dirty=!0,this._results=[],this.changes=new Tl,this.length=0;const e=Vt(),t=Nl.prototype;t[e]||(t[e]=Pl)}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e){this._results=function e(t,n){void 0===n&&(n=t);for(let r=0;r<t.length;r++){let l=t[r];Array.isArray(l)?(n===t&&(n=t.slice(0,r)),e(l,n)):n!==t&&n.push(l)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const Rl=new Ee("Application Initializer");let jl=(()=>(class{constructor(e){this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();zt(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}))();const $l=new Ee("AppId");function Vl(){return`${Ll()}${Ll()}${Ll()}`}function Ll(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ql=new Ee("Platform Initializer"),Bl=new Ee("Platform ID"),Ul=new Ee("appBootstrapListener");let Hl=(()=>(class{log(e){console.log(e)}warn(e){console.warn(e)}}))();const zl=new Ee("LocaleId");function Wl(){throw new Error("Runtime compiler is not loaded")}const Gl=Wl,Kl=Wl,Zl=Wl,Ql=Wl;let Jl,Xl,Yl=(()=>(class{constructor(){this.compileModuleSync=Gl,this.compileModuleAsync=Kl,this.compileModuleAndAllComponentsSync=Zl,this.compileModuleAndAllComponentsAsync=Ql}clearCache(){}clearCacheFor(e){}getModuleId(e){}}))();class ei{}function ti(){const e=Se.wtf;return!(!e||!(Jl=e.trace)||(Xl=Jl.events,0))}const ni=ti(),ri=ni?function(e,t=null){return Xl.createScope(e,t)}:(e,t)=>(function(e,t){return null}),li=ni?function(e,t){return Jl.leaveScope(e,t),t}:(e,t)=>t,ii=(()=>Promise.resolve(0))();function si(e){"undefined"==typeof Zone?ii.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class oi{constructor({enableLongStackTrace:e=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Tl(!1),this.onMicrotaskEmpty=new Tl(!1),this.onStable=new Tl(!1),this.onError=new Tl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");var t;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(t=this)._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,n,r,l,i,s)=>{try{return di(t),e.invokeTask(r,l,i,s)}finally{hi(t)}},onInvoke:(e,n,r,l,i,s,o)=>{try{return di(t),e.invoke(r,l,i,s,o)}finally{hi(t)}},onHasTask:(e,n,r,l)=>{e.hasTask(r,l),n===r&&("microTask"==l.change?(t.hasPendingMicrotasks=l.microTask,ci(t)):"macroTask"==l.change&&(t.hasPendingMacrotasks=l.macroTask))},onHandleError:(e,n,r,l)=>(e.handleError(r,l),t.runOutsideAngular(()=>t.onError.emit(l)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!oi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(oi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const l=this._inner,i=l.scheduleEventTask("NgZoneEvent: "+r,e,ai,ui,ui);try{return l.runTask(i,t,n)}finally{l.cancelTask(i)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}function ui(){}const ai={};function ci(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function di(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function hi(e){e._nesting--,ci(e)}class fi{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Tl,this.onMicrotaskEmpty=new Tl,this.onStable=new Tl,this.onError=new Tl}run(e){return e()}runGuarded(e){return e()}runOutsideAngular(e){return e()}runTask(e){return e()}}let pi=(()=>(class{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{oi.assertNotInAngularZone(),si(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())si(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==r),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}))(),gi=(()=>{class e{constructor(){this._applications=new Map,yi.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return yi.findTestabilityInTree(this,e,t)}}return e.ctorParameters=()=>[],e})();class mi{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}let vi,yi=new mi,bi=function(e){return e instanceof tn};const _i=new Ee("AllowMultipleToken");class wi{constructor(e,t){this.name=e,this.token=t}}function Ci(e,t,n=[]){const r=`Platform: ${t}`,l=new Ee(r);return(t=[])=>{let i=ki();if(!i||i.injector.get(_i,!1))if(e)e(n.concat(t).concat({provide:l,useValue:!0}));else{const e=n.concat(t).concat({provide:l,useValue:!0});!function(e){if(vi&&!vi.destroyed&&!vi.injector.get(_i,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");vi=e.get(xi);const t=e.get(ql,null);t&&t.forEach(e=>e())}(Ue.create({providers:e,name:r}))}return function(e){const t=ki();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(l)}}function ki(){return vi&&!vi.destroyed?vi:null}let xi=(()=>(class{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n="noop"===(l=t?t.ngZone:void 0)?new fi:("zone.js"===l?void 0:l)||new oi({enableLongStackTrace:st()}),r=[{provide:oi,useValue:n}];var l;return n.run(()=>{const t=Ue.create({providers:r,parent:this.injector,name:e.moduleType.name}),l=e.create(t),i=l.injector.get(Nt,null);if(!i)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return function(e){Al=e.toLowerCase().replace(/_/g,"-")}(l.injector.get(zl,"en-US")),l.onDestroy(()=>Di(this._modules,l)),n.runOutsideAngular(()=>n.onError.subscribe({next:e=>{i.handleError(e)}})),function(e,t,n){try{const l=n();return zt(l)?l.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):l}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(i,n,()=>{const e=l.injector.get(jl);return e.runInitializers(),e.donePromise.then(()=>(this._moduleDoBootstrap(l),l))})})}bootstrapModule(e,t=[]){const n=Si({},t);return function(e,t,n){return e.get(ei).createCompiler([t]).compileModuleAsync(n)}(this.injector,n,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(Ei);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${ve(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}))();function Si(e,t){return Array.isArray(t)?t.reduce(Si,e):Object.assign({},e,t)}let Ei=(()=>{class e{constructor(e,t,n,r,l,i){this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=l,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=st(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new w(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),o=new w(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{oi.assertNotInAngularZone(),si(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{oi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=X(s,o.pipe(e=>Y()(function(e,t){return function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,re);return r.source=t,r.subjectFactory=n,r}}(ie)(e))))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof Zt?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const r=bi(n)?null:this._injector.get(nn),l=n.create(Ue.NULL,[],t||n.selector,r);l.onDestroy(()=>{this._unloadComponent(l)});const i=l.injector.get(pi,null);return i&&l.injector.get(gi).registerApplication(l.location.nativeElement,i),this._loadComponent(l),st()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),l}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const t=e._tickScope();try{this._runningTick=!0;for(let e of this._views)e.detectChanges();if(this._enforceNoNewChanges)for(let e of this._views)e.checkNoChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1,li(t)}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Di(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Ul,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}_unloadComponent(e){this.detachView(e.hostView),Di(this.components,e)}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy())}get viewCount(){return this._views.length}}return e._tickScope=ri("ApplicationRef#tick()"),e})();function Di(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Ii{}class Mi{}const Oi={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Fi=(()=>(class{constructor(e,t){this._compiler=e,this._config=t||Oi}load(e){return this._compiler instanceof Yl?this.loadFactory(e):this.loadAndCompile(e)}loadAndCompile(e){let[t,r]=e.split("#");return void 0===r&&(r="default"),n("zn8P")(t).then(e=>e[r]).then(e=>Ai(e,t,r)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,r]=e.split("#"),l="NgFactory";return void 0===r&&(r="default",l=""),n("zn8P")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[r+l]).then(e=>Ai(e,t,r))}}))();function Ai(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}class Ti{constructor(e,t){this.name=e,this.callback=t}}class Pi{constructor(e,t,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=e,t&&t instanceof Ni&&t.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class Ni extends Pi{constructor(e,t,n){super(e,t,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=e}addChild(e){e&&(this.childNodes.push(e),e.parent=this)}removeChild(e){const t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))}insertChildrenAfter(e,t){const n=this.childNodes.indexOf(e);-1!==n&&(this.childNodes.splice(n+1,0,...t),t.forEach(t=>{t.parent&&t.parent.removeChild(t),e.parent=this}))}insertBefore(e,t){const n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))}query(e){return this.queryAll(e)[0]||null}queryAll(e){const t=[];return function e(t,n,r){t.childNodes.forEach(t=>{t instanceof Ni&&(n(t)&&r.push(t),e(t,n,r))})}(this,e,t),t}queryAllNodes(e){const t=[];return function e(t,n,r){t instanceof Ni&&t.childNodes.forEach(t=>{n(t)&&r.push(t),t instanceof Ni&&e(t,n,r)})}(this,e,t),t}get children(){return this.childNodes.filter(e=>e instanceof Ni)}triggerEventHandler(e,t){this.listeners.forEach(n=>{n.name==e&&n.callback(t)})}}const Ri=new Map,ji=function(e){return Ri.get(e)||null};function $i(e){Ri.set(e.nativeNode,e)}const Vi=Ci(null,"core",[{provide:Bl,useValue:"unknown"},{provide:xi,deps:[Ue]},{provide:gi,deps:[]},{provide:Hl,deps:[]}]);function Li(){return On}function qi(){return Fn}function Bi(e){return e||"en-US"}function Ui(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}let Hi=(()=>(class{constructor(e){}}))();function zi(e,t,n,r,l,i){e|=1;const{matchedQueries:s,references:o,matchedQueryIds:u}=hr(t);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s,matchedQueryIds:u,references:o,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:i?mr(i):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:l||Gn},provider:null,text:null,query:null,ngContent:null}}function Wi(e,t,n,r,l,i,s=[],o,u,a,c,d){a||(a=Gn);const{matchedQueries:h,references:f,matchedQueryIds:p}=hr(n);let g=null,m=null;i&&([g,m]=kr(i)),o=o||[];const v=new Array(o.length);for(let _=0;_<o.length;_++){const[e,t,n]=o[_],[r,l]=kr(t);let i=void 0,s=void 0;switch(15&e){case 4:s=n;break;case 1:case 8:i=n}v[_]={flags:e,ns:r,name:l,nonMinifiedName:l,securityContext:i,suffix:s}}u=u||[];const y=new Array(u.length);for(let _=0;_<u.length;_++){const[e,t]=u[_];y[_]={type:0,target:e,eventName:t,propName:null}}const b=(s=s||[]).map(([e,t])=>{const[n,r]=kr(e);return[n,r,t]});return d=function(e){if(e&&e.id===Qn){const t=null!=e.encapsulation&&e.encapsulation!==nt.None||e.styles.length||Object.keys(e.data).length;e.id=t?`c${Yn++}`:Jn}return e&&e.id===Jn&&(e=null),e||null}(d),c&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:h,matchedQueryIds:p,references:f,ngContentIndex:r,childCount:l,bindings:v,bindingFlags:xr(v),outputs:y,element:{ns:g,name:m,attrs:b,template:null,componentProvider:null,componentView:c||null,componentRendererType:d,publicProviders:null,allProviders:null,handleEvent:a||Gn},provider:null,text:null,query:null,ngContent:null}}function Gi(e,t,n){const r=n.element,l=e.root.selectorOrNode,i=e.renderer;let s;if(e.parent||!l){s=r.name?i.createElement(r.name,r.ns):i.createComment("");const l=pr(e,t,n);l&&i.appendChild(l,s)}else s=i.selectRootElement(l,!!r.componentRendererType&&r.componentRendererType.encapsulation===nt.ShadowDom);if(r.attrs)for(let o=0;o<r.attrs.length;o++){const[e,t,n]=r.attrs[o];i.setAttribute(s,t,n,e)}return s}function Ki(e,t,n,r){for(let s=0;s<n.outputs.length;s++){const o=n.outputs[s],u=Zi(e,n.nodeIndex,(i=o.eventName,(l=o.target)?`${l}:${i}`:i));let a=o.target,c=e;"component"===o.target&&(a=null,c=t);const d=c.renderer.listen(a||r,o.eventName,u);e.disposables[n.outputIndex+s]=d}var l,i}function Zi(e,t,n){return r=>ir(e,t,n,r)}function Qi(e,t,n,r){if(!tr(e,t,n,r))return!1;const l=t.bindings[n],i=Bn(e,t.nodeIndex),s=i.renderElement,o=l.name;switch(15&l.flags){case 1:!function(e,t,n,r,l,i){const s=t.securityContext;let o=s?e.root.sanitizer.sanitize(s,i):i;o=null!=o?o.toString():null;const u=e.renderer;null!=i?u.setAttribute(n,l,o,r):u.removeAttribute(n,l,r)}(e,l,s,l.ns,o,r);break;case 2:!function(e,t,n,r){const l=e.renderer;r?l.addClass(t,n):l.removeClass(t,n)}(e,s,o,r);break;case 4:!function(e,t,n,r,l){let i=e.root.sanitizer.sanitize(It.STYLE,l);if(null!=i){i=i.toString();const e=t.suffix;null!=e&&(i+=e)}else i=null;const s=e.renderer;null!=i?s.setStyle(n,r,i):s.removeStyle(n,r)}(e,l,s,o,r);break;case 8:!function(e,t,n,r,l){const i=t.securityContext;let s=i?e.root.sanitizer.sanitize(i,l):l;e.renderer.setProperty(n,r,s)}(33554432&t.flags&&32&l.flags?i.componentView:e,l,s,o,r)}return!0}function Ji(e,t,n){let r=[];for(let l in n)r.push({propName:l,bindingType:n[l]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:t,filterId:dr(t),bindings:r},ngContent:null}}function Xi(e){const t=e.def.nodeMatchedQueries;for(;e.parent&&cr(e);){let n=e.parentNodeDef;e=e.parent;const r=n.nodeIndex+n.childCount;for(let l=0;l<=r;l++){const r=e.def.nodes[l];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&t)===r.query.filterId&&zn(e,l).setDirty(),!(1&r.flags&&l+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(l+=r.childCount)}}if(134217728&e.def.nodeFlags)for(let n=0;n<e.def.nodes.length;n++){const t=e.def.nodes[n];134217728&t.flags&&536870912&t.flags&&zn(e,n).setDirty(),n+=t.childCount}}function Yi(e,t){const n=zn(e,t.nodeIndex);if(!n.dirty)return;let r,l=void 0;if(67108864&t.flags){const n=t.parent.parent;l=es(e,n.nodeIndex,n.nodeIndex+n.childCount,t.query,[]),r=Un(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(l=es(e,0,e.def.nodes.length-1,t.query,[]),r=e.component);n.reset(l);const i=t.query.bindings;let s=!1;for(let o=0;o<i.length;o++){const e=i[o];let t;switch(e.bindingType){case 0:t=n.first;break;case 1:t=n,s=!0}r[e.propName]=t}s&&n.notifyOnChanges()}function es(e,t,n,r,l){for(let i=t;i<=n;i++){const t=e.def.nodes[i],n=t.matchedQueries[r.id];if(null!=n&&l.push(ts(e,t,n)),1&t.flags&&t.element.template&&(t.element.template.nodeMatchedQueries&r.filterId)===r.filterId){const n=Bn(e,i);if((t.childMatchedQueries&r.filterId)===r.filterId&&(es(e,i+1,i+t.childCount,r,l),i+=t.childCount),16777216&t.flags){const e=n.viewContainer._embeddedViews;for(let t=0;t<e.length;t++){const i=e[t],s=sr(i);s&&s===n&&es(i,0,i.def.nodes.length-1,r,l)}}const s=n.template._projectedViews;if(s)for(let e=0;e<s.length;e++){const t=s[e];es(t,0,t.def.nodes.length-1,r,l)}}(t.childMatchedQueries&r.filterId)!==r.filterId&&(i+=t.childCount)}return l}function ts(e,t,n){if(null!=n)switch(n){case 1:return Bn(e,t.nodeIndex).renderElement;case 0:return new sn(Bn(e,t.nodeIndex).renderElement);case 2:return Bn(e,t.nodeIndex).template;case 3:return Bn(e,t.nodeIndex).viewContainer;case 4:return Un(e,t.nodeIndex).instance}}function ns(e,t){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:t}}}function rs(e,t,n){const r=pr(e,t,n);r&&br(e,n.ngContent.index,1,r,null,void 0)}function ls(e,t){return ss(32,e,new Array(t))}function is(e,t){const n=Object.keys(t),r=n.length,l=new Array(r);for(let i=0;i<r;i++){const e=n[i];l[t[e]]=e}return ss(64,e,l)}function ss(e,t,n){const r=new Array(n.length);for(let l=0;l<n.length;l++){const e=n[l];r[l]={flags:8,name:e,ns:null,nonMinifiedName:e,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:xr(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function os(e,t,n){const r=new Array(n.length-1);for(let l=1;l<n.length;l++)r[l-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[l]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function us(e,t,n){let r;const l=e.renderer;r=l.createText(n.text.prefix);const i=pr(e,t,n);return i&&l.appendChild(i,r),{renderText:r}}function as(e,t){return(null!=e?e.toString():"")+t.suffix}function cs(e,t,n,r){let l=0,i=0,s=0,o=0,u=0,a=null,c=null,d=!1,h=!1,f=null;for(let p=0;p<t.length;p++){const e=t[p];if(e.nodeIndex=p,e.parent=a,e.bindingIndex=l,e.outputIndex=i,e.renderParent=c,s|=e.flags,u|=e.matchedQueryIds,e.element){const t=e.element;t.publicProviders=a?a.element.publicProviders:Object.create(null),t.allProviders=t.publicProviders,d=!1,h=!1,e.element.template&&(u|=e.element.template.nodeMatchedQueries)}if(hs(a,e,t.length),l+=e.bindings.length,i+=e.outputs.length,!c&&3&e.flags&&(f=e),20224&e.flags){d||(d=!0,a.element.publicProviders=Object.create(a.element.publicProviders),a.element.allProviders=a.element.publicProviders);const t=0!=(32768&e.flags);0==(8192&e.flags)||t?a.element.publicProviders[Zn(e.provider.token)]=e:(h||(h=!0,a.element.allProviders=Object.create(a.element.publicProviders)),a.element.allProviders[Zn(e.provider.token)]=e),t&&(a.element.componentProvider=e)}if(a?(a.childFlags|=e.flags,a.directChildFlags|=e.flags,a.childMatchedQueries|=e.matchedQueryIds,e.element&&e.element.template&&(a.childMatchedQueries|=e.element.template.nodeMatchedQueries)):o|=e.flags,e.childCount>0)a=e,ds(e)||(c=e);else for(;a&&p===a.nodeIndex+a.childCount;){const e=a.parent;e&&(e.childFlags|=a.childFlags,e.childMatchedQueries|=a.childMatchedQueries),c=(a=e)&&ds(a)?a.renderParent:a}}return{factory:null,nodeFlags:s,rootNodeFlags:o,nodeMatchedQueries:u,flags:e,nodes:t,updateDirectives:n||Gn,updateRenderer:r||Gn,handleEvent:(e,n,r,l)=>t[n].element.handleEvent(e,r,l),bindingCount:l,outputCount:i,lastRenderRootNode:f}}function ds(e){return 0!=(1&e.flags)&&null===e.element.name}function hs(e,t,n){const r=t.element&&t.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${t.nodeIndex}!`)}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${t.nodeIndex}!`);if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${t.nodeIndex}!`);if(134217728&t.flags&&e)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${t.nodeIndex}!`)}if(t.childCount){const r=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=r&&t.nodeIndex+t.childCount>r)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${t.nodeIndex}!`)}}function fs(e,t,n,r){const l=ms(e.root,e.renderer,e,t,n);return vs(l,e.component,r),ys(l),l}function ps(e,t,n){const r=ms(e,e.renderer,null,null,t);return vs(r,n,n),ys(r),r}function gs(e,t,n,r){const l=t.element.componentRendererType;let i;return i=l?e.root.rendererFactory.createRenderer(r,l):e.root.renderer,ms(e.root,i,e,t.element.componentProvider,n)}function ms(e,t,n,r,l){const i=new Array(l.nodes.length),s=l.outputCount?new Array(l.outputCount):null;return{def:l,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:i,state:13,root:e,renderer:t,oldValues:new Array(l.bindingCount),disposables:s,initIndex:-1}}function vs(e,t,n){e.component=t,e.context=n}function ys(e){let t;ar(e)&&(t=Bn(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);const n=e.def,r=e.nodes;for(let l=0;l<n.nodes.length;l++){const i=n.nodes[l];let s;switch(Wn.setCurrentNode(e,l),201347067&i.flags){case 1:const n=Gi(e,t,i);let o=void 0;if(33554432&i.flags){const t=mr(i.element.componentView);o=Wn.createComponentView(e,i,t,n)}Ki(e,o,i,n),s={renderElement:n,componentView:o,viewContainer:null,template:i.element.template?Gr(e,i):void 0},16777216&i.flags&&(s.viewContainer=Ur(e,i,s));break;case 2:s=us(e,t,i);break;case 512:case 1024:case 2048:case 256:(s=r[l])||4096&i.flags||(s={instance:fl(e,i)});break;case 16:s={instance:pl(e,i)};break;case 16384:(s=r[l])||(s={instance:gl(e,i)}),32768&i.flags&&vs(Bn(e,i.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new Nl;break;case 8:rs(e,t,i),s=void 0}r[l]=s}Ds(e,Es.CreateViewNodes),Fs(e,201326592,268435456,0)}function bs(e){Cs(e),Wn.updateDirectives(e,1),Is(e,Es.CheckNoChanges),Wn.updateRenderer(e,1),Ds(e,Es.CheckNoChanges),e.state&=-97}function _s(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,Vn(e,0,256),Cs(e),Wn.updateDirectives(e,0),Is(e,Es.CheckAndUpdate),Fs(e,67108864,536870912,0);let t=Vn(e,256,512);kl(e,2097152|(t?1048576:0)),Wn.updateRenderer(e,0),Ds(e,Es.CheckAndUpdate),Fs(e,134217728,536870912,0),kl(e,8388608|((t=Vn(e,512,768))?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,Vn(e,768,1024)}function ws(e,t,n,r,l,i,s,o,u,a,c,d,h){return 0===n?function(e,t,n,r,l,i,s,o,u,a,c,d){switch(201347067&t.flags){case 1:return function(e,t,n,r,l,i,s,o,u,a,c,d){const h=t.bindings.length;let f=!1;return h>0&&Qi(e,t,0,n)&&(f=!0),h>1&&Qi(e,t,1,r)&&(f=!0),h>2&&Qi(e,t,2,l)&&(f=!0),h>3&&Qi(e,t,3,i)&&(f=!0),h>4&&Qi(e,t,4,s)&&(f=!0),h>5&&Qi(e,t,5,o)&&(f=!0),h>6&&Qi(e,t,6,u)&&(f=!0),h>7&&Qi(e,t,7,a)&&(f=!0),h>8&&Qi(e,t,8,c)&&(f=!0),h>9&&Qi(e,t,9,d)&&(f=!0),f}(e,t,n,r,l,i,s,o,u,a,c,d);case 2:return function(e,t,n,r,l,i,s,o,u,a,c,d){let h=!1;const f=t.bindings,p=f.length;if(p>0&&tr(e,t,0,n)&&(h=!0),p>1&&tr(e,t,1,r)&&(h=!0),p>2&&tr(e,t,2,l)&&(h=!0),p>3&&tr(e,t,3,i)&&(h=!0),p>4&&tr(e,t,4,s)&&(h=!0),p>5&&tr(e,t,5,o)&&(h=!0),p>6&&tr(e,t,6,u)&&(h=!0),p>7&&tr(e,t,7,a)&&(h=!0),p>8&&tr(e,t,8,c)&&(h=!0),p>9&&tr(e,t,9,d)&&(h=!0),h){let h=t.text.prefix;p>0&&(h+=as(n,f[0])),p>1&&(h+=as(r,f[1])),p>2&&(h+=as(l,f[2])),p>3&&(h+=as(i,f[3])),p>4&&(h+=as(s,f[4])),p>5&&(h+=as(o,f[5])),p>6&&(h+=as(u,f[6])),p>7&&(h+=as(a,f[7])),p>8&&(h+=as(c,f[8])),p>9&&(h+=as(d,f[9]));const g=qn(e,t.nodeIndex).renderText;e.renderer.setValue(g,h)}return h}(e,t,n,r,l,i,s,o,u,a,c,d);case 16384:return function(e,t,n,r,l,i,s,o,u,a,c,d){const h=Un(e,t.nodeIndex),f=h.instance;let p=!1,g=void 0;const m=t.bindings.length;return m>0&&er(e,t,0,n)&&(p=!0,g=Cl(e,h,t,0,n,g)),m>1&&er(e,t,1,r)&&(p=!0,g=Cl(e,h,t,1,r,g)),m>2&&er(e,t,2,l)&&(p=!0,g=Cl(e,h,t,2,l,g)),m>3&&er(e,t,3,i)&&(p=!0,g=Cl(e,h,t,3,i,g)),m>4&&er(e,t,4,s)&&(p=!0,g=Cl(e,h,t,4,s,g)),m>5&&er(e,t,5,o)&&(p=!0,g=Cl(e,h,t,5,o,g)),m>6&&er(e,t,6,u)&&(p=!0,g=Cl(e,h,t,6,u,g)),m>7&&er(e,t,7,a)&&(p=!0,g=Cl(e,h,t,7,a,g)),m>8&&er(e,t,8,c)&&(p=!0,g=Cl(e,h,t,8,c,g)),m>9&&er(e,t,9,d)&&(p=!0,g=Cl(e,h,t,9,d,g)),g&&f.ngOnChanges(g),65536&t.flags&&Ln(e,256,t.nodeIndex)&&f.ngOnInit(),262144&t.flags&&f.ngDoCheck(),p}(e,t,n,r,l,i,s,o,u,a,c,d);case 32:case 64:case 128:return function(e,t,n,r,l,i,s,o,u,a,c,d){const h=t.bindings;let f=!1;const p=h.length;if(p>0&&tr(e,t,0,n)&&(f=!0),p>1&&tr(e,t,1,r)&&(f=!0),p>2&&tr(e,t,2,l)&&(f=!0),p>3&&tr(e,t,3,i)&&(f=!0),p>4&&tr(e,t,4,s)&&(f=!0),p>5&&tr(e,t,5,o)&&(f=!0),p>6&&tr(e,t,6,u)&&(f=!0),p>7&&tr(e,t,7,a)&&(f=!0),p>8&&tr(e,t,8,c)&&(f=!0),p>9&&tr(e,t,9,d)&&(f=!0),f){const f=Hn(e,t.nodeIndex);let g;switch(201347067&t.flags){case 32:g=new Array(h.length),p>0&&(g[0]=n),p>1&&(g[1]=r),p>2&&(g[2]=l),p>3&&(g[3]=i),p>4&&(g[4]=s),p>5&&(g[5]=o),p>6&&(g[6]=u),p>7&&(g[7]=a),p>8&&(g[8]=c),p>9&&(g[9]=d);break;case 64:g={},p>0&&(g[h[0].name]=n),p>1&&(g[h[1].name]=r),p>2&&(g[h[2].name]=l),p>3&&(g[h[3].name]=i),p>4&&(g[h[4].name]=s),p>5&&(g[h[5].name]=o),p>6&&(g[h[6].name]=u),p>7&&(g[h[7].name]=a),p>8&&(g[h[8].name]=c),p>9&&(g[h[9].name]=d);break;case 128:const e=n;switch(p){case 1:g=e.transform(n);break;case 2:g=e.transform(r);break;case 3:g=e.transform(r,l);break;case 4:g=e.transform(r,l,i);break;case 5:g=e.transform(r,l,i,s);break;case 6:g=e.transform(r,l,i,s,o);break;case 7:g=e.transform(r,l,i,s,o,u);break;case 8:g=e.transform(r,l,i,s,o,u,a);break;case 9:g=e.transform(r,l,i,s,o,u,a,c);break;case 10:g=e.transform(r,l,i,s,o,u,a,c,d)}}f.value=g}return f}(e,t,n,r,l,i,s,o,u,a,c,d);default:throw"unreachable"}}(e,t,r,l,i,s,o,u,a,c,d,h):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){let r=!1;for(let l=0;l<n.length;l++)Qi(e,t,l,n[l])&&(r=!0);return r}(e,t,n);case 2:return function(e,t,n){const r=t.bindings;let l=!1;for(let i=0;i<n.length;i++)tr(e,t,i,n[i])&&(l=!0);if(l){let l="";for(let e=0;e<n.length;e++)l+=as(n[e],r[e]);l=t.text.prefix+l;const i=qn(e,t.nodeIndex).renderText;e.renderer.setValue(i,l)}return l}(e,t,n);case 16384:return function(e,t,n){const r=Un(e,t.nodeIndex),l=r.instance;let i=!1,s=void 0;for(let o=0;o<n.length;o++)er(e,t,o,n[o])&&(i=!0,s=Cl(e,r,t,o,n[o],s));return s&&l.ngOnChanges(s),65536&t.flags&&Ln(e,256,t.nodeIndex)&&l.ngOnInit(),262144&t.flags&&l.ngDoCheck(),i}(e,t,n);case 32:case 64:case 128:return function(e,t,n){const r=t.bindings;let l=!1;for(let i=0;i<n.length;i++)tr(e,t,i,n[i])&&(l=!0);if(l){const l=Hn(e,t.nodeIndex);let i;switch(201347067&t.flags){case 32:i=n;break;case 64:i={};for(let t=0;t<n.length;t++)i[r[t].name]=n[t];break;case 128:const e=n[0],l=n.slice(1);i=e.transform(...l)}l.value=i}return l}(e,t,n);default:throw"unreachable"}}(e,t,r)}function Cs(e){const t=e.def;if(4&t.nodeFlags)for(let n=0;n<t.nodes.length;n++){const r=t.nodes[n];if(4&r.flags){const t=Bn(e,n).template._projectedViews;if(t)for(let n=0;n<t.length;n++){const r=t[n];r.state|=32,lr(r,e)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function ks(e,t,n,r,l,i,s,o,u,a,c,d,h){return 0===n?function(e,t,n,r,l,i,s,o,u,a,c,d){const h=t.bindings.length;h>0&&nr(e,t,0,n),h>1&&nr(e,t,1,r),h>2&&nr(e,t,2,l),h>3&&nr(e,t,3,i),h>4&&nr(e,t,4,s),h>5&&nr(e,t,5,o),h>6&&nr(e,t,6,u),h>7&&nr(e,t,7,a),h>8&&nr(e,t,8,c),h>9&&nr(e,t,9,d)}(e,t,r,l,i,s,o,u,a,c,d,h):function(e,t,n){for(let r=0;r<n.length;r++)nr(e,t,r,n[r])}(e,t,r),!1}function xs(e,t){if(zn(e,t.nodeIndex).dirty)throw Rn(Wn.createDebugContext(e,t.nodeIndex),`Query ${t.query.id} not dirty`,`Query ${t.query.id} dirty`,0!=(1&e.state))}function Ss(e){if(!(128&e.state)){if(Is(e,Es.Destroy),Ds(e,Es.Destroy),kl(e,131072),e.disposables)for(let t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(!(16&e.state))return;const t=sr(e);if(t){const n=t.template._projectedViews;n&&($r(n,n.indexOf(e)),Wn.dirtyParentQueries(e))}}(e),e.renderer.destroyNode&&function(e){const t=e.def.nodes.length;for(let n=0;n<t;n++){const t=e.def.nodes[n];1&t.flags?e.renderer.destroyNode(Bn(e,n).renderElement):2&t.flags?e.renderer.destroyNode(qn(e,n).renderText):(67108864&t.flags||134217728&t.flags)&&zn(e,n).destroy()}}(e),ar(e)&&e.renderer.destroy(),e.state|=128}}const Es=function(){var e={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return e[e.CreateViewNodes]="CreateViewNodes",e[e.CheckNoChanges]="CheckNoChanges",e[e.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",e[e.CheckAndUpdate]="CheckAndUpdate",e[e.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",e[e.Destroy]="Destroy",e}();function Ds(e,t){const n=e.def;if(33554432&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const l=n.nodes[r];33554432&l.flags?Ms(Bn(e,r).componentView,t):0==(33554432&l.childFlags)&&(r+=l.childCount)}}function Is(e,t){const n=e.def;if(16777216&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const l=n.nodes[r];if(16777216&l.flags){const n=Bn(e,r).viewContainer._embeddedViews;for(let e=0;e<n.length;e++)Ms(n[e],t)}else 0==(16777216&l.childFlags)&&(r+=l.childCount)}}function Ms(e,t){const n=e.state;switch(t){case Es.CheckNoChanges:0==(128&n)&&(12==(12&n)?bs(e):64&n&&Os(e,Es.CheckNoChangesProjectedViews));break;case Es.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?bs(e):64&n&&Os(e,t));break;case Es.CheckAndUpdate:0==(128&n)&&(12==(12&n)?_s(e):64&n&&Os(e,Es.CheckAndUpdateProjectedViews));break;case Es.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?_s(e):64&n&&Os(e,t));break;case Es.Destroy:Ss(e);break;case Es.CreateViewNodes:ys(e)}}function Os(e,t){Is(e,t),Ds(e,t)}function Fs(e,t,n,r){if(!(e.def.nodeFlags&t&&e.def.nodeFlags&n))return;const l=e.def.nodes.length;for(let i=0;i<l;i++){const l=e.def.nodes[i];if(l.flags&t&&l.flags&n)switch(Wn.setCurrentNode(e,l.nodeIndex),r){case 0:Yi(e,l);break;case 1:xs(e,l)}l.childFlags&t&&l.childFlags&n||(i+=l.childCount)}}let As=!1;function Ts(e,t,n,r,l,i){const s=l.injector.get(an);return ps(Ns(e,l,s,t,n),r,i)}function Ps(e,t,n,r,l,i){const s=l.injector.get(an),o=Ns(e,l,new po(s),t,n),u=zs(r);return ho(Js.create,ps,null,[o,u,i])}function Ns(e,t,n,r,l){const i=t.injector.get(Mt),s=t.injector.get(Nt),o=n.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:r,selectorOrNode:l,sanitizer:i,rendererFactory:n,renderer:o,errorHandler:s}}function Rs(e,t,n,r){const l=zs(n);return ho(Js.create,fs,null,[e,t,l,r])}function js(e,t,n,r){return n=qs.get(t.element.componentProvider.provider.token)||zs(n),ho(Js.create,gs,null,[e,t,n,r])}function $s(e,t,n,r){return el(e,t,n,function(e){const{hasOverrides:t,hasDeprecatedOverrides:n}=function(e){let t=!1,n=!1;return 0===Vs.size?{hasOverrides:t,hasDeprecatedOverrides:n}:(e.providers.forEach(e=>{const r=Vs.get(e.token);3840&e.flags&&r&&(t=!0,n=n||r.deprecatedBehavior)}),e.modules.forEach(e=>{Ls.forEach((r,l)=>{ge(l).providedIn===e&&(t=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:t,hasDeprecatedOverrides:n})}(e);return t?(function(e){for(let t=0;t<e.providers.length;t++){const r=e.providers[t];n&&(r.flags|=4096);const l=Vs.get(r.token);l&&(r.flags=-3841&r.flags|l.flags,r.deps=fr(l.deps),r.value=l.value)}if(Ls.size>0){let t=new Set(e.modules);Ls.forEach((r,l)=>{if(t.has(ge(l).providedIn)){let t={token:l,flags:r.flags|(n?4096:0),deps:fr(r.deps),value:r.value,index:e.providers.length};e.providers.push(t),e.providersByKey[Zn(l)]=t}})}}(e=e.factory(()=>Gn)),e):e}(r))}const Vs=new Map,Ls=new Map,qs=new Map;function Bs(e){let t;Vs.set(e.token,e),"function"==typeof e.token&&(t=ge(e.token))&&"function"==typeof t.providedIn&&Ls.set(e.token,e)}function Us(e,t){const n=mr(t.viewDefFactory),r=mr(n.nodes[0].element.componentView);qs.set(e,r)}function Hs(){Vs.clear(),Ls.clear(),qs.clear()}function zs(e){if(0===Vs.size)return e;const t=function(e){const t=[];let n=null;for(let r=0;r<e.nodes.length;r++){const l=e.nodes[r];1&l.flags&&(n=l),n&&3840&l.flags&&Vs.has(l.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory(()=>Gn);for(let r=0;r<t.length;r++)n(e,t[r]);return e;function n(e,t){for(let n=t+1;n<e.nodes.length;n++){const t=e.nodes[n];if(1&t.flags)return;if(3840&t.flags){const e=t.provider,n=Vs.get(e.token);n&&(t.flags=-3841&t.flags|n.flags,e.deps=fr(n.deps),e.value=n.value)}}}}function Ws(e,t,n,r,l,i,s,o,u,a,c,d,h){const f=e.def.nodes[t];return ws(e,f,n,r,l,i,s,o,u,a,c,d,h),224&f.flags?Hn(e,t).value:void 0}function Gs(e,t,n,r,l,i,s,o,u,a,c,d,h){const f=e.def.nodes[t];return ks(e,f,n,r,l,i,s,o,u,a,c,d,h),224&f.flags?Hn(e,t).value:void 0}function Ks(e){return ho(Js.detectChanges,_s,null,[e])}function Zs(e){return ho(Js.checkNoChanges,bs,null,[e])}function Qs(e){return ho(Js.destroy,Ss,null,[e])}const Js=function(){var e={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return e[e.create]="create",e[e.detectChanges]="detectChanges",e[e.checkNoChanges]="checkNoChanges",e[e.destroy]="destroy",e[e.handleEvent]="handleEvent",e}();let Xs,Ys,eo;function to(e,t){Ys=e,eo=t}function no(e,t,n,r){return to(e,t),ho(Js.handleEvent,e.def.handleEvent,null,[e,t,n,r])}function ro(e,t){if(128&e.state)throw $n(Js[Xs]);return to(e,oo(e,0)),e.def.updateDirectives(function(e,n,r,...l){const i=e.def.nodes[n];return 0===t?io(e,i,r,l):so(e,i,r,l),16384&i.flags&&to(e,oo(e,n)),224&i.flags?Hn(e,i.nodeIndex).value:void 0},e)}function lo(e,t){if(128&e.state)throw $n(Js[Xs]);return to(e,uo(e,0)),e.def.updateRenderer(function(e,n,r,...l){const i=e.def.nodes[n];return 0===t?io(e,i,r,l):so(e,i,r,l),3&i.flags&&to(e,uo(e,n)),224&i.flags?Hn(e,i.nodeIndex).value:void 0},e)}function io(e,t,n,r){if(ws(e,t,n,...r)){const s=1===n?r[0]:r;if(16384&t.flags){const n={};for(let e=0;e<t.bindings.length;e++){const r=t.bindings[e],o=s[e];8&r.flags&&(n[(l=r.nonMinifiedName,i=void 0,i=l.replace(/[$@]/g,"_"),`ng-reflect-${l=i.replace(Rt,(...e)=>"-"+e[1].toLowerCase())}`)]=jt(o))}const r=t.parent,o=Bn(e,r.nodeIndex).renderElement;if(r.element.name)for(let t in n){const r=n[t];null!=r?e.renderer.setAttribute(o,t,r):e.renderer.removeAttribute(o,t)}else e.renderer.setValue(o,`bindings=${JSON.stringify(n,null,2)}`)}}var l,i}function so(e,t,n,r){ks(e,t,n,...r)}function oo(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(16384&t.flags&&t.bindings&&t.bindings.length)return n}return null}function uo(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(3&t.flags&&t.bindings&&t.bindings.length)return n}return null}class ao{constructor(e,t){this.view=e,this.nodeIndex=t,null==t&&(this.nodeIndex=t=0),this.nodeDef=e.def.nodes[t];let n=this.nodeDef,r=e;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=or(r),r=r.parent;this.elDef=n,this.elView=r}get elOrCompView(){return Bn(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return Zr(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const e=[];if(this.elDef)for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e}get references(){const e={};if(this.elDef){co(this.elView,this.elDef,e);for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&co(this.elView,n,e),t+=n.childCount}}return e}get componentRenderElement(){const e=function(e){for(;e&&!ar(e);)e=e.parent;return e.parent?Bn(e.parent,or(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?ur(this.view,this.nodeDef):ur(this.elView,this.elDef)}logError(e,...t){let n,r;2&this.nodeDef.flags?(n=this.view.def,r=this.nodeDef.nodeIndex):(n=this.elView.def,r=this.elDef.nodeIndex);const l=function(e,t){let n=-1;for(let r=0;r<=t;r++)3&e.nodes[r].flags&&n++;return n}(n,r);let i=-1;n.factory(()=>++i===l?e.error.bind(e,...t):Gn),i<l&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error(...t))}}function co(e,t,n){for(let r in t.references)n[r]=ts(e,t,t.references[r])}function ho(e,t,n,r){const l=Xs,i=Ys,s=eo;try{Xs=e;const u=t.apply(n,r);return Ys=i,eo=s,Xs=l,u}catch(o){if(At(o)||!Ys)throw o;throw function(e,t){return e instanceof Error||(e=new Error(e.toString())),jn(e,t),e}(o,fo())}}function fo(){return Ys?new ao(Ys,eo):null}class po{constructor(e){this.delegate=e}createRenderer(e,t){return new go(this.delegate.createRenderer(e,t))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class go{constructor(e){this.delegate=e,this.debugContextFactory=fo,this.data=this.delegate.data}createDebugContext(e){return this.debugContextFactory(e)}destroyNode(e){!function(e){Ri.delete(e.nativeNode)}(ji(e)),this.delegate.destroyNode&&this.delegate.destroyNode(e)}destroy(){this.delegate.destroy()}createElement(e,t){const n=this.delegate.createElement(e,t),r=this.createDebugContext(n);if(r){const t=new Ni(n,null,r);t.name=e,$i(t)}return n}createComment(e){const t=this.delegate.createComment(e),n=this.createDebugContext(t);return n&&$i(new Pi(t,null,n)),t}createText(e){const t=this.delegate.createText(e),n=this.createDebugContext(t);return n&&$i(new Pi(t,null,n)),t}appendChild(e,t){const n=ji(e),r=ji(t);n&&r&&n instanceof Ni&&n.addChild(r),this.delegate.appendChild(e,t)}insertBefore(e,t,n){const r=ji(e),l=ji(t),i=ji(n);r&&l&&r instanceof Ni&&r.insertBefore(i,l),this.delegate.insertBefore(e,t,n)}removeChild(e,t){const n=ji(e),r=ji(t);n&&r&&n instanceof Ni&&n.removeChild(r),this.delegate.removeChild(e,t)}selectRootElement(e,t){const n=this.delegate.selectRootElement(e,t),r=fo();return r&&$i(new Ni(n,null,r)),n}setAttribute(e,t,n,r){const l=ji(e);l&&l instanceof Ni&&(l.attributes[r?r+":"+t:t]=n),this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){const r=ji(e);r&&r instanceof Ni&&(r.attributes[n?n+":"+t:t]=null),this.delegate.removeAttribute(e,t,n)}addClass(e,t){const n=ji(e);n&&n instanceof Ni&&(n.classes[t]=!0),this.delegate.addClass(e,t)}removeClass(e,t){const n=ji(e);n&&n instanceof Ni&&(n.classes[t]=!1),this.delegate.removeClass(e,t)}setStyle(e,t,n,r){const l=ji(e);l&&l instanceof Ni&&(l.styles[t]=n),this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){const r=ji(e);r&&r instanceof Ni&&(r.styles[t]=null),this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){const r=ji(e);r&&r instanceof Ni&&(r.properties[t]=n),this.delegate.setProperty(e,t,n)}listen(e,t,n){if("string"!=typeof e){const r=ji(e);r&&r.listeners.push(new Ti(t,n))}return this.delegate.listen(e,t,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setValue(e,t){return this.delegate.setValue(e,t)}}function mo(e,t,n){return new vo(e,t,n)}class vo extends rn{constructor(e,t,n){super(),this.moduleType=e,this._bootstrapComponents=t,this._ngModuleDefFactory=n}create(e){!function(){if(As)return;As=!0;const e=st()?{setCurrentNode:to,createRootView:Ps,createEmbeddedView:Rs,createComponentView:js,createNgModuleRef:$s,overrideProvider:Bs,overrideComponentView:Us,clearOverrides:Hs,checkAndUpdateView:Ks,checkNoChangesView:Zs,destroyView:Qs,createDebugContext:(e,t)=>new ao(e,t),handleEvent:no,updateDirectives:ro,updateRenderer:lo}:{setCurrentNode:()=>{},createRootView:Ts,createEmbeddedView:fs,createComponentView:gs,createNgModuleRef:el,overrideProvider:Gn,overrideComponentView:Gn,clearOverrides:Gn,checkAndUpdateView:_s,checkNoChangesView:bs,destroyView:Ss,createDebugContext:(e,t)=>new ao(e,t),handleEvent:(e,t,n,r)=>e.def.handleEvent(e,t,n,r),updateDirectives:(e,t)=>e.def.updateDirectives(0===t?Ws:Gs,e),updateRenderer:(e,t)=>e.def.updateRenderer(0===t?Ws:Gs,e)};Wn.setCurrentNode=e.setCurrentNode,Wn.createRootView=e.createRootView,Wn.createEmbeddedView=e.createEmbeddedView,Wn.createComponentView=e.createComponentView,Wn.createNgModuleRef=e.createNgModuleRef,Wn.overrideProvider=e.overrideProvider,Wn.overrideComponentView=e.overrideComponentView,Wn.clearOverrides=e.clearOverrides,Wn.checkAndUpdateView=e.checkAndUpdateView,Wn.checkNoChangesView=e.checkNoChangesView,Wn.destroyView=e.destroyView,Wn.resolveDep=_l,Wn.createDebugContext=e.createDebugContext,Wn.handleEvent=e.handleEvent,Wn.updateDirectives=e.updateDirectives,Wn.updateRenderer=e.updateRenderer,Wn.dirtyParentQueries=Xi}();const t=function(e){const t=Array.from(e.providers),n=Array.from(e.modules),r={};for(const l in e.providersByKey)r[l]=e.providersByKey[l];return{factory:e.factory,isRoot:e.isRoot,providers:t,modules:n,providersByKey:r}}(mr(this._ngModuleDefFactory));return Wn.createNgModuleRef(this.moduleType,e||Ue.NULL,this._bootstrapComponents,t)}}class yo{}class bo{constructor(){this.title="BMDL Modeler"}}class _o{}const wo=new Ee("Location Initialized");class Co{}const ko=new Ee("appBaseHref");let xo=(()=>{class e{constructor(t,n){this._subject=new Tl,this._urlChangeListeners=[],this._platformStrategy=t;const r=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=e.stripTrailingSlash(So(r)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,n=""){return this.path()==this.normalize(t+e.normalizeQueryParams(n))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,So(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(t,n="",r=null){this._platformStrategy.pushState(r,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+e.normalizeQueryParams(n)),r)}replaceState(t,n="",r=null){this._platformStrategy.replaceState(r,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+e.normalizeQueryParams(n)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(e){this._urlChangeListeners.push(e),this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)})}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}static normalizeQueryParams(e){return e&&"?"!==e[0]?"?"+e:e}static joinWithSlash(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}static stripTrailingSlash(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}}return e})();function So(e){return e.replace(/\/index.html$/,"")}let Eo=(()=>(class extends Co{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",null!=t&&(this._baseHref=t)}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=xo.joinWithSlash(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,r){let l=this.prepareExternalUrl(n+xo.normalizeQueryParams(r));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(e,t,l)}replaceState(e,t,n,r){let l=this.prepareExternalUrl(n+xo.normalizeQueryParams(r));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}))(),Do=(()=>(class extends Co{constructor(e,t){if(super(),this._platformLocation=e,null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return xo.joinWithSlash(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+xo.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,r){const l=this.prepareExternalUrl(n+xo.normalizeQueryParams(r));this._platformLocation.pushState(e,t,l)}replaceState(e,t,n,r){const l=this.prepareExternalUrl(n+xo.normalizeQueryParams(r));this._platformLocation.replaceState(e,t,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}))();const Io=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),Mo=function(){var e={Format:0,Standalone:1};return e[e.Format]="Format",e[e.Standalone]="Standalone",e}(),Oo=function(){var e={Narrow:0,Abbreviated:1,Wide:2,Short:3};return e[e.Narrow]="Narrow",e[e.Abbreviated]="Abbreviated",e[e.Wide]="Wide",e[e.Short]="Short",e}(),Fo=function(){var e={Short:0,Medium:1,Long:2,Full:3};return e[e.Short]="Short",e[e.Medium]="Medium",e[e.Long]="Long",e[e.Full]="Full",e}(),Ao=function(){var e={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return e[e.Decimal]="Decimal",e[e.Group]="Group",e[e.List]="List",e[e.PercentSign]="PercentSign",e[e.PlusSign]="PlusSign",e[e.MinusSign]="MinusSign",e[e.Exponential]="Exponential",e[e.SuperscriptingExponent]="SuperscriptingExponent",e[e.PerMille]="PerMille",e[e.Infinity]="Infinity",e[e.NaN]="NaN",e[e.TimeSeparator]="TimeSeparator",e[e.CurrencyDecimal]="CurrencyDecimal",e[e.CurrencyGroup]="CurrencyGroup",e}();function To(e,t,n){const r=Fl(e),l=Lo([r[Il.DaysFormat],r[Il.DaysStandalone]],t);return Lo(l,n)}function Po(e,t,n){const r=Fl(e),l=Lo([r[Il.MonthsFormat],r[Il.MonthsStandalone]],t);return Lo(l,n)}function No(e,t){return Lo(Fl(e)[Il.DateFormat],t)}function Ro(e,t){return Lo(Fl(e)[Il.TimeFormat],t)}function jo(e,t){return Lo(Fl(e)[Il.DateTimeFormat],t)}function $o(e,t){const n=Fl(e),r=n[Il.NumberSymbols][t];if(void 0===r){if(t===Ao.CurrencyDecimal)return n[Il.NumberSymbols][Ao.Decimal];if(t===Ao.CurrencyGroup)return n[Il.NumberSymbols][Ao.Group]}return r}function Vo(e){if(!e[Il.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[Il.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Lo(e,t){for(let n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function qo(e){const[t,n]=e.split(":");return{hours:+t,minutes:+n}}const Bo=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Uo={},Ho=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,zo=function(){var e={Short:0,ShortGMT:1,Long:2,Extended:3};return e[e.Short]="Short",e[e.ShortGMT]="ShortGMT",e[e.Long]="Long",e[e.Extended]="Extended",e}(),Wo=function(){var e={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return e[e.FullYear]="FullYear",e[e.Month]="Month",e[e.Date]="Date",e[e.Hours]="Hours",e[e.Minutes]="Minutes",e[e.Seconds]="Seconds",e[e.FractionalSeconds]="FractionalSeconds",e[e.Day]="Day",e}(),Go=function(){var e={DayPeriods:0,Days:1,Months:2,Eras:3};return e[e.DayPeriods]="DayPeriods",e[e.Days]="Days",e[e.Months]="Months",e[e.Eras]="Eras",e}();function Ko(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(e,n){return null!=t&&n in t?t[n]:e})),e}function Zo(e,t,n="-",r,l){let i="";(e<0||l&&e<=0)&&(l?e=1-e:(e=-e,i=n));let s=String(e);for(;s.length<t;)s="0"+s;return r&&(s=s.substr(s.length-t)),i+s}function Qo(e,t,n=0,r=!1,l=!1){return function(i,s){let o=function(e,t){switch(e){case Wo.FullYear:return t.getFullYear();case Wo.Month:return t.getMonth();case Wo.Date:return t.getDate();case Wo.Hours:return t.getHours();case Wo.Minutes:return t.getMinutes();case Wo.Seconds:return t.getSeconds();case Wo.FractionalSeconds:return t.getMilliseconds();case Wo.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,i);if((n>0||o>-n)&&(o+=n),e===Wo.Hours)0===o&&-12===n&&(o=12);else if(e===Wo.FractionalSeconds)return u=t,Zo(o,3).substr(0,u);var u;const a=$o(s,Ao.MinusSign);return Zo(o,t,a,r,l)}}function Jo(e,t,n=Mo.Format,r=!1){return function(l,i){return function(e,t,n,r,l,i){switch(n){case Go.Months:return Po(t,l,r)[e.getMonth()];case Go.Days:return To(t,l,r)[e.getDay()];case Go.DayPeriods:const s=e.getHours(),o=e.getMinutes();if(i){const e=function(e){const t=Fl(e);return Vo(t),(t[Il.ExtraData][2]||[]).map(e=>"string"==typeof e?qo(e):[qo(e[0]),qo(e[1])])}(t),n=function(e,t,n){const r=Fl(e);Vo(r);const l=Lo([r[Il.ExtraData][0],r[Il.ExtraData][1]],t)||[];return Lo(l,n)||[]}(t,l,r);let i;if(e.forEach((e,t)=>{if(Array.isArray(e)){const{hours:r,minutes:l}=e[0],{hours:u,minutes:a}=e[1];s>=r&&o>=l&&(s<u||s===u&&o<a)&&(i=n[t])}else{const{hours:r,minutes:l}=e;r===s&&l===o&&(i=n[t])}}),i)return i}return function(e,t,n){const r=Fl(e),l=Lo([r[Il.DayPeriodsFormat],r[Il.DayPeriodsStandalone]],t);return Lo(l,n)}(t,l,r)[s<12?0:1];case Go.Eras:return function(e,t){return Lo(Fl(e)[Il.Eras],t)}(t,r)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(l,i,e,t,n,r)}}function Xo(e){return function(t,n,r){const l=-1*r,i=$o(n,Ao.MinusSign),s=l>0?Math.floor(l/60):Math.ceil(l/60);switch(e){case zo.Short:return(l>=0?"+":"")+Zo(s,2,i)+Zo(Math.abs(l%60),2,i);case zo.ShortGMT:return"GMT"+(l>=0?"+":"")+Zo(s,1,i);case zo.Long:return"GMT"+(l>=0?"+":"")+Zo(s,2,i)+":"+Zo(Math.abs(l%60),2,i);case zo.Extended:return 0===r?"Z":(l>=0?"+":"")+Zo(s,2,i)+":"+Zo(Math.abs(l%60),2,i);default:throw new Error(`Unknown zone width "${e}"`)}}}const Yo=0,eu=4;function tu(e,t=!1){return function(n,r){let l;if(t){const e=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,t=n.getDate();l=1+Math.floor((t+e)/7)}else{const e=function(e){const t=new Date(e,Yo,1).getDay();return new Date(e,0,1+(t<=eu?eu:eu+7)-t)}(n.getFullYear()),t=(i=n,new Date(i.getFullYear(),i.getMonth(),i.getDate()+(eu-i.getDay()))).getTime()-e.getTime();l=1+Math.round(t/6048e5)}var i;return Zo(l,e,$o(r,Ao.MinusSign))}}const nu={};function ru(e,t){e=e.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function lu(e){return e instanceof Date&&!isNaN(e.valueOf())}const iu=new Ee("UseV4Plurals");class su{}let ou=(()=>(class extends su{constructor(e,t){super(),this.locale=e,this.deprecatedPluralFn=t}getPluralCategory(e,t){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(t||this.locale,e):function(e){return Fl(e)[Il.PluralCase]}(t||this.locale)(e)){case Io.Zero:return"zero";case Io.One:return"one";case Io.Two:return"two";case Io.Few:return"few";case Io.Many:return"many";default:return"other"}}}))();class uu{}let au=(()=>(class{constructor(e,t,n,r){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=r,this._initialClasses=[]}getValue(){return null}setClass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}setNgClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Ut(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}applyChanges(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${ve(e.item)}`);this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}))(),cu=(()=>{class e{constructor(e){this._delegate=e}getValue(){return this._delegate.getValue()}}return e.ngDirectiveDef=void 0,e})(),du=(()=>(class extends cu{constructor(e){super(e)}set klass(e){this._delegate.setClass(e)}set ngClass(e){this._delegate.setNgClass(e)}ngDoCheck(){this._delegate.applyChanges()}}))();class hu{constructor(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let fu=(()=>(class{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){st()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(e)}. `+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${n}' of type '${e=n,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,r)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new hu(null,this._ngForOf,-1,-1),r),l=new pu(e,n);t.push(l)}else if(null==r)this._viewContainer.remove(n);else{const l=this._viewContainer.get(n);this._viewContainer.move(l,r);const i=new pu(e,l);t.push(i)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=r,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}))();class pu{constructor(e,t){this.record=e,this.view=t}}let gu=(()=>(class{constructor(e,t){this._viewContainer=e,this._context=new mu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){vu("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){vu("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}))();class mu{constructor(){this.$implicit=null,this.ngIf=null}}function vu(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${ve(t)}'.`)}let yu=(()=>(class{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){this._shouldRecreateView(e)?(this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))):this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(e){const t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}_hasContextShapeChanged(e){const t=Object.keys(e.previousValue||{}),n=Object.keys(e.currentValue||{});if(t.length===n.length){for(let e of n)if(-1===t.indexOf(e))return!0;return!1}return!0}_updateExistingContext(e){for(let t of Object.keys(e))this._viewRef.context[t]=this.ngTemplateOutletContext[t]}}))(),bu=(()=>(class{}))();const _u=new Ee("DocumentToken");let wu=(()=>{class e{}return e.ngInjectableDef=pe({token:e,providedIn:"root",factory:()=>new Cu($e(_u),window,$e(Nt))}),e})();class Cu{constructor(e,t,n){this.document=e,this.window=t,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const n=this.document.querySelector(`#${e}`);if(n)return void this.scrollToElement(n);const r=this.document.querySelector(`[name='${e}']`);if(r)return void this.scrollToElement(r)}catch(t){this.errorHandler.handleError(t)}}}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(n-l[0],r-l[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}const ku=new w(e=>e.complete());function xu(e){return e?function(e){return new w(t=>e.schedule(()=>t.complete()))}(e):ku}function Su(e){const t=new w(t=>{t.next(e),t.complete()});return t._isScalar=!0,t.value=e,t}function Eu(...e){let t=e[e.length-1];switch(M(t)?e.pop():t=void 0,e.length){case 0:return xu(t);case 1:return t?z(e,t):Su(e[0]);default:return z(e,t)}}class Du extends D{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new x;return this._value}next(e){super.next(this._value=e)}}function Iu(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}Iu.prototype=Object.create(Error.prototype);const Mu=Iu,Ou={};function Fu(...e){let t=null,n=null;return M(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&u(e[0])&&(e=e[0]),z(e,n).lift(new Au(t))}class Au{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new Tu(e,this.resultSelector))}}class Tu extends q{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(Ou),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++){const t=e[n];this.add(L(this,t,t,n))}}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n,r,l){const i=this.values,s=this.toRespond?i[n]===Ou?--this.toRespond:this.toRespond:0;i[n]=t,0===s&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function Pu(e){return new w(t=>{let n;try{n=e()}catch(r){return void t.error(r)}return(n?W(n):xu()).subscribe(t)})}function Nu(){return J(1)}function Ru(e,t){return function(n){return n.lift(new ju(e,t))}}class ju{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new $u(e,this.predicate,this.thisArg))}}class $u extends g{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}function Vu(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}Vu.prototype=Object.create(Error.prototype);const Lu=Vu;function qu(e){return function(t){return 0===e?xu():t.lift(new Bu(e))}}class Bu{constructor(e){if(this.total=e,this.total<0)throw new Lu}call(e,t){return t.subscribe(new Uu(e,this.total))}}class Uu extends g{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let l=0;l<n;l++){const l=t++%n;e.next(r[l])}}e.complete()}}function Hu(e,t,n){return function(r){return r.lift(new zu(e,t,n))}}class zu{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new Wu(e,this.nextOrObserver,this.error,this.complete))}}class Wu extends g{constructor(e,t,n,l){super(e),this._tapNext=y,this._tapError=y,this._tapComplete=y,this._tapError=n||y,this._tapComplete=l||y,r(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||y,this._tapError=t.error||y,this._tapComplete=t.complete||y)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}const Gu=(e=function(){return new Mu})=>Hu({hasValue:!1,next(){this.hasValue=!0},complete(){if(!this.hasValue)throw e()}});function Ku(e=null){return t=>t.lift(new Zu(e))}class Zu{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new Qu(e,this.defaultValue))}}class Qu extends g{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Ju(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Ru((t,n)=>e(t,n,r)):Q,qu(1),n?Ku(t):Gu(()=>new Mu))}function Xu(e){return function(t){const n=new Yu(e),r=t.lift(n);return n.caught=r}}class Yu{constructor(e){this.selector=e}call(e,t){return t.subscribe(new ea(e,this.selector,this.caught))}}class ea extends q{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const r=new O(this,void 0,void 0);this.add(r),L(this,n,void 0,void 0,r)}}}function ta(e){return t=>0===e?xu():t.lift(new na(e))}class na{constructor(e){if(this.total=e,this.total<0)throw new Lu}call(e,t){return t.subscribe(new ra(e,this.total))}}class ra extends g{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function la(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Ru((t,n)=>e(t,n,r)):Q,ta(1),n?Ku(t):Gu(()=>new Mu))}class ia{constructor(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}call(e,t){return t.subscribe(new sa(e,this.predicate,this.thisArg,this.source))}}class sa extends g{constructor(e,t,n,r){super(e),this.predicate=t,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(e){this.destination.next(e),this.destination.complete()}_next(e){let t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function oa(e,t){return"function"==typeof t?n=>n.pipe(oa((n,r)=>W(e(n,r)).pipe(B((e,l)=>t(n,e,r,l))))):t=>t.lift(new ua(e))}class ua{constructor(e){this.project=e}call(e,t){return t.subscribe(new aa(e,this.project))}}class aa extends q{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)}_innerSub(e,t,n){const r=this.innerSubscription;r&&r.unsubscribe();const l=new O(this,void 0,void 0);this.destination.add(l),this.innerSubscription=L(this,e,t,n,l)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(e,t,n,r,l){this.destination.next(t)}}function ca(...e){return t=>{let n=e[e.length-1];M(n)?e.pop():n=null;const r=e.length;return function(...e){return Nu()(Eu(...e))}(1!==r||n?r>0?z(e,n):xu(n):Su(e[0]),t)}}function da(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new ha(e,t,n))}}class ha{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new fa(e,this.accumulator,this.seed,this.hasSeed))}}class fa extends g{constructor(e,t,n,r){super(e),this.accumulator=t,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function pa(e,t){return G(e,t,1)}class ga{constructor(e){this.callback=e}call(e,t){return t.subscribe(new ma(e,this.callback))}}class ma extends g{constructor(e,t){super(e),this.add(new h(t))}}let va=null;function ya(){return va}class ba{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(e){this._attrToPropMap=e}}class _a extends ba{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const t=this.createElement("div",document);if(null!=this.getStyle(t,"animationName"))this._animationPrefix="";else{const e=["Webkit","Moz","O","ms"];for(let n=0;n<e.length;n++)if(null!=this.getStyle(t,e[n]+"AnimationName")){this._animationPrefix="-"+e[n].toLowerCase()+"-";break}}const n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(n).forEach(e=>{null!=this.getStyle(t,e)&&(this._transitionEnd=n[e])})}catch(e){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(e){return e.getDistributedNodes()}resolveAndSetHref(e,t,n){e.href=null==n?t:t+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}const wa={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Ca=3,ka={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xa={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Sa=(()=>{if(Se.Node)return Se.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))}})();class Ea extends _a{parse(e){throw new Error("parse not implemented")}static makeCurrent(){var e;e=new Ea,va||(va=e)}hasProperty(e,t){return t in e}setProperty(e,t,n){e[t]=n}getProperty(e,t){return e[t]}invoke(e,t,n){e[t](...n)}logError(e){window.console&&(console.error?console.error(e):console.log(e))}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return wa}contains(e,t){return Sa.call(e,t)}querySelector(e,t){return e.querySelector(t)}querySelectorAll(e,t){return e.querySelectorAll(t)}on(e,t,n){e.addEventListener(t,n,!1)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}createMouseEvent(e){const t=this.getDefaultDocument().createEvent("MouseEvent");return t.initEvent(e,!0,!0),t}createEvent(e){const t=this.getDefaultDocument().createEvent("Event");return t.initEvent(e,!0,!0),t}preventDefault(e){e.preventDefault(),e.returnValue=!1}isPrevented(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue}getInnerHTML(e){return e.innerHTML}getTemplateContent(e){return"content"in e&&this.isTemplateElement(e)?e.content:null}getOuterHTML(e){return e.outerHTML}nodeName(e){return e.nodeName}nodeValue(e){return e.nodeValue}type(e){return e.type}content(e){return this.hasProperty(e,"content")?e.content:e}firstChild(e){return e.firstChild}nextSibling(e){return e.nextSibling}parentElement(e){return e.parentNode}childNodes(e){return e.childNodes}childNodesAsList(e){const t=e.childNodes,n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=t[r];return n}clearNodes(e){for(;e.firstChild;)e.removeChild(e.firstChild)}appendChild(e,t){e.appendChild(t)}removeChild(e,t){e.removeChild(t)}replaceChild(e,t,n){e.replaceChild(t,n)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}insertBefore(e,t,n){e.insertBefore(n,t)}insertAllBefore(e,t,n){n.forEach(n=>e.insertBefore(n,t))}insertAfter(e,t,n){e.insertBefore(n,t.nextSibling)}setInnerHTML(e,t){e.innerHTML=t}getText(e){return e.textContent}setText(e,t){e.textContent=t}getValue(e){return e.value}setValue(e,t){e.value=t}getChecked(e){return e.checked}setChecked(e,t){e.checked=t}createComment(e){return this.getDefaultDocument().createComment(e)}createTemplate(e){const t=this.getDefaultDocument().createElement("template");return t.innerHTML=e,t}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createElementNS(e,t,n){return(n=n||this.getDefaultDocument()).createElementNS(e,t)}createTextNode(e,t){return(t=t||this.getDefaultDocument()).createTextNode(e)}createScriptTag(e,t,n){const r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(e,t),r}createStyleElement(e,t){const n=(t=t||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(e,t)),n}createShadowRoot(e){return e.createShadowRoot()}getShadowRoot(e){return e.shadowRoot}getHost(e){return e.host}clone(e){return e.cloneNode(!0)}getElementsByClassName(e,t){return e.getElementsByClassName(t)}getElementsByTagName(e,t){return e.getElementsByTagName(t)}classList(e){return Array.prototype.slice.call(e.classList,0)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}hasClass(e,t){return e.classList.contains(t)}setStyle(e,t,n){e.style[t]=n}removeStyle(e,t){e.style[t]=""}getStyle(e,t){return e.style[t]}hasStyle(e,t,n){const r=this.getStyle(e,t)||"";return n?r==n:r.length>0}tagName(e){return e.tagName}attributeMap(e){const t=new Map,n=e.attributes;for(let r=0;r<n.length;r++){const e=n.item(r);t.set(e.name,e.value)}return t}hasAttribute(e,t){return e.hasAttribute(t)}hasAttributeNS(e,t,n){return e.hasAttributeNS(t,n)}getAttribute(e,t){return e.getAttribute(t)}getAttributeNS(e,t,n){return e.getAttributeNS(t,n)}setAttribute(e,t,n){e.setAttribute(t,n)}setAttributeNS(e,t,n,r){e.setAttributeNS(t,n,r)}removeAttribute(e,t){e.removeAttribute(t)}removeAttributeNS(e,t,n){e.removeAttributeNS(t,n)}templateAwareRoot(e){return this.isTemplateElement(e)?this.content(e):e}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(e){try{return e.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(e){return e.title}setTitle(e,t){e.title=t||""}elementMatches(e,t){return!!this.isElementNode(e)&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))}isTemplateElement(e){return this.isElementNode(e)&&"TEMPLATE"===e.nodeName}isTextNode(e){return e.nodeType===Node.TEXT_NODE}isCommentNode(e){return e.nodeType===Node.COMMENT_NODE}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}hasShadowRoot(e){return null!=e.shadowRoot&&e instanceof HTMLElement}isShadowRoot(e){return e instanceof DocumentFragment}importIntoDoc(e){return document.importNode(this.templateAwareRoot(e),!0)}adoptNode(e){return document.adoptNode(e)}getHref(e){return e.getAttribute("href")}getEventKey(e){let t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),e.location===Ca&&xa.hasOwnProperty(t)&&(t=xa[t]))}return ka[t]||t}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=Ia||(Ia=document.querySelector("base"))?Ia.getAttribute("href"):null;return null==t?null:(n=t,Da||(Da=document.createElement("a")),Da.setAttribute("href",n),"/"===Da.pathname.charAt(0)?Da.pathname:"/"+Da.pathname);var n}resetBaseElement(){Ia=null}getUserAgent(){return window.navigator.userAgent}setData(e,t,n){this.setAttribute(e,"data-"+t,n)}getData(e,t){return this.getAttribute(e,"data-"+t)}getComputedStyle(e){return getComputedStyle(e)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return function(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[r,l]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(r.trim()===t)return decodeURIComponent(l)}return null}(document.cookie,e)}setCookie(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)}}let Da,Ia=null;function Ma(){return!!window.history.pushState}let Oa=(()=>{class e extends _o{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=ya().getLocation(),this._history=ya().getHistory()}getBaseHrefFromDOM(){return ya().getBaseHref(this._doc)}onPopState(e){ya().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}onHashChange(e){ya().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){Ma()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){Ma()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return e.ctorParameters=()=>[{type:void 0,decorators:[{type:ue,args:[_u]}]}],e})();const Fa=new Ee("TRANSITION_ID"),Aa=[{provide:Rl,useFactory:function(e,t,n){return()=>{n.get(jl).donePromise.then(()=>{const n=ya();Array.prototype.slice.apply(n.querySelectorAll(t,"style[ng-transition]")).filter(t=>n.getAttribute(t,"ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[Fa,_u,Ue],multi:!0}];class Ta{static init(){var e;e=new Ta,yi=e}addToWindow(e){Se.getAngularTestability=(t,n=!0)=>{const r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},Se.getAllAngularTestabilities=()=>e.getAllTestabilities(),Se.getAllAngularRootElements=()=>e.getAllRootElements(),Se.frameworkStabilizers||(Se.frameworkStabilizers=[]),Se.frameworkStabilizers.push(e=>{const t=Se.getAllAngularTestabilities();let n=t.length,r=!1;const l=function(t){r=r||t,0==--n&&e(r)};t.forEach(function(e){e.whenStable(l)})})}findTestabilityInTree(e,t,n){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:n?ya().isShadowRoot(t)?this.findTestabilityInTree(e,ya().getHost(t),!0):this.findTestabilityInTree(e,ya().parentElement(t),!0):null}}function Pa(e,t){"undefined"!=typeof COMPILED&&COMPILED||((Se.ng=Se.ng||{})[e]=t)}const Na=(()=>({ApplicationRef:Ei,NgZone:oi}))();function Ra(e){return ji(e)}const ja=new Ee("EventManagerPlugins");let $a=(()=>(class{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let r=0;r<n.length;r++){const t=n[r];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}))();class Va{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const r=ya().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,n)}}let La=(()=>(class{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}))(),qa=(()=>(class extends La{constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,t){e.forEach(e=>{const n=this._doc.createElement("style");n.textContent=e,this._styleNodes.add(t.appendChild(n))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(t=>this._addStylesToHost(e,t))}ngOnDestroy(){this._styleNodes.forEach(e=>ya().remove(e))}}))();const Ba={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ua=/%COMP%/g,Ha="_nghost-%COMP%",za="_ngcontent-%COMP%";function Wa(e,t,n){for(let r=0;r<t.length;r++){let l=t[r];Array.isArray(l)?Wa(e,l,n):(l=l.replace(Ua,e),n.push(l))}return n}function Ga(e){return t=>{!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let Ka=(()=>(class{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Za(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case nt.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new Xa(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case nt.Native:case nt.ShadowDom:return new Ya(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=Wa(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}))();class Za{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Ba[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const l=Ba[r];l?e.setAttributeNS(l,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=Ba[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,r){r&cn.DashCase?e.style.setProperty(t,n,r&cn.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&cn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){Ja(t,"property"),e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return Ja(t,"listener"),"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ga(n)):this.eventManager.addEventListener(e,t,Ga(n))}}const Qa=(()=>"@".charCodeAt(0))();function Ja(e,t){if(e.charCodeAt(0)===Qa)throw new Error(`Found the synthetic ${t} ${e}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class Xa extends Za{constructor(e,t,n,r){super(e),this.component=n;const l=Wa(r+"-"+n.id,n.styles,[]);t.addStyles(l),this.contentAttr=za.replace(Ua,r+"-"+n.id),this.hostAttr=Ha.replace(Ua,r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class Ya extends Za{constructor(e,t,n,r){super(e),this.sharedStylesHost=t,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===nt.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const l=Wa(r.id,r.styles,[]);for(let i=0;i<l.length;i++){const e=document.createElement("style");e.textContent=l[i],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}const ec=(()=>"undefined"!=typeof Zone&&Zone.__symbol__||function(e){return"__zone_symbol__"+e})(),tc=ec("addEventListener"),nc=ec("removeEventListener"),rc={},lc="__zone_symbol__propagationStopped",ic=(()=>{const e="undefined"!=typeof Zone&&Zone[ec("BLACK_LISTED_EVENTS")];if(e){const t={};return e.forEach(e=>{t[e]=e}),t}})(),sc=function(e){return!!ic&&ic.hasOwnProperty(e)},oc=function(e){const t=rc[e.type];if(!t)return;const n=this[t];if(!n)return;const r=[e];if(1===n.length){const e=n[0];return e.zone!==Zone.current?e.zone.run(e.handler,this,r):e.handler.apply(this,r)}{const t=n.slice();for(let n=0;n<t.length&&!0!==e[lc];n++){const e=t[n];e.zone!==Zone.current?e.zone.run(e.handler,this,r):e.handler.apply(this,r)}}};let uc=(()=>(class extends Va{constructor(e,t,n){super(e),this.ngZone=t,n&&function(e){return"server"===e}(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype.__zone_symbol__stopImmediatePropagation)return;const e=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[lc]=!0),e&&e.apply(this,arguments)}}supports(e){return!0}addEventListener(e,t,n){let r=n;if(!e[tc]||oi.isInAngularZone()&&!sc(t))e.addEventListener(t,r,!1);else{let n=rc[t];n||(n=rc[t]=ec("ANGULAR"+t+"FALSE"));let l=e[n];const i=l&&l.length>0;l||(l=e[n]=[]);const s=sc(t)?Zone.root:Zone.current;if(0===l.length)l.push({zone:s,handler:r});else{let e=!1;for(let t=0;t<l.length;t++)if(l[t].handler===r){e=!0;break}e||l.push({zone:s,handler:r})}i||e[tc](t,oc,!1)}return()=>this.removeEventListener(e,t,r)}removeEventListener(e,t,n){let r=e[nc];if(!r)return e.removeEventListener.apply(e,[t,n,!1]);let l=rc[t],i=l&&e[l];if(!i)return e.removeEventListener.apply(e,[t,n,!1]);let s=!1;for(let o=0;o<i.length;o++)if(i[o].handler===n){s=!0,i.splice(o,1);break}s?0===i.length&&r.apply(e,[t,oc,!1]):e.removeEventListener.apply(e,[t,n,!1])}}))();const ac={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},cc=new Ee("HammerGestureConfig"),dc=new Ee("HammerLoader");let hc=(()=>(class{constructor(){this.events=[],this.overrides={}}buildHammer(e){const t=new Hammer(e,this.options);t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0});for(const n in this.overrides)t.get(n).set(this.overrides[n]);return t}}))(),fc=(()=>(class extends Va{constructor(e,t,n,r){super(e),this._config=t,this.console=n,this.loader=r}supports(e){return!(!ac.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${e}" event cannot be bound because Hammer.JS is not `+"loaded and no custom loader has been specified."),1))}addEventListener(e,t,n){const r=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){let r=!1,l=()=>{r=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(l=()=>{});r||(l=this.addEventListener(e,t,n))}).catch(()=>{this.console.warn(`The "${t}" event cannot be bound because the custom `+"Hammer.JS loader failed."),l=()=>{}}),()=>{l()}}return r.runOutsideAngular(()=>{const l=this._config.buildHammer(e),i=function(e){r.runGuarded(function(){n(e)})};return l.on(t,i),()=>{l.off(t,i),"function"==typeof l.destroy&&l.destroy()}})}isCustomEvent(e){return this._config.events.indexOf(e)>-1}}))();const pc=["alt","control","meta","shift"],gc={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let mc=(()=>{class e extends Va{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,r){const l=e.parseEventName(n),i=e.eventCallback(l.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ya().onAndCancel(t,l.domEventName,i))}static parseEventName(t){const n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const l=e._normalizeKey(n.pop());let i="";if(pc.forEach(e=>{const t=n.indexOf(e);t>-1&&(n.splice(t,1),i+=e+".")}),i+=l,0!=n.length||0===l.length)return null;const s={};return s.domEventName=r,s.fullKey=i,s}static getEventFullKey(e){let t="",n=ya().getEventKey(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),pc.forEach(r=>{r!=n&&(0,gc[r])(e)&&(t+=r+".")}),t+=n}static eventCallback(t,n,r){return l=>{e.getEventFullKey(l)===t&&r.runGuarded(()=>n(l))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e})();class vc{}let yc=(()=>(class extends vc{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case It.NONE:return t;case It.HTML:return t instanceof _c?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"HTML"),function(e,t){let n=null;try{Et=Et||new ot(e);let r=t?String(t):"";n=Et.getInertBodyElement(r);let l=5,i=r;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,r=i,i=n.innerHTML,n=Et.getInertBodyElement(r)}while(r!==i);const s=new Ct,o=s.sanitizeChildren(Dt(n)||n);return st()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),o}finally{if(n){const e=Dt(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}(this._doc,String(t)));case It.STYLE:return t instanceof wc?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"Style"),function(e){if(!(e=String(e).trim()))return"";const t=e.match(Ft);return t&&ct(t[1])===t[1]||e.match(Ot)&&function(e){let t=!0,n=!0;for(let r=0;r<e.length;r++){const l=e.charAt(r);"'"===l&&n?t=!t:'"'===l&&t&&(n=!n)}return t&&n}(e)?e:(st()&&console.warn(`WARNING: sanitizing unsafe style value ${e} (see http://g.co/ng/security#xss).`),"unsafe")}(t));case It.SCRIPT:if(t instanceof Cc)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"Script"),new Error("unsafe value used in a script context");case It.URL:return t instanceof xc||t instanceof kc?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"URL"),ct(String(t)));case It.RESOURCE_URL:if(t instanceof xc)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(e,t){if(e instanceof bc)throw new Error(`Required a safe ${t}, got a ${e.getTypeName()} `+"(see http://g.co/ng/security#xss)")}bypassSecurityTrustHtml(e){return new _c(e)}bypassSecurityTrustStyle(e){return new wc(e)}bypassSecurityTrustScript(e){return new Cc(e)}bypassSecurityTrustUrl(e){return new kc(e)}bypassSecurityTrustResourceUrl(e){return new xc(e)}}))();class bc{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class _c extends bc{getTypeName(){return"HTML"}}class wc extends bc{getTypeName(){return"Style"}}class Cc extends bc{getTypeName(){return"Script"}}class kc extends bc{getTypeName(){return"URL"}}class xc extends bc{getTypeName(){return"ResourceURL"}}const Sc=Ci(Vi,"browser",[{provide:Bl,useValue:"browser"},{provide:ql,useValue:function(){Ea.makeCurrent(),Ta.init()},multi:!0},{provide:_o,useClass:Oa,deps:[_u]},{provide:_u,useFactory:function(){return document},deps:[]}]);function Ec(){return new Nt}let Dc=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:$l,useValue:t.appId},{provide:Fa,useExisting:$l},Aa]}}}return e})();"undefined"!=typeof window&&window;class Ic{constructor(e,t){this.id=e,this.url=t}}class Mc extends Ic{constructor(e,t,n="imperative",r=null){super(e,t),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Oc extends Ic{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Fc extends Ic{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ac extends Ic{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Tc extends Ic{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pc extends Ic{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nc extends Ic{constructor(e,t,n,r,l){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Rc extends Ic{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jc extends Ic{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $c{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Vc{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Lc{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qc{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bc{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Uc{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hc{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let zc=(()=>(class{}))();const Wc="primary";class Gc{constructor(e){this.params=e||{}}has(e){return this.params.hasOwnProperty(e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Kc(e){return new Gc(e)}const Zc="ngNavigationCancelingError";function Qc(e){const t=Error("NavigationCancelingError: "+e);return t[Zc]=!0,t}function Jc(e,t,n){const r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const l={};for(let i=0;i<r.length;i++){const t=r[i],n=e[i];if(t.startsWith(":"))l[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,r.length),posParams:l}}class Xc{constructor(e,t){this.routes=e,this.module=t}}function Yc(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];ed(r,td(t,r))}}function ed(e,t){if(!e)throw new Error(`\n      Invalid configuration of route '${t}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(e))throw new Error(`Invalid configuration of route '${t}': Array cannot be specified`);if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&e.outlet!==Wc)throw new Error(`Invalid configuration of route '${t}': a componentless route without children or loadChildren cannot have a named outlet set`);if(e.redirectTo&&e.children)throw new Error(`Invalid configuration of route '${t}': redirectTo and children cannot be used together`);if(e.redirectTo&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': redirectTo and loadChildren cannot be used together`);if(e.children&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': children and loadChildren cannot be used together`);if(e.redirectTo&&e.component)throw new Error(`Invalid configuration of route '${t}': redirectTo and component cannot be used together`);if(e.path&&e.matcher)throw new Error(`Invalid configuration of route '${t}': path and matcher cannot be used together`);if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error(`Invalid configuration of route '${t}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===e.path&&void 0===e.matcher)throw new Error(`Invalid configuration of route '${t}': routes must have either a path or a matcher specified`);if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error(`Invalid configuration of route '${t}': path cannot start with a slash`);if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error(`Invalid configuration of route '{path: "${t}", redirectTo: "${e.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error(`Invalid configuration of route '${t}': pathMatch can only be set to 'prefix' or 'full'`);e.children&&Yc(e.children,t)}function td(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function nd(e){const t=e.children&&e.children.map(nd),n=t?Object.assign({},e,{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Wc&&(n.component=zc),n}function rd(e,t){const n=Object.keys(e),r=Object.keys(t);if(!n||!r||n.length!=r.length)return!1;let l;for(let i=0;i<n.length;i++)if(e[l=n[i]]!==t[l])return!1;return!0}function ld(e){return Array.prototype.concat.apply([],e)}function id(e){return e.length>0?e[e.length-1]:null}function sd(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function od(e){return Wt(e)?e:zt(e)?W(Promise.resolve(e)):Eu(e)}function ud(e,t,n){return n?function(e,t){return rd(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!hd(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>t[n]===e[n])}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,r,l){if(n.segments.length>l.length){return!!hd(n.segments.slice(0,l.length),l)&&!r.hasChildren()}if(n.segments.length===l.length){if(!hd(n.segments,l))return!1;for(const t in r.children){if(!n.children[t])return!1;if(!e(n.children[t],r.children[t]))return!1}return!0}{const e=l.slice(0,n.segments.length),i=l.slice(n.segments.length);return!!hd(n.segments,e)&&!!n.children[Wc]&&t(n.children[Wc],r,i)}}(t,n,n.segments)}(e.root,t.root)}class ad{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Kc(this.queryParams)),this._queryParamMap}toString(){return md.serialize(this)}}class cd{constructor(e,t){this.segments=e,this.children=t,this.parent=null,sd(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vd(this)}}class dd{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Kc(this.parameters)),this._parameterMap}toString(){return kd(this)}}function hd(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}function fd(e,t){let n=[];return sd(e.children,(e,r)=>{r===Wc&&(n=n.concat(t(e,r)))}),sd(e.children,(e,r)=>{r!==Wc&&(n=n.concat(t(e,r)))}),n}class pd{}class gd{parse(e){const t=new Id(e);return new ad(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var t;return`${`/${function e(t,n){if(!t.hasChildren())return vd(t);if(n){const n=t.children[Wc]?e(t.children[Wc],!1):"",r=[];return sd(t.children,(t,n)=>{n!==Wc&&r.push(`${n}:${e(t,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=fd(t,(n,r)=>r===Wc?[e(t.children[Wc],!1)]:[`${r}:${e(n,!1)}`]);return`${vd(t)}/(${n.join("//")})`}}(e.root,!0)}`}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${bd(t)}=${bd(e)}`).join("&"):`${bd(t)}=${bd(n)}`});return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const md=new gd;function vd(e){return e.segments.map(e=>kd(e)).join("/")}function yd(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bd(e){return yd(e).replace(/%3B/gi,";")}function _d(e){return yd(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wd(e){return decodeURIComponent(e)}function Cd(e){return wd(e.replace(/\+/g,"%20"))}function kd(e){return`${_d(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${_d(e)}=${_d(t[e])}`).join("")}`;var t}const xd=/^[^\/()?;=#]+/;function Sd(e){const t=e.match(xd);return t?t[0]:""}const Ed=/^[^=?&#]+/,Dd=/^[^?&#]+/;class Id{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new cd([],{}):new cd([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[Wc]=new cd(e,t)),n}parseSegment(){const e=Sd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new dd(wd(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Sd(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=Sd(this.remaining);e&&this.capture(n=e)}e[wd(t)]=wd(n)}parseQueryParam(e){const t=function(e){const t=e.match(Ed);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(Dd);return t?t[0]:""}(this.remaining);e&&this.capture(n=e)}const r=Cd(t),l=Cd(n);if(e.hasOwnProperty(r)){let t=e[r];Array.isArray(t)||(e[r]=t=[t]),t.push(l)}else e[r]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Sd(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let l=void 0;n.indexOf(":")>-1?(l=n.substr(0,n.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Wc);const i=this.parseChildren();t[l]=1===Object.keys(i).length?i[Wc]:new cd([],i),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Md{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Od(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=Od(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Fd(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return Fd(e,this._root).map(e=>e.value)}}function Od(e,t){if(e===t.value)return t;for(const n of t.children){const t=Od(e,n);if(t)return t}return null}function Fd(e,t){if(e===t.value)return[t];for(const n of t.children){const r=Fd(e,n);if(r.length)return r.unshift(t),r}return[]}class Ad{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Td(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class Pd extends Md{constructor(e,t){super(e),this.snapshot=t,Ld(this,e)}toString(){return this.snapshot.toString()}}function Nd(e,t){const n=function(e,t){const n=new $d([],{},{},"",{},Wc,t,null,e.root,-1,{});return new Vd("",new Ad(n,[]))}(e,t),r=new Du([new dd("",{})]),l=new Du({}),i=new Du({}),s=new Du({}),o=new Du(""),u=new Rd(r,l,s,o,i,Wc,t,n.root);return u.snapshot=n.root,new Pd(new Ad(u,[]),n)}class Rd{constructor(e,t,n,r,l,i,s,o){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=l,this.outlet=i,this.component=s,this._futureSnapshot=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(B(e=>Kc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(B(e=>Kc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function jd(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const e=n[r],t=n[r-1];if(e.routeConfig&&""===e.routeConfig.path)r--;else{if(t.component)break;r--}}return function(e){return e.reduce((e,t)=>({params:Object.assign({},e.params,t.params),data:Object.assign({},e.data,t.data),resolve:Object.assign({},e.resolve,t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class $d{constructor(e,t,n,r,l,i,s,o,u,a,c){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=l,this.outlet=i,this.component=s,this.routeConfig=o,this._urlSegment=u,this._lastPathIndex=a,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Kc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Kc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Vd extends Md{constructor(e,t){super(t),this.url=e,Ld(this,t)}toString(){return qd(this._root)}}function Ld(e,t){t.value._routerState=e,t.children.forEach(t=>Ld(e,t))}function qd(e){const t=e.children.length>0?` { ${e.children.map(qd).join(", ")} } `:"";return`${e.value}${t}`}function Bd(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,rd(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),rd(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!rd(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),rd(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Ud(e,t){var n,r;return rd(e.params,t.params)&&hd(n=e.url,r=t.url)&&n.every((e,t)=>rd(e.parameters,r[t].parameters))&&!(!e.parent!=!t.parent)&&(!e.parent||Ud(e.parent,t.parent))}function Hd(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function zd(e,t,n,r,l){let i={};return r&&sd(r,(e,t)=>{i[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),new ad(n.root===e?t:function e(t,n,r){const l={};return sd(t.children,(t,i)=>{l[i]=t===n?r:e(t,n,r)}),new cd(t.segments,l)}(n.root,e,t),i,l)}class Wd{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&Hd(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(e=>"object"==typeof e&&null!=e&&e.outlets);if(r&&r!==id(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Gd{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function Kd(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets[Wc]:`${e}`}function Zd(e,t,n){if(e||(e=new cd([],{})),0===e.segments.length&&e.hasChildren())return Qd(e,t,n);const r=function(e,t,n){let r=0,l=t;const i={match:!1,pathIndex:0,commandIndex:0};for(;l<e.segments.length;){if(r>=n.length)return i;const t=e.segments[l],s=Kd(n[r]),o=r<n.length-1?n[r+1]:null;if(l>0&&void 0===s)break;if(s&&o&&"object"==typeof o&&void 0===o.outlets){if(!eh(s,o,t))return i;r+=2}else{if(!eh(s,{},t))return i;r++}l++}return{match:!0,pathIndex:l,commandIndex:r}}(e,t,n),l=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const t=new cd(e.segments.slice(0,r.pathIndex),{});return t.children[Wc]=new cd(e.segments.slice(r.pathIndex),e.children),Qd(t,0,l)}return r.match&&0===l.length?new cd(e.segments,{}):r.match&&!e.hasChildren()?Jd(e,t,n):r.match?Qd(e,0,l):Jd(e,t,n)}function Qd(e,t,n){if(0===n.length)return new cd(e.segments,{});{const r=function(e){return"object"!=typeof e[0]?{[Wc]:e}:void 0===e[0].outlets?{[Wc]:e}:e[0].outlets}(n),l={};return sd(r,(n,r)=>{null!==n&&(l[r]=Zd(e.children[r],t,n))}),sd(e.children,(e,t)=>{void 0===r[t]&&(l[t]=e)}),new cd(e.segments,l)}}function Jd(e,t,n){const r=e.segments.slice(0,t);let l=0;for(;l<n.length;){if("object"==typeof n[l]&&void 0!==n[l].outlets){const e=Xd(n[l].outlets);return new cd(r,e)}if(0===l&&Hd(n[0])){r.push(new dd(e.segments[t].path,n[0])),l++;continue}const i=Kd(n[l]),s=l<n.length-1?n[l+1]:null;i&&s&&Hd(s)?(r.push(new dd(i,Yd(s))),l+=2):(r.push(new dd(i,{})),l++)}return new cd(r,{})}function Xd(e){const t={};return sd(e,(e,n)=>{null!==e&&(t[n]=Jd(new cd([],{}),0,e))}),t}function Yd(e){const t={};return sd(e,(e,n)=>t[n]=`${e}`),t}function eh(e,t,n){return e==n.path&&rd(t,n.parameters)}const th=(e,t,n)=>B(r=>(new nh(t,r.targetRouterState,r.currentRouterState,n).activate(e),r));class nh{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Bd(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=Td(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,r[t],n),delete r[t]}),sd(r,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const r=e.value,l=t?t.value:null;if(r===l)if(r.component){const l=n.getContext(r.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,n);else l&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:r})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet);if(n){const r=Td(e),l=e.value.component?n.children:t;sd(r,(e,t)=>this.deactivateRouteAndItsChildren(e,l)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(e,t,n){const r=Td(t);e.children.forEach(e=>{this.activateRoutes(e,r[e.value.outlet],n),this.forwardEvent(new Uc(e.value.snapshot))}),e.children.length&&this.forwardEvent(new qc(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,l=t?t.value:null;if(Bd(r),r===l)if(r.component){const l=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const t=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const e=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),rh(e.route)}else{const n=function(e){for(let t=r.snapshot.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(),l=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=r,t.resolver=l,t.outlet&&t.outlet.activateWith(r,l),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function rh(e){Bd(e.value),e.children.forEach(rh)}function lh(e){return"function"==typeof e}function ih(e){return e instanceof ad}class sh{constructor(e){this.segmentGroup=e||null}}class oh{constructor(e){this.urlTree=e}}function uh(e){return new w(t=>t.error(new sh(e)))}function ah(e){return new w(t=>t.error(new oh(e)))}function ch(e){return new w(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class dh{constructor(e,t,n,r,l){this.configLoader=t,this.urlSerializer=n,this.urlTree=r,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(nn)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Wc).pipe(B(e=>this.createUrlTree(e,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Xu(e=>{if(e instanceof oh)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof sh)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Wc).pipe(B(t=>this.createUrlTree(t,e.queryParams,e.fragment))).pipe(Xu(e=>{if(e instanceof sh)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=e.segments.length>0?new cd([],{[Wc]:e}):e;return new ad(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(B(e=>new cd([],e))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){return function(e,t){if(0===Object.keys(e).length)return Eu({});const n=[],r=[],l={};return sd(e,(e,i)=>{const s=t(i,e).pipe(B(e=>l[i]=e));i===Wc?n.push(s):r.push(s)}),Eu.apply(null,n.concat(r)).pipe(Nu(),Ju(),B(()=>l))}(n.children,(n,r)=>this.expandSegmentGroup(e,t,r,n))}expandSegment(e,t,n,r,l,i){return Eu(...n).pipe(B(s=>this.expandSegmentAgainstRoute(e,t,n,s,r,l,i).pipe(Xu(e=>{if(e instanceof sh)return Eu(null);throw e}))),Nu(),la(e=>!!e),Xu((e,n)=>{if(e instanceof Mu||"EmptyError"===e.name){if(this.noLeftoversInUrl(t,r,l))return Eu(new cd([],{}));throw new sh(t)}throw e}))}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}expandSegmentAgainstRoute(e,t,n,r,l,i,s){return gh(r)!==i?uh(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,l):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,l,i):uh(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,l,i){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,l,i)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const l=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?ah(l):this.lineralizeSegments(n,l).pipe(G(n=>{const l=new cd(n,{});return this.expandSegment(e,l,t,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,l,i){const{matched:s,consumedSegments:o,lastChild:u,positionalParamSegments:a}=hh(t,r,l);if(!s)return uh(t);const c=this.applyRedirectCommands(o,r.redirectTo,a);return r.redirectTo.startsWith("/")?ah(c):this.lineralizeSegments(r,c).pipe(G(r=>this.expandSegment(e,t,n,r.concat(l.slice(u)),i,!1)))}matchSegmentAgainstRoute(e,t,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(B(e=>(n._loadedConfig=e,new cd(r,{})))):Eu(new cd(r,{}));const{matched:l,consumedSegments:i,lastChild:s}=hh(t,n,r);if(!l)return uh(t);const o=r.slice(s);return this.getChildConfig(e,n,r).pipe(G(e=>{const n=e.module,r=e.routes,{segmentGroup:l,slicedSegments:s}=function(e,t,n,r){return n.length>0&&function(e,t,n){return r.some(n=>ph(e,t,n)&&gh(n)!==Wc)}(e,n)?{segmentGroup:fh(new cd(t,function(e,t){const n={};n[Wc]=t;for(const r of e)""===r.path&&gh(r)!==Wc&&(n[gh(r)]=new cd([],{}));return n}(r,new cd(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return r.some(n=>ph(e,t,n))}(e,n)?{segmentGroup:fh(new cd(e.segments,function(e,t,n,r){const l={};for(const i of n)ph(e,t,i)&&!r[gh(i)]&&(l[gh(i)]=new cd([],{}));return Object.assign({},r,l)}(e,n,r,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,i,o,r);return 0===s.length&&l.hasChildren()?this.expandChildren(n,r,l).pipe(B(e=>new cd(i,e))):0===r.length&&0===s.length?Eu(new cd(i,{})):this.expandSegment(n,l,r,s,Wc,!0).pipe(B(e=>new cd(i.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?Eu(new Xc(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Eu(t._loadedConfig):function(e,t,n){const r=t.canLoad;return r&&0!==r.length?W(r).pipe(B(r=>{const l=e.get(r);let i;if(function(e){return e&&lh(e.canLoad)}(l))i=l.canLoad(t,n);else{if(!lh(l))throw new Error("Invalid CanLoad guard");i=l(t,n)}return od(i)})).pipe(Nu(),(l=e=>!0===e,e=>e.lift(new ia(l,void 0,e)))):Eu(!0);var l}(e.injector,t,n).pipe(G(n=>n?this.configLoader.load(e.injector,t).pipe(B(e=>(t._loadedConfig=e,e))):function(e){return new w(t=>t.error(Qc(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):Eu(new Xc([],e))}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Eu(n);if(r.numberOfChildren>1||!r.children[Wc])return ch(e.redirectTo);r=r.children[Wc]}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,r){const l=this.createSegmentGroup(e,t.root,n,r);return new ad(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return sd(e,(e,r)=>{if("string"==typeof e&&e.startsWith(":")){const l=e.substring(1);n[r]=t[l]}else n[r]=e}),n}createSegmentGroup(e,t,n,r){const l=this.createSegments(e,t.segments,n,r);let i={};return sd(t.children,(t,l)=>{i[l]=this.createSegmentGroup(e,t,n,r)}),new cd(l,i)}createSegments(e,t,n,r){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,r):this.findOrReturn(t,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}function hh(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(t.matcher||Jc)(n,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function fh(e){if(1===e.numberOfChildren&&e.children[Wc]){const t=e.children[Wc];return new cd(e.segments.concat(t.segments),t.children)}return e}function ph(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function gh(e){return e.outlet||Wc}class mh{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class vh{constructor(e,t){this.component=e,this.route=t}}function yh(e,t,n){const r=e._root;return function e(t,n,r,l,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Td(n);return t.children.forEach(t=>{!function(t,n,r,l,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=n?n.value:null,u=r?r.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const a=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!hd(e.url,t.url);case"pathParamsOrQueryParamsChange":return!hd(e.url,t.url)||!rd(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ud(e,t)||!rd(e.queryParams,t.queryParams);case"paramsChange":default:return!Ud(e,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);if(a?i.canActivateChecks.push(new mh(l)):(s.data=o.data,s._resolvedData=o._resolvedData),e(t,n,s.component?u?u.children:null:r,l,i),a){i.canDeactivateChecks.push(new vh(u&&u.outlet&&u.outlet.component||null,o))}}else o&&_h(n,u,i),i.canActivateChecks.push(new mh(l)),e(t,null,s.component?u?u.children:null:r,l,i)}(t,s[t.value.outlet],r,l.concat([t.value]),i),delete s[t.value.outlet]}),sd(s,(e,t)=>_h(e,r.getContext(t),i)),i}(r,t?t._root:null,n,[r.value])}function bh(e,t,n){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function _h(e,t,n){const r=Td(e),l=e.value;sd(r,(e,r)=>{_h(e,l.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new vh(l.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,l))}const wh=Symbol("INITIAL_VALUE");function Ch(){return oa(e=>Fu(...e.map(e=>e.pipe(ta(1),ca(wh)))).pipe(da((e,t)=>{let n=!1;return t.reduce((e,r,l)=>{if(e!==wh)return e;if(r===wh&&(n=!0),!n){if(!1===r)return r;if(l===t.length-1||ih(r))return r}return e},e)},wh),Ru(e=>e!==wh),B(e=>ih(e)?e:!0===e),ta(1)))}function kh(e,t){return null!==e&&t&&t(new Bc(e)),Eu(!0)}function xh(e,t){return null!==e&&t&&t(new Lc(e)),Eu(!0)}function Sh(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;return r&&0!==r.length?Eu(r.map(r=>Pu(()=>{const l=bh(r,t,n);let i;if(function(e){return e&&lh(e.canActivate)}(l))i=od(l.canActivate(t,e));else{if(!lh(l))throw new Error("Invalid CanActivate guard");i=od(l(t,e))}return i.pipe(la())}))).pipe(Ch()):Eu(!0)}function Eh(e,t,n){const r=t[t.length-1],l=t.slice(0,t.length-1).reverse().map(e=>(function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null})(e)).filter(e=>null!==e).map(t=>Pu(()=>Eu(t.guards.map(l=>{const i=bh(l,t.node,n);let s;if(function(e){return e&&lh(e.canActivateChild)}(i))s=od(i.canActivateChild(r,e));else{if(!lh(i))throw new Error("Invalid CanActivateChild guard");s=od(i(r,e))}return s.pipe(la())})).pipe(Ch())));return Eu(l).pipe(Ch())}class Dh{}class Ih{constructor(e,t,n,r,l,i){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=i}recognize(){try{const t=Fh(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,t,Wc),r=new $d([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Wc,this.rootComponentType,null,this.urlTree.root,-1,{}),l=new Ad(r,n),i=new Vd(this.url,l);return this.inheritParamsAndData(i._root),Eu(i)}catch(e){return new w(t=>t.error(e))}}inheritParamsAndData(e){const t=e.value,n=jd(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=fd(t,(t,n)=>this.processSegmentGroup(e,t,n));return function(e){const t={};n.forEach(e=>{const n=t[e.value.outlet];if(n){const t=n.url.map(e=>e.toString()).join("/"),r=e.value.url.map(e=>e.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${t}' and '${r}'.`)}t[e.value.outlet]=e.value})}(),n.sort((e,t)=>e.value.outlet===Wc?-1:t.value.outlet===Wc?1:e.value.outlet.localeCompare(t.value.outlet)),n}processSegment(e,t,n,r){for(const i of e)try{return this.processSegmentAgainstRoute(i,t,n,r)}catch(l){if(!(l instanceof Dh))throw l}if(this.noLeftoversInUrl(t,n,r))return[];throw new Dh}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}processSegmentAgainstRoute(e,t,n,r){if(e.redirectTo)throw new Dh;if((e.outlet||Wc)!==r)throw new Dh;let l,i=[],s=[];if("**"===e.path){const i=n.length>0?id(n).parameters:{};l=new $d(n,i,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ph(e),r,e.component,e,Mh(t),Oh(t)+n.length,Nh(e))}else{const o=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new Dh;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(t.matcher||Jc)(n,e,t);if(!r)throw new Dh;const l={};sd(r.posParams,(e,t)=>{l[t]=e.path});const i=r.consumed.length>0?Object.assign({},l,r.consumed[r.consumed.length-1].parameters):l;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:i}}(t,e,n);i=o.consumedSegments,s=n.slice(o.lastChild),l=new $d(i,o.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ph(e),r,e.component,e,Mh(t),Oh(t)+i.length,Nh(e))}const o=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:u,slicedSegments:a}=Fh(t,i,s,o,this.relativeLinkResolution);if(0===a.length&&u.hasChildren()){const e=this.processChildren(o,u);return[new Ad(l,e)]}if(0===o.length&&0===a.length)return[new Ad(l,[])];const c=this.processSegment(o,u,a,Wc);return[new Ad(l,c)]}}function Mh(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Oh(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function Fh(e,t,n,r,l){if(n.length>0&&function(e,t,n){return r.some(n=>Ah(e,t,n)&&Th(n)!==Wc)}(e,n)){const l=new cd(t,function(e,t,n,r){const l={};l[Wc]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const i of n)if(""===i.path&&Th(i)!==Wc){const n=new cd([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,l[Th(i)]=n}return l}(e,t,r,new cd(n,e.children)));return l._sourceSegment=e,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return r.some(n=>Ah(e,t,n))}(e,n)){const i=new cd(e.segments,function(e,t,n,r,l,i){const s={};for(const o of r)if(Ah(e,n,o)&&!l[Th(o)]){const n=new cd([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===i?e.segments.length:t.length,s[Th(o)]=n}return Object.assign({},l,s)}(e,t,n,r,e.children,l));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:n}}const i=new cd(e.segments,e.children);return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:n}}function Ah(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Th(e){return e.outlet||Wc}function Ph(e){return e.data||{}}function Nh(e){return e.resolve||{}}function Rh(e,t,n,r){const l=bh(e,t,r);return od(l.resolve?l.resolve(t,n):l(t,n))}function jh(e){return function(t){return t.pipe(oa(t=>{const n=e(t);return n?W(n).pipe(B(()=>t)):W([t])}))}}class $h{}class Vh{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}const Lh=new Ee("ROUTES");class qh{constructor(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}load(e,t){return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(B(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const r=n.create(e);return new Xc(ld(r.injector.get(Lh)).map(nd),r)}))}loadModuleFactory(e){return"string"==typeof e?W(this.loader.load(e)):od(e()).pipe(G(e=>e instanceof rn?Eu(e):W(this.compiler.compileModuleAsync(e))))}}class Bh{}class Uh{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Hh(e){throw e}function zh(e,t,n){return t.parse("/")}function Wh(e,t){return Eu(null)}class Gh{constructor(e,t,n,r,l,i,s,o){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=r,this.config=o,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new D,this.errorHandler=Hh,this.malformedUriErrorHandler=zh,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Wh,afterPreactivation:Wh},this.urlHandlingStrategy=new Uh,this.routeReuseStrategy=new Vh,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=l.get(nn),this.console=l.get(Hl);const u=l.get(oi);this.isNgZoneEnabled=u instanceof oi,this.resetConfig(o),this.currentUrlTree=new ad(new cd([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new qh(i,s,e=>this.triggerEvent(new $c(e)),e=>this.triggerEvent(new Vc(e))),this.routerState=Nd(this.currentUrlTree,this.rootComponentType),this.transitions=new Du({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(Ru(e=>0!==e.id),B(e=>Object.assign({},e,{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),oa(e=>{let n=!1,r=!1;return Eu(e).pipe(Hu(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),oa(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Eu(e).pipe(oa(e=>{const n=this.transitions.getValue();return t.next(new Mc(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?ku:[e]}),oa(e=>Promise.resolve(e)),function(e,t,n,r){return function(l){return l.pipe(oa(l=>(function(e,t,n,r,i){return new dh(e,t,n,l.extractedUrl,i).apply()})(e,t,n,0,r).pipe(B(e=>Object.assign({},l,{urlAfterRedirects:e})))))}}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Hu(e=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:e.urlAfterRedirects})}),function(e,t,n,r,l){return function(i){return i.pipe(G(i=>(function(e,t,n,r,l="emptyOnly",i="legacy"){return new Ih(e,t,n,r,l,i).recognize()})(e,t,i.urlAfterRedirects,n(i.urlAfterRedirects),r,l).pipe(B(e=>Object.assign({},i,{targetSnapshot:e})))))}}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),Hu(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),Hu(e=>{const n=new Tc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:l,restoredState:i,extras:s}=e,o=new Mc(n,this.serializeUrl(r),l,i);t.next(o);const u=Nd(r,this.rootComponentType).snapshot;return Eu(Object.assign({},e,{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign({},s,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),ku}),jh(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:l,extras:{skipLocationChange:i,replaceUrl:s}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:l,skipLocationChange:!!i,replaceUrl:!!s})}),Hu(e=>{const t=new Pc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),B(e=>Object.assign({},e,{guards:yh(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return function(n){return n.pipe(G(n=>{const{targetSnapshot:r,currentSnapshot:l,guards:{canActivateChecks:i,canDeactivateChecks:s}}=n;return 0===s.length&&0===i.length?Eu(Object.assign({},n,{guardsResult:!0})):function(e,t,n,r){return W(s).pipe(G(e=>(function(e,t,n,r,l){const i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return i&&0!==i.length?Eu(i.map(i=>{const s=bh(i,t,l);let o;if(function(e){return e&&lh(e.canDeactivate)}(s))o=od(s.canDeactivate(e,t,n,r));else{if(!lh(s))throw new Error("Invalid CanDeactivate guard");o=od(s(e,t,n,r))}return o.pipe(la())})).pipe(Ch()):Eu(!0)})(e.component,e.route,n,t,r)),la(e=>!0!==e,!0))}(0,r,l,e).pipe(G(n=>n&&function(e){return"boolean"==typeof n}()?function(e,t,n,r){return W(i).pipe(pa(t=>W([xh(t.route.parent,r),kh(t.route,r),Eh(e,t.path,n),Sh(e,t.route,n)]).pipe(Nu(),la(e=>!0!==e,!0))),la(e=>!0!==e,!0))}(r,0,e,t):Eu(n)),B(e=>Object.assign({},n,{guardsResult:e})))}))}}(this.ngModule.injector,e=>this.triggerEvent(e)),Hu(e=>{if(ih(e.guardsResult)){const t=Qc(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}}),Hu(e=>{const t=new Nc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),Ru(e=>{if(!e.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Fc(e.id,this.serializeUrl(e.extractedUrl),"");return t.next(n),e.resolve(!1),!1}return!0}),jh(e=>{if(e.guards.canActivateChecks.length)return Eu(e).pipe(Hu(e=>{const t=new Rc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),function(e,t){return function(n){return n.pipe(G(n=>{const{targetSnapshot:r,guards:{canActivateChecks:l}}=n;return l.length?W(l).pipe(pa(n=>(function(e,t,n,l){return function(e,t,n,r){const l=Object.keys(e);if(0===l.length)return Eu({});if(1===l.length){const i=l[0];return Rh(e[i],t,n,r).pipe(B(e=>({[i]:e})))}const i={};return W(l).pipe(G(l=>Rh(e[l],t,n,r).pipe(B(e=>(i[l]=e,e))))).pipe(Ju(),B(()=>i))}(e._resolve,e,r,l).pipe(B(t=>(e._resolvedData=t,e.data=Object.assign({},e.data,jd(e,n).resolve),null)))})(n.route,0,e,t)),function(e,t){return arguments.length>=2?function(n){return b(da(e,t),qu(1),Ku(t))(n)}:function(t){return b(da((t,n,r)=>e(t,n,r+1)),qu(1))(t)}}((e,t)=>e),B(e=>n)):Eu(n)}))}}(this.paramsInheritanceStrategy,this.ngModule.injector),Hu(e=>{const t=new jc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),jh(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:l,extras:{skipLocationChange:i,replaceUrl:s}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:l,skipLocationChange:!!i,replaceUrl:!!s})}),B(e=>{const t=function(e,t,n){const r=function e(t,n,r){if(r&&t.shouldReuseRoute(n.value,r.value.snapshot)){const l=r.value;l._futureSnapshot=n.value;const i=function(t,n,r){return n.children.map(n=>{for(const l of r.children)if(t.shouldReuseRoute(l.value.snapshot,n.value))return e(t,n,l);return e(t,n)})}(t,n,r);return new Ad(l,i)}{const r=t.retrieve(n.value);if(r){const e=r.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(let r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(n,e),e}{const r=new Rd(new Du((l=n.value).url),new Du(l.params),new Du(l.queryParams),new Du(l.fragment),new Du(l.data),l.outlet,l.component,l),i=n.children.map(n=>e(t,n));return new Ad(r,i)}}var l}(e,t._root,n?n._root:void 0);return new Pd(r,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign({},e,{targetRouterState:t})}),Hu(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),th(this.rootContexts,this.routeReuseStrategy,e=>this.triggerEvent(e)),Hu({next(){n=!0},complete(){n=!0}}),function(e){return t=>t.lift(new ga(e))}(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Fc(e.id,this.serializeUrl(e.extractedUrl),`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`);t.next(n),e.resolve(!1)}this.currentNavigation=null}),Xu(n=>{if(r=!0,function(e){return n&&n[Zc]}()){const r=ih(n.url);r||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const l=new Fc(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(l),e.resolve(!1),r&&this.navigateByUrl(n.url)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const r=new Ac(e.id,this.serializeUrl(e.extractedUrl),n);t.next(r);try{e.resolve(this.errorHandler(n))}catch(l){e.reject(l)}}return ku}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign({},this.getTransition(),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{let t=this.parseUrl(e.url);const n="popstate"===e.type?"popstate":"hashchange",r=e.state&&e.state.navigationId?e.state:null;setTimeout(()=>{this.scheduleNavigation(t,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Yc(e),this.config=e.map(nd),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(e,t={}){const{relativeTo:n,queryParams:r,fragment:l,preserveQueryParams:i,queryParamsHandling:s,preserveFragment:o}=t;st()&&i&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const u=n||this.routerState.root,a=o?this.currentUrlTree.fragment:l;let c=null;if(s)switch(s){case"merge":c=Object.assign({},this.currentUrlTree.queryParams,r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}else c=i?this.currentUrlTree.queryParams:r||null;return null!==c&&(c=this.removeEmptyProps(c)),function(e,t,n,r,l){if(0===n.length)return zd(t.root,t.root,t,r,l);const i=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Wd(!0,0,e);let t=0,n=!1;const r=e.reduce((e,r,l)=>{if("object"==typeof r&&null!=r){if(r.outlets){const t={};return sd(r.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(r.segmentPath)return[...e,r.segmentPath]}return"string"!=typeof r?[...e,r]:0===l?(r.split("/").forEach((r,l)=>{0==l&&"."===r||(0==l&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[...e,r]},[]);return new Wd(n,t,r)}(n);if(i.toRoot())return zd(t.root,new cd([],{}),t,r,l);const s=function(e,n,r){if(e.isAbsolute)return new Gd(t.root,!0,0);if(-1===r.snapshot._lastPathIndex)return new Gd(r.snapshot._urlSegment,!0,0);const l=Hd(e.commands[0])?0:1;return function(t,n,i){let s=r.snapshot._urlSegment,o=r.snapshot._lastPathIndex+l,u=e.numberOfDoubleDots;for(;u>o;){if(u-=o,!(s=s.parent))throw new Error("Invalid number of '../'");o=s.segments.length}return new Gd(s,!1,o-u)}()}(i,0,e),o=s.processChildren?Qd(s.segmentGroup,s.index,i.commands):Zd(s.segmentGroup,s.index,i.commands);return zd(s.segmentGroup,o,t,r,l)}(u,this.currentUrlTree,e,c,a)}navigateByUrl(e,t={skipLocationChange:!1}){st()&&this.isNgZoneEnabled&&!oi.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=ih(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){if(ih(e))return ud(this.currentUrlTree,e,t);const n=this.parseUrl(e);return ud(this.currentUrlTree,n,t)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return null!=r&&(t[n]=r),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.events.next(new Oc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,r){const l=this.getTransition();if(l&&"imperative"!==t&&"imperative"===l.source&&l.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(l&&"hashchange"==t&&"popstate"===l.source&&l.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(l&&"popstate"==t&&"hashchange"===l.source&&l.rawUrl.toString()===e.toString())return Promise.resolve(!0);let i=null,s=null;const o=new Promise((e,t)=>{i=e,s=t}),u=++this.navigationId;return this.setTransition({id:u,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:i,reject:s,promise:o,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),o.catch(e=>Promise.reject(e))}setBrowserUrl(e,t,n,r){const l=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(l)||t?this.location.replaceState(l,"",Object.assign({},r,{navigationId:n})):this.location.go(l,"",Object.assign({},r,{navigationId:n}))}resetStateAndUrl(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}let Kh=(()=>(class{constructor(e,t,n,r,l){this.router=e,this.route=t,this.commands=[],null==n&&r.setAttribute(l.nativeElement,"tabindex","0")}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){st()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}onClick(){const e={skipLocationChange:Qh(this.skipLocationChange),replaceUrl:Qh(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Qh(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Qh(this.preserveFragment)})}}))(),Zh=(()=>(class{constructor(e,t,n){this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.subscription=e.events.subscribe(e=>{e instanceof Oc&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){st()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}ngOnChanges(e){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,n,r){if(0!==e||t||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const l={skipLocationChange:Qh(this.skipLocationChange),replaceUrl:Qh(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,l),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Qh(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Qh(this.preserveFragment)})}}))();function Qh(e){return""===e||!!e}class Jh{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Xh,this.attachRef=null}}class Xh{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Jh,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Yh=(()=>(class{constructor(e,t,n,r,l){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=l,this.activated=null,this._activatedRoute=null,this.activateEvents=new Tl,this.deactivateEvents=new Tl,this.name=r||Wc,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,l=new ef(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}))();class ef{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===Rd?this.route:e===Xh?this.childContexts:this.parent.get(e,t)}}class tf{}class nf{preload(e,t){return t().pipe(Xu(()=>Eu(null)))}}class rf{preload(e,t){return Eu(null)}}let lf=(()=>(class{constructor(e,t,n,r,l){this.router=e,this.injector=r,this.preloadingStrategy=l,this.loader=new qh(t,n,t=>e.triggerEvent(new $c(t)),t=>e.triggerEvent(new Vc(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ru(e=>e instanceof Oc),pa(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(nn);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const r of t)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const e=r._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(e,r)):r.children&&n.push(this.processRoutes(e,r.children));return W(n).pipe(J(),B(e=>void 0))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>this.loader.load(e.injector,t).pipe(G(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}))();class sf{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Mc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Oc&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Hc&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new Hc(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const of=new Ee("ROUTER_CONFIGURATION"),uf=new Ee("ROUTER_FORROOT_GUARD"),af=[xo,{provide:pd,useClass:gd},{provide:Gh,useFactory:mf,deps:[Ei,pd,Xh,xo,Ue,Ii,Yl,Lh,of,[Bh,new ae],[$h,new ae]]},Xh,{provide:Rd,useFactory:vf,deps:[Gh]},{provide:Ii,useClass:Fi},lf,rf,nf,{provide:of,useValue:{enableTracing:!1}}];function cf(){return new wi("Router",Gh)}let df=(()=>{class e{constructor(e,t){}static forRoot(t,n){return{ngModule:e,providers:[af,gf(t),{provide:uf,useFactory:pf,deps:[[Gh,new ae,new de]]},{provide:of,useValue:n||{}},{provide:Co,useFactory:ff,deps:[_o,[new ue(ko),new ae],of]},{provide:sf,useFactory:hf,deps:[Gh,wu,of]},{provide:tf,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:rf},{provide:wi,multi:!0,useFactory:cf},[yf,{provide:Rl,multi:!0,useFactory:bf,deps:[yf]},{provide:wf,useFactory:_f,deps:[yf]},{provide:Ul,multi:!0,useExisting:wf}]]}}static forChild(t){return{ngModule:e,providers:[gf(t)]}}}return e})();function hf(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new sf(e,t,n)}function ff(e,t,n={}){return n.useHash?new Eo(e,t):new Do(e,t)}function pf(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function gf(e){return[{provide:tt,multi:!0,useValue:e},{provide:Lh,multi:!0,useValue:e}]}function mf(e,t,n,r,l,i,s,o,u={},a,c){const d=new Gh(null,t,n,r,l,i,s,ld(o));if(a&&(d.urlHandlingStrategy=a),c&&(d.routeReuseStrategy=c),u.errorHandler&&(d.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(d.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){const e=ya();d.events.subscribe(t=>{e.logGroup(`Router Event: ${t.constructor.name}`),e.log(t.toString()),e.log(t),e.logGroupEnd()})}return u.onSameUrlNavigation&&(d.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(d.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(d.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(d.relativeLinkResolution=u.relativeLinkResolution),d}function vf(e){return e.routerState.root}let yf=(()=>(class{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new D}appInitializer(){return this.injector.get(wo,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),n=this.injector.get(Gh),r=this.injector.get(of);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))e(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),e(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Eu(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()}return t})}bootstrapListener(e){const t=this.injector.get(of),n=this.injector.get(lf),r=this.injector.get(sf),l=this.injector.get(Gh),i=this.injector.get(Ei);e===i.components[0]&&(this.isLegacyEnabled(t)?l.initialNavigation():this.isLegacyDisabled(t)&&l.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),l.resetRootComponentType(i.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}isLegacyDisabled(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}))();function bf(e){return e.appInitializer.bind(e)}function _f(e){return e.bootstrapListener.bind(e)}const wf=new Ee("Router Initializer");var Cf=Xn({encapsulation:2,styles:[],data:{}});function kf(e){return cs(0,[(e()(),Wi(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),cl(1,212992,null,0,Yh,[Xh,Pn,Yt,[8,null],Dn],null,null)],function(e,t){e(t,1,0)},null)}function xf(e){return cs(0,[(e()(),Wi(0,0,null,null,1,"ng-component",[],null,null,null,kf,Cf)),cl(1,49152,null,0,zc,[],null,null)],null,null)}var Sf=Lr("ng-component",zc,xf,{},{},[]);class Ef extends q{constructor(e,t){super(e),this.sources=t,this.completed=0,this.haveValues=0;const n=t.length;this.values=new Array(n);for(let r=0;r<n;r++){const e=L(this,t[r],null,r);e&&this.add(e)}}notifyNext(e,t,n,r,l){this.values[n]=t,l._hasValue||(l._hasValue=!0,this.haveValues++)}notifyComplete(e){const{destination:t,haveValues:n,values:r}=this,l=r.length;e._hasValue?(this.completed++,this.completed===l&&(n===l&&t.next(r),t.complete())):t.complete()}}const Df=new Ee("NgValueAccessor");let If=(()=>(class{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}))();const Mf=new Ee("CompositionEventMode");let Of=(()=>(class{constructor(e,t,n){this._renderer=e,this._elementRef=t,this._compositionMode=n,this.onChange=e=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=ya()?ya().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}))();class Ff{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Af extends Ff{get formDirective(){return null}get path(){return null}}function Tf(){throw new Error("unimplemented")}class Pf extends Ff{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return Tf()}get asyncValidator(){return Tf()}}class Nf{constructor(e){this._cd=e}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let Rf=(()=>(class extends Nf{constructor(e){super(e)}}))(),jf=(()=>(class extends Nf{constructor(e){super(e)}}))();function $f(e){return null==e||0===e.length}const Vf=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/;class Lf{static min(e){return t=>{if($f(t.value)||$f(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}static max(e){return t=>{if($f(t.value)||$f(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}static required(e){return $f(e.value)?{required:!0}:null}static requiredTrue(e){return!0===e.value?null:{required:!0}}static email(e){return $f(e.value)?null:Vf.test(e.value)?null:{email:!0}}static minLength(e){return t=>{if($f(t.value))return null;const n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}static maxLength(e){return t=>{const n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}static pattern(e){if(!e)return Lf.nullValidator;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),e=>{if($f(e.value))return null;const r=e.value;return t.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(e){return null}static compose(e){if(!e)return null;const t=e.filter(qf);return 0==t.length?null:function(e){return Uf(function(e,n){return t.map(t=>t(e))}(e))}}static composeAsync(e){if(!e)return null;const t=e.filter(qf);return 0==t.length?null:function(e){return function e(...t){let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&u(t[0])&&(t=t[0]),0===t.length?ku:n?e(t).pipe(B(e=>n(...e))):new w(e=>new Ef(e,t))}(function(e,n){return t.map(t=>t(e))}(e).map(Bf)).pipe(B(Uf))}}}function qf(e){return null!=e}function Bf(e){const t=zt(e)?W(e):e;if(!Wt(t))throw new Error("Expected validator to return Promise or Observable.");return t}function Uf(e){const t=e.reduce((e,t)=>null!=t?Object.assign({},e,t):e,{});return 0===Object.keys(t).length?null:t}function Hf(e){return e.validate?t=>e.validate(t):e}function zf(e){return e.validate?t=>e.validate(t):e}let Wf=(()=>(class{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}))(),Gf=(()=>(class{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}))(),Kf=(()=>(class{constructor(e,t,n,r){this._renderer=e,this._elementRef=t,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Pf),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}))(),Zf=(()=>(class{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}))();const Qf={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '};class Jf{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${Qf.formControlName}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${Qf.formGroupName}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${Qf.ngModelGroup}`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${Qf.formControlName}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${Qf.formGroupName}`)}static arrayParentException(){throw new Error(`formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        ${Qf.formArrayName}`)}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(e){console.warn(`\n    It looks like you're using ngModel on the same form field as ${e}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===e?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}function Xf(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let Yf=(()=>(class{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Lt}set compareWith(e){if("function"!=typeof e)throw new Error(`compareWith must be a function, but received ${JSON.stringify(e)}`);this._compareWith=e}writeValue(e){this.value=e;const t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=Xf(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}))(),ep=(()=>(class{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(Xf(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}))();function tp(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let np=(()=>(class{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Lt}set compareWith(e){if("function"!=typeof e)throw new Error(`compareWith must be a function, but received ${JSON.stringify(e)}`);this._compareWith=e}writeValue(e){let t;if(this.value=e,Array.isArray(e)){const n=e.map(e=>this._getOptionId(e));t=(e,t)=>{e._setSelected(n.indexOf(t.toString())>-1)}}else t=(e,t)=>{e._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{const n=[];if(t.hasOwnProperty("selectedOptions")){const e=t.selectedOptions;for(let t=0;t<e.length;t++){const r=e.item(t),l=this._getOptionValue(r.value);n.push(l)}}else{const e=t.options;for(let t=0;t<e.length;t++){const r=e.item(t);if(r.selected){const e=this._getOptionValue(r.value);n.push(e)}}}this.value=n,e(n)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}))(),rp=(()=>(class{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(tp(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(tp(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}))();function lp(e,t){return[...t.path,e]}function ip(e,t){e||ap(t,"Cannot find control with"),t.valueAccessor||ap(t,"No value accessor for form control with"),e.validator=Lf.compose([e.validator,t.validator]),e.asyncValidator=Lf.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&sp(e,t)})}(e,t),function(e,t){e.registerOnChange((e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&sp(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange(e=>{t.valueAccessor.setDisabledState(e)}),t._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())}),t._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())})}function sp(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function op(e,t){null==e&&ap(t,"Cannot find control with"),e.validator=Lf.compose([e.validator,t.validator]),e.asyncValidator=Lf.composeAsync([e.asyncValidator,t.asyncValidator])}function up(e){return ap(e,"There is no FormControl instance attached to form control element with")}function ap(e,t){let n;throw n=e.path.length>1?`path: '${e.path.join(" -> ")}'`:e.path[0]?`name: '${e.path}'`:"unspecified name attribute",new Error(`${t} ${n}`)}function cp(e){return null!=e?Lf.compose(e.map(Hf)):null}function dp(e){return null!=e?Lf.composeAsync(e.map(zf)):null}const hp=[If,Zf,Wf,Yf,np,Kf],fp="VALID",pp="INVALID",gp="PENDING",mp="DISABLED";function vp(e){const t=bp(e)?e.validators:e;return Array.isArray(t)?cp(t):t||null}function yp(e,t){const n=bp(t)?t.asyncValidators:e;return Array.isArray(n)?dp(n):n||null}function bp(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class _p{constructor(e,t){this.validator=e,this.asyncValidator=t,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return this.status===fp}get invalid(){return this.status===pp}get pending(){return this.status==gp}get disabled(){return this.status===mp}get enabled(){return this.status!==mp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this.validator=vp(e)}setAsyncValidators(e){this.asyncValidator=yp(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=gp,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=mp,this.errors=null,this._forEachChild(t=>{t.disable(Object.assign({},e,{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=fp,this._forEachChild(t=>{t.enable(Object.assign({},e,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==fp&&this.status!==gp||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?mp:fp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=gp;const t=Bf(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>this.setErrors(t,{emitEvent:e}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){return null==t?null:(t instanceof Array||(t=t.split(".")),t instanceof Array&&0===t.length?null:t.reduce((e,t)=>e instanceof Cp?e.controls.hasOwnProperty(t)?e.controls[t]:null:e instanceof kp&&e.at(t)||null,e))}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Tl,this.statusChanges=new Tl}_calculateStatus(){return this._allControlsDisabled()?mp:this.errors?pp:this._anyControlsHaveStatus(gp)?gp:this._anyControlsHaveStatus(pp)?pp:fp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){bp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class wp extends _p{constructor(e=null,t,n){super(vp(t),yp(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Cp extends _p{constructor(e,t,n){super(vp(t),yp(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e={},t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof wp?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>e(this.controls[t],t))}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){let t=!1;return this._forEachChild((n,r)=>{t=t||this.contains(r)&&e(n)}),t}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,r)=>{n=t(n,e,r)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class kp extends _p{constructor(e,t,n){super(vp(t),yp(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(e){return this.controls[e]}push(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}insert(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}removeAt(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e=[],t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof wp?e.value:e.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const xp=new Ee("NgFormSelectorWarning");class Sp extends Af{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return lp(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return cp(this._validators)}get asyncValidator(){return dp(this._asyncValidators)}_checkParentType(){}}let Ep=(()=>(class{}))();const Dp=new Ee("NgModelWithFormControlWarning");let Ip=(()=>(class extends Af{constructor(e,t){super(),this._validators=e,this._asyncValidators=t,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new Tl}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const t=this.form.get(e.path);return ip(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){!function(t,n){const r=t.indexOf(e);r>-1&&t.splice(r,1)}(this.directives)}addFormGroup(e){const t=this.form.get(e.path);op(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormGroup(e){}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){const t=this.form.get(e.path);op(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormArray(e){}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,t=this.directives,this.form._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}),this.ngSubmit.emit(e),!1;var t}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const t=this.form.get(e.path);e.control!==t&&(function(e,t){t.valueAccessor.registerOnChange(()=>up(t)),t.valueAccessor.registerOnTouched(()=>up(t)),t._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),t._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),e&&e._clearChangeFns()}(e.control,e),t&&ip(t,e),e.control=t)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const e=cp(this._validators);this.form.validator=Lf.compose([this.form.validator,e]);const t=dp(this._asyncValidators);this.form.asyncValidator=Lf.composeAsync([this.form.asyncValidator,t])}_checkFormPresent(){this.form||Jf.missingFormException()}}))(),Mp=(()=>(class extends Sp{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}_checkParentType(){Fp(this._parent)&&Jf.groupParentException()}}))(),Op=(()=>(class extends Af{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return lp(this.name,this._parent)}get validator(){return cp(this._validators)}get asyncValidator(){return dp(this._asyncValidators)}_checkParentType(){Fp(this._parent)&&Jf.arrayParentException()}}))();function Fp(e){return!(e instanceof Mp||e instanceof Ip||e instanceof Op)}let Ap=(()=>{class e extends Pf{constructor(e,t,n,r,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.update=new Tl,this._ngModelWarningSent=!1,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(e,t){if(!t)return null;Array.isArray(t)||ap(e,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,l=void 0;return t.forEach(t=>{t.constructor===Of?n=t:function(e){return hp.some(t=>e.constructor===t)}(t)?(r&&ap(e,"More than one built-in value accessor matches form control with"),r=t):(l&&ap(e,"More than one custom value accessor matches form control with"),l=t)}),l||r||n||(ap(e,"No valid value accessor for form control with"),null)}(this,r)}set isDisabled(e){Jf.disabledAttrWarning()}ngOnChanges(t){var n,r;this._added||this._setUpControl(),function(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Lt(t,n.currentValue)}(t,this.viewModel)&&("formControlName",n=e,this,r=this._ngModelWarningConfig,st()&&"never"!==r&&((null!==r&&"once"!==r||n._ngModelWarningSentOnce)&&("always"!==r||this._ngModelWarningSent)||(Jf.ngModelWarning("formControlName"),n._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return lp(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return cp(this._rawValidators)}get asyncValidator(){return dp(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof Mp)&&this._parent instanceof Sp?Jf.ngModelGroupException():this._parent instanceof Mp||this._parent instanceof Ip||this._parent instanceof Op||Jf.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return e._ngModelWarningSentOnce=!1,e})(),Tp=(()=>(class{}))(),Pp=(()=>(class{group(e,t=null){const n=this._reduceControls(e);let r=null,l=null,i=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(r=null!=t.validators?t.validators:null,l=null!=t.asyncValidators?t.asyncValidators:null,i=null!=t.updateOn?t.updateOn:void 0):(r=null!=t.validator?t.validator:null,l=null!=t.asyncValidator?t.asyncValidator:null)),new Cp(n,{asyncValidators:l,updateOn:i,validators:r})}control(e,t,n){return new wp(e,t,n)}array(e,t,n){const r=e.map(e=>this._createControl(e));return new kp(r,t,n)}_reduceControls(e){const t={};return Object.keys(e).forEach(n=>{t[n]=this._createControl(e[n])}),t}_createControl(e){return e instanceof wp||e instanceof Cp||e instanceof kp?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}))(),Np=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:xp,useValue:t.warnOnDeprecatedNgFormSelector}]}}}return e})(),Rp=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Dp,useValue:t.warnOnNgModelWithFormControl}]}}}return e})();class jp extends h{constructor(e,t){super()}schedule(e,t=0){return this}}class $p extends jp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n=!1,r=void 0;try{this.work(e)}catch(l){n=!0,r=!!l&&l||new Error(l)}if(n)return this.unsubscribe(),r}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let Vp=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class Lp extends Vp{constructor(e,t=Vp.now){super(e,()=>Lp.delegate&&Lp.delegate!==this?Lp.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return Lp.delegate&&Lp.delegate!==this?Lp.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}const qp=new Lp($p);function Bp(e){return!u(e)&&e-parseFloat(e)+1>=0}function Up(e){const{index:t,period:n,subscriber:r}=e;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}const Hp=new w(y);function zp(e,t,n,l){return r(n)&&(l=n,n=void 0),l?zp(e,t,n).pipe(B(e=>u(e)?l(...e):l(e))):new w(r=>{!function e(t,n,r,l,i){let s;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){const e=t;t.addEventListener(n,r,i),s=()=>e.removeEventListener(n,r,i)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){const e=t;t.on(n,r),s=()=>e.off(n,r)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){const e=t;t.addListener(n,r),s=()=>e.removeListener(n,r)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)e(t[s],n,r,l,i)}l.add(s)}(e,t,function(e){r.next(arguments.length>1?Array.prototype.slice.call(arguments):e)},r,n)})}function Wp(e,t){return n=>n.lift(new Gp(e,t))}class Gp{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new Kp(e,this.compare,this.keySelector))}}class Kp extends g{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}function Zp(e){return t=>t.lift(new Qp(e))}class Qp{constructor(e){this.notifier=e}call(e,t){const n=new Jp(e),r=L(n,this.notifier);return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n}}class Jp extends q{constructor(e){super(e),this.seenValue=!1}notifyNext(e,t,n,r,l){this.seenValue=!0,this.complete()}notifyComplete(){}}function Xp(...e){return t=>{let n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new Yp(e,n))}}class Yp{constructor(e,t){this.observables=e,this.project=t}call(e,t){return t.subscribe(new eg(e,this.observables,this.project))}}class eg extends q{constructor(e,t,n){super(e),this.observables=t,this.project=n,this.toRespond=[];const r=t.length;this.values=new Array(r);for(let l=0;l<r;l++)this.toRespond.push(l);for(let l=0;l<r;l++){let e=t[l];this.add(L(this,e,e,l))}}notifyNext(e,t,n,r,l){this.values[n]=t;const i=this.toRespond;if(i.length>0){const e=i.indexOf(n);-1!==e&&i.splice(e,1)}}notifyComplete(){}_next(e){if(0===this.toRespond.length){const t=[e,...this.values];this.project?this._tryProject(t):this.destination.next(t)}}_tryProject(e){let t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function tg(e){return parseInt(`${e}`,10)}function ng(e){return null!=e?`${e}`:""}function rg(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function lg(e){return null!=e}function ig(e,t){return e&&e.className&&e.className.split&&e.className.split(/\s+/).indexOf(t)>=0}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(e){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});let sg=(()=>(class{}))(),og=(()=>{class e{constructor(){this.dismissible=!0,this.type="warning"}}return e.ngInjectableDef=pe({factory:function(){return new e},token:e,providedIn:"root"}),e})(),ug=(()=>(class{constructor(e,t,n){this._renderer=t,this._element=n,this.close=new Tl,this.dismissible=e.dismissible,this.type=e.type}closeHandler(){this.close.emit(null)}ngOnChanges(e){const t=e.type;t&&!t.firstChange&&(this._renderer.removeClass(this._element.nativeElement,`alert-${t.previousValue}`),this._renderer.addClass(this._element.nativeElement,`alert-${t.currentValue}`))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,`alert-${this.type}`)}}))(),ag=(()=>(class{}))(),cg=(()=>(class{}))(),dg=(()=>{class e{constructor(){this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}}return e.ngInjectableDef=pe({factory:function(){return new e},token:e,providedIn:"root"}),e})(),hg=0,fg=(()=>(class{constructor(e){this.tplRef=e,this.id=`ngb-slide-${hg++}`}}))(),pg=(()=>(class{constructor(e,t,n,r){this._platformId=t,this._ngZone=n,this._cd=r,this.NgbSlideEventSource=mg,this._destroy$=new D,this._interval$=new Du(0),this._mouseHover$=new Du(!1),this._pauseOnHover$=new Du(!1),this._pause$=new Du(!1),this._wrap$=new Du(!1),this.slide=new Tl,this.interval=e.interval,this.wrap=e.wrap,this.keyboard=e.keyboard,this.pauseOnHover=e.pauseOnHover,this.showNavigationArrows=e.showNavigationArrows,this.showNavigationIndicators=e.showNavigationIndicators}set interval(e){this._interval$.next(e)}get interval(){return this._interval$.value}set wrap(e){this._wrap$.next(e)}get wrap(){return this._wrap$.value}set pauseOnHover(e){this._pauseOnHover$.next(e)}get pauseOnHover(){return this._pauseOnHover$.value}mouseEnter(){this._mouseHover$.next(!0)}mouseLeave(){this._mouseHover$.next(!1)}ngAfterContentInit(){"browser"===this._platformId&&this._ngZone.runOutsideAngular(()=>{const e=Fu(this.slide.pipe(B(e=>e.current),ca(this.activeId)),this._wrap$,this.slides.changes.pipe(ca(null))).pipe(B(([e,t])=>{const n=this.slides.toArray(),r=this._getSlideIdxById(e);return t?n.length>1:r<n.length-1}),Wp());Fu(this._pause$,this._pauseOnHover$,this._mouseHover$,this._interval$,e).pipe(B(([e,t,n,r,l])=>e||t&&n||!l?0:r),Wp(),oa(e=>e>0?function(e=0,t,n){let r=-1;return Bp(t)?r=Number(t)<1?1:Number(t):M(t)&&(n=t),M(n)||(n=qp),new w(t=>{const l=Bp(e)?e:+e-n.now();return n.schedule(Up,l,{index:0,period:r,subscriber:t})})}(e,e):Hp),Zp(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(mg.TIMER)))}),this.slides.changes.pipe(Zp(this._destroy$)).subscribe(()=>this._cd.markForCheck())}ngAfterContentChecked(){let e=this._getSlideById(this.activeId);this.activeId=e?e.id:this.slides.length?this.slides.first.id:null}ngOnDestroy(){this._destroy$.next()}select(e,t){this._cycleToSelected(e,this._getSlideEventDirection(this.activeId,e),t)}prev(e){this._cycleToSelected(this._getPrevSlide(this.activeId),gg.RIGHT,e)}next(e){this._cycleToSelected(this._getNextSlide(this.activeId),gg.LEFT,e)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}_cycleToSelected(e,t,n){let r=this._getSlideById(e);r&&r.id!==this.activeId&&(this.slide.emit({prev:this.activeId,current:r.id,direction:t,paused:this._pause$.value,source:n}),this.activeId=r.id),this._cd.markForCheck()}_getSlideEventDirection(e,t){return this._getSlideIdxById(e)>this._getSlideIdxById(t)?gg.RIGHT:gg.LEFT}_getSlideById(e){return this.slides.find(t=>t.id===e)}_getSlideIdxById(e){return this.slides.toArray().indexOf(this._getSlideById(e))}_getNextSlide(e){const t=this.slides.toArray(),n=this._getSlideIdxById(e);return n===t.length-1?this.wrap?t[0].id:t[t.length-1].id:t[n+1].id}_getPrevSlide(e){const t=this.slides.toArray(),n=this._getSlideIdxById(e);return 0===n?this.wrap?t[t.length-1].id:t[0].id:t[n-1].id}}))();const gg={LEFT:"left",RIGHT:"right"},mg={TIMER:"timer",ARROW_LEFT:"arrowLeft",ARROW_RIGHT:"arrowRight",INDICATOR:"indicator"};let vg=(()=>(class{}))(),yg=(()=>(class{}))();class bg{static from(e){return e instanceof bg?e:e?new bg(e.year,e.month,e.day):null}constructor(e,t,n){this.year=rg(e)?e:null,this.month=rg(t)?t:null,this.day=rg(n)?n:null}equals(e){return e&&this.year===e.year&&this.month===e.month&&this.day===e.day}before(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day<e.day:this.month<e.month:this.year<e.year)}after(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day>e.day:this.month>e.month:this.year>e.year)}}function _g(e){return new bg(e.getFullYear(),e.getMonth()+1,e.getDate())}function wg(e){const t=new Date(e.year,e.month-1,e.day,12);return isNaN(t.getTime())||t.setFullYear(e.year),t}function Cg(){return new xg}let kg=(()=>{class e{}return e.ngInjectableDef=pe({factory:Cg,token:e,providedIn:"root"}),e})(),xg=(()=>(class extends kg{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(e,t="d",n=1){let r=wg(e);switch(t){case"y":return new bg(e.year+n,1,1);case"m":r=new Date(e.year,e.month+n-1,1,12);break;case"d":r.setDate(r.getDate()+n);break;default:return e}return _g(r)}getPrev(e,t="d",n=1){return this.getNext(e,t,-n)}getWeekday(e){let t=wg(e).getDay();return 0===t?7:t}getWeekNumber(e,t){7===t&&(t=0);const n=wg(e[(11-t)%7]);n.setDate(n.getDate()+4-(n.getDay()||7));const r=n.getTime();return n.setMonth(0),n.setDate(1),Math.floor(Math.round((r-n.getTime())/864e5)/7)+1}getToday(){return _g(new Date)}isValid(e){if(!(e&&rg(e.year)&&rg(e.month)&&rg(e.day)))return!1;if(0===e.year)return!1;const t=wg(e);return!isNaN(t.getTime())&&t.getFullYear()===e.year&&t.getMonth()+1===e.month&&t.getDate()===e.day}}))();function Sg(e,t){return!function(e,t){return!e&&!t||!!e&&!!t&&e.equals(t)}(e,t)}function Eg(e,t){return!(!e&&!t||e&&t&&e.year===t.year&&e.month===t.month)}function Dg(e,t,n){return e&&t&&e.before(t)?t:e&&n&&e.after(n)?n:e}function Ig(e,t){const{minDate:n,maxDate:r,disabled:l,markDisabled:i}=t;return!(!lg(e)||l||i&&i(e,{year:e.year,month:e.month})||n&&e.before(n)||r&&e.after(r))}let Mg=(()=>{class e{getDayNumerals(e){return`${e.day}`}getWeekNumerals(e){return`${e}`}getYearNumerals(e){return`${e}`}}return e.ngInjectableDef=pe({factory:function(){return e=$e(zl),new Og(e);var e},token:e,providedIn:"root"}),e})(),Og=(()=>(class extends Mg{constructor(e){super(),this._locale=e;const t=To(e,Mo.Standalone,Oo.Short);this._weekdaysShort=t.map((e,n)=>t[(n+1)%7]),this._monthsShort=Po(e,Mo.Standalone,Oo.Abbreviated),this._monthsFull=Po(e,Mo.Standalone,Oo.Wide)}getWeekdayShortName(e){return this._weekdaysShort[e-1]}getMonthShortName(e){return this._monthsShort[e-1]}getMonthFullName(e){return this._monthsFull[e-1]}getDayAriaLabel(e){return function(e,t,n,r){let l=function(e){if(lu(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){const[t,n,r]=e.split("-").map(e=>+e);return new Date(t,n-1,r)}let n;if(n=e.match(Bo))return function(e){const t=new Date(0);let n=0,r=0;const l=e[8]?t.setUTCFullYear:t.setFullYear,i=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),l.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const s=Number(e[4]||0)-n,o=Number(e[5]||0)-r,u=Number(e[6]||0),a=Math.round(1e3*parseFloat("0."+(e[7]||0)));return i.call(t,s,o,u,a),t}(n)}const t=new Date(e);if(!lu(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=function e(t,n){const r=function(e){return Fl(e)[Il.LocaleId]}(t);if(Uo[r]=Uo[r]||{},Uo[r][n])return Uo[r][n];let l="";switch(n){case"shortDate":l=No(t,Fo.Short);break;case"mediumDate":l=No(t,Fo.Medium);break;case"longDate":l=No(t,Fo.Long);break;case"fullDate":l=No(t,Fo.Full);break;case"shortTime":l=Ro(t,Fo.Short);break;case"mediumTime":l=Ro(t,Fo.Medium);break;case"longTime":l=Ro(t,Fo.Long);break;case"fullTime":l=Ro(t,Fo.Full);break;case"short":const r=e(t,"shortTime"),i=e(t,"shortDate");l=Ko(jo(t,Fo.Short),[r,i]);break;case"medium":const s=e(t,"mediumTime"),o=e(t,"mediumDate");l=Ko(jo(t,Fo.Medium),[s,o]);break;case"long":const u=e(t,"longTime"),a=e(t,"longDate");l=Ko(jo(t,Fo.Long),[u,a]);break;case"full":const c=e(t,"fullTime"),d=e(t,"fullDate");l=Ko(jo(t,Fo.Full),[c,d])}return l&&(Uo[r][n]=l),l}(n,t)||t;let i,s=[];for(;t;){if(!(i=Ho.exec(t))){s.push(t);break}{const e=(s=s.concat(i.slice(1))).pop();if(!e)break;t=e}}let o=l.getTimezoneOffset();r&&(o=ru(r,o),l=function(e,t,n){const r=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(ru(t,r)-r))}(l,r));let u="";return s.forEach(e=>{const t=function(e){if(nu[e])return nu[e];let t;switch(e){case"G":case"GG":case"GGG":t=Jo(Go.Eras,Oo.Abbreviated);break;case"GGGG":t=Jo(Go.Eras,Oo.Wide);break;case"GGGGG":t=Jo(Go.Eras,Oo.Narrow);break;case"y":t=Qo(Wo.FullYear,1,0,!1,!0);break;case"yy":t=Qo(Wo.FullYear,2,0,!0,!0);break;case"yyy":t=Qo(Wo.FullYear,3,0,!1,!0);break;case"yyyy":t=Qo(Wo.FullYear,4,0,!1,!0);break;case"M":case"L":t=Qo(Wo.Month,1,1);break;case"MM":case"LL":t=Qo(Wo.Month,2,1);break;case"MMM":t=Jo(Go.Months,Oo.Abbreviated);break;case"MMMM":t=Jo(Go.Months,Oo.Wide);break;case"MMMMM":t=Jo(Go.Months,Oo.Narrow);break;case"LLL":t=Jo(Go.Months,Oo.Abbreviated,Mo.Standalone);break;case"LLLL":t=Jo(Go.Months,Oo.Wide,Mo.Standalone);break;case"LLLLL":t=Jo(Go.Months,Oo.Narrow,Mo.Standalone);break;case"w":t=tu(1);break;case"ww":t=tu(2);break;case"W":t=tu(1,!0);break;case"d":t=Qo(Wo.Date,1);break;case"dd":t=Qo(Wo.Date,2);break;case"E":case"EE":case"EEE":t=Jo(Go.Days,Oo.Abbreviated);break;case"EEEE":t=Jo(Go.Days,Oo.Wide);break;case"EEEEE":t=Jo(Go.Days,Oo.Narrow);break;case"EEEEEE":t=Jo(Go.Days,Oo.Short);break;case"a":case"aa":case"aaa":t=Jo(Go.DayPeriods,Oo.Abbreviated);break;case"aaaa":t=Jo(Go.DayPeriods,Oo.Wide);break;case"aaaaa":t=Jo(Go.DayPeriods,Oo.Narrow);break;case"b":case"bb":case"bbb":t=Jo(Go.DayPeriods,Oo.Abbreviated,Mo.Standalone,!0);break;case"bbbb":t=Jo(Go.DayPeriods,Oo.Wide,Mo.Standalone,!0);break;case"bbbbb":t=Jo(Go.DayPeriods,Oo.Narrow,Mo.Standalone,!0);break;case"B":case"BB":case"BBB":t=Jo(Go.DayPeriods,Oo.Abbreviated,Mo.Format,!0);break;case"BBBB":t=Jo(Go.DayPeriods,Oo.Wide,Mo.Format,!0);break;case"BBBBB":t=Jo(Go.DayPeriods,Oo.Narrow,Mo.Format,!0);break;case"h":t=Qo(Wo.Hours,1,-12);break;case"hh":t=Qo(Wo.Hours,2,-12);break;case"H":t=Qo(Wo.Hours,1);break;case"HH":t=Qo(Wo.Hours,2);break;case"m":t=Qo(Wo.Minutes,1);break;case"mm":t=Qo(Wo.Minutes,2);break;case"s":t=Qo(Wo.Seconds,1);break;case"ss":t=Qo(Wo.Seconds,2);break;case"S":t=Qo(Wo.FractionalSeconds,1);break;case"SS":t=Qo(Wo.FractionalSeconds,2);break;case"SSS":t=Qo(Wo.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Xo(zo.Short);break;case"ZZZZZ":t=Xo(zo.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Xo(zo.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Xo(zo.Long);break;default:return null}return nu[e]=t,t}(e);u+=t?t(l,n,o):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}(new Date(e.year,e.month-1,e.day),"fullDate",this._locale)}}))(),Fg=(()=>(class{constructor(e,t){this._calendar=e,this._i18n=t,this._model$=new D,this._select$=new D,this._state={disabled:!1,displayMonths:1,firstDayOfWeek:1,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectBoxes:{years:[],months:[]},selectedDate:null}}get model$(){return this._model$.pipe(Ru(e=>e.months.length>0))}get select$(){return this._select$.pipe(Ru(e=>null!==e))}set dayTemplateData(e){this._state.dayTemplateData!==e&&this._nextState({dayTemplateData:e})}set disabled(e){this._state.disabled!==e&&this._nextState({disabled:e})}set displayMonths(e){rg(e=tg(e))&&e>0&&this._state.displayMonths!==e&&this._nextState({displayMonths:e})}set firstDayOfWeek(e){rg(e=tg(e))&&e>=0&&this._state.firstDayOfWeek!==e&&this._nextState({firstDayOfWeek:e})}set focusVisible(e){this._state.focusVisible===e||this._state.disabled||this._nextState({focusVisible:e})}set maxDate(e){const t=this.toValidDate(e,null);Sg(this._state.maxDate,t)&&this._nextState({maxDate:t})}set markDisabled(e){this._state.markDisabled!==e&&this._nextState({markDisabled:e})}set minDate(e){const t=this.toValidDate(e,null);Sg(this._state.minDate,t)&&this._nextState({minDate:t})}set navigation(e){this._state.navigation!==e&&this._nextState({navigation:e})}set outsideDays(e){this._state.outsideDays!==e&&this._nextState({outsideDays:e})}focus(e){!this._state.disabled&&this._calendar.isValid(e)&&Sg(this._state.focusDate,e)&&this._nextState({focusDate:e})}focusMove(e,t){this.focus(this._calendar.getNext(this._state.focusDate,e,t))}focusSelect(){Ig(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(e){const t=this.toValidDate(e,this._calendar.getToday());this._state.disabled||this._state.firstDate&&!Eg(this._state.firstDate,e)||this._nextState({firstDate:t})}select(e,t={}){const n=this.toValidDate(e,null);this._state.disabled||(Sg(this._state.selectedDate,n)&&this._nextState({selectedDate:n}),t.emitEvent&&Ig(n,this._state)&&this._select$.next(n))}toValidDate(e,t){const n=bg.from(e);return void 0===t&&(t=this._calendar.getToday()),this._calendar.isValid(n)?n:t}_nextState(e){const t=this._updateState(e);this._patchContexts(t),this._state=t,this._model$.next(this._state)}_patchContexts(e){const{months:t,displayMonths:n,selectedDate:r,focusDate:l,focusVisible:i,disabled:s,outsideDays:o}=e;e.months.forEach(e=>{e.weeks.forEach(u=>{u.days.forEach(u=>{l&&(u.context.focused=l.equals(u.date)&&i),u.tabindex=!s&&u.date.equals(l)&&l.month===e.number?0:-1,!0===s&&(u.context.disabled=!0),void 0!==r&&(u.context.selected=null!==r&&r.equals(u.date)),e.number!==u.date.month&&(u.hidden="hidden"===o||"collapsed"===o||n>1&&u.date.after(t[0].firstDate)&&u.date.before(t[n-1].lastDate))})})})}_updateState(e){const t=Object.assign({},this._state,e);let n=t.firstDate;if(("minDate"in e||"maxDate"in e)&&(function(e,t){if(t&&e&&t.before(e))throw new Error(`'maxDate' ${t} should be greater than 'minDate' ${e}`)}(t.minDate,t.maxDate),t.focusDate=Dg(t.focusDate,t.minDate,t.maxDate),t.firstDate=Dg(t.firstDate,t.minDate,t.maxDate),n=t.focusDate),"disabled"in e&&(t.focusVisible=!1),"selectedDate"in e&&0===this._state.months.length&&(n=t.selectedDate),"focusVisible"in e)return t;if("focusDate"in e&&(t.focusDate=Dg(t.focusDate,t.minDate,t.maxDate),n=t.focusDate,0!==t.months.length&&!t.focusDate.before(t.firstDate)&&!t.focusDate.after(t.lastDate)))return t;if("firstDate"in e&&(t.firstDate=Dg(t.firstDate,t.minDate,t.maxDate),n=t.firstDate),n){const l=function(e,t,n,r,l){const{displayMonths:i,months:s}=n,o=s.splice(0,s.length);return Array.from({length:i},(n,r)=>{const i=e.getNext(t,"m",r);if(s[r]=null,!l){const e=o.findIndex(e=>e.firstDate.equals(i));-1!==e&&(s[r]=o.splice(e,1)[0])}return i}).forEach((t,l)=>{null===s[l]&&(s[l]=function(e,t,n,r,l={}){const{dayTemplateData:i,minDate:s,maxDate:o,firstDayOfWeek:u,markDisabled:a,outsideDays:c}=n,d=e.getToday();l.firstDate=null,l.lastDate=null,l.number=t.month,l.year=t.year,l.weeks=l.weeks||[],l.weekdays=l.weekdays||[],t=function(e,t,n){const r=e.getDaysPerWeek(),l=new bg(t.year,t.month,1),i=e.getWeekday(l)%r;return e.getPrev(l,"d",(r+i-n)%r)}(e,t,u);for(let h=0;h<e.getWeeksPerMonth();h++){let n=l.weeks[h];n||(n=l.weeks[h]={number:0,days:[],collapsed:!0});const f=n.days;for(let u=0;u<e.getDaysPerWeek();u++){0===h&&(l.weekdays[u]=e.getWeekday(t));const n=new bg(t.year,t.month,t.day),c=e.getNext(n),p=r.getDayAriaLabel(n);let g=!!(s&&n.before(s)||o&&n.after(o));!g&&a&&(g=a(n,{month:l.number,year:l.year}));let m=n.equals(d),v=i?i(n,{month:l.number,year:l.year}):void 0;null===l.firstDate&&n.month===l.number&&(l.firstDate=n),n.month===l.number&&c.month!==l.number&&(l.lastDate=n);let y=f[u];y||(y=f[u]={}),y.date=n,y.context=Object.assign(y.context||{},{$implicit:n,date:n,data:v,currentMonth:l.number,disabled:g,focused:!1,selected:!1,today:m}),y.tabindex=-1,y.ariaLabel=p,y.hidden=!1,t=c}n.number=e.getWeekNumber(f.map(e=>e.date),u),n.collapsed="collapsed"===c&&f[0].date.month!==l.number&&f[f.length-1].date.month!==l.number}return l}(e,t,n,r,o.shift()||{}))}),s}(this._calendar,n,t,this._i18n,"dayTemplateData"in e||"firstDayOfWeek"in e||"markDisabled"in e||"minDate"in e||"maxDate"in e||"disabled"in e||"outsideDays"in e);t.months=l,t.firstDate=l.length>0?l[0].firstDate:void 0,t.lastDate=l.length>0?l[l.length-1].lastDate:void 0,"selectedDate"in e&&!Ig(t.selectedDate,t)&&(t.selectedDate=null),"firstDate"in e&&(void 0===t.focusDate||t.focusDate.before(t.firstDate)||t.focusDate.after(t.lastDate))&&(t.focusDate=n);const i=!this._state.firstDate||this._state.firstDate.year!==t.firstDate.year,s=!this._state.firstDate||this._state.firstDate.month!==t.firstDate.month;"select"===t.navigation?(("minDate"in e||"maxDate"in e||0===t.selectBoxes.years.length||i)&&(t.selectBoxes.years=function(e,t,n){if(!e)return[];const r=t&&t.year||e.year-10;return Array.from({length:(n&&n.year||e.year+10)-r+1},(e,t)=>r+t)}(t.firstDate,t.minDate,t.maxDate)),("minDate"in e||"maxDate"in e||0===t.selectBoxes.months.length||i)&&(t.selectBoxes.months=function(e,t,n,r){if(!t)return[];let l=e.getMonths(t.year);if(n&&t.year===n.year){const e=l.findIndex(e=>e===n.month);l=l.slice(e)}if(r&&t.year===r.year){const e=l.findIndex(e=>e===r.month);l=l.slice(0,e+1)}return l}(this._calendar,t.firstDate,t.minDate,t.maxDate))):t.selectBoxes={years:[],months:[]},"arrows"!==t.navigation&&"select"!==t.navigation||!(s||i||"minDate"in e||"maxDate"in e||"disabled"in e)||(t.prevDisabled=t.disabled||function(e,n,r){const l=e.getPrev(t.firstDate,"m");return r&&(l.year===r.year&&l.month<r.month||l.year<r.year&&1===r.month)}(this._calendar,0,t.minDate),t.nextDisabled=t.disabled||(r=t.maxDate)&&this._calendar.getNext(t.lastDate,"m").after(r))}var r;return t}}))();const Ag=function(){var e={Tab:9,Enter:13,Escape:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40};return e[e.Tab]="Tab",e[e.Enter]="Enter",e[e.Escape]="Escape",e[e.Space]="Space",e[e.PageUp]="PageUp",e[e.PageDown]="PageDown",e[e.End]="End",e[e.Home]="Home",e[e.ArrowLeft]="ArrowLeft",e[e.ArrowUp]="ArrowUp",e[e.ArrowRight]="ArrowRight",e[e.ArrowDown]="ArrowDown",e}();let Tg=(()=>(class{constructor(e,t){this._service=e,this._calendar=t,e.model$.subscribe(e=>{this._minDate=e.minDate,this._maxDate=e.maxDate,this._firstViewDate=e.firstDate,this._lastViewDate=e.lastDate})}processKey(e){switch(e.which){case Ag.PageUp:this._service.focusMove(e.shiftKey?"y":"m",-1);break;case Ag.PageDown:this._service.focusMove(e.shiftKey?"y":"m",1);break;case Ag.End:this._service.focus(e.shiftKey?this._maxDate:this._lastViewDate);break;case Ag.Home:this._service.focus(e.shiftKey?this._minDate:this._firstViewDate);break;case Ag.ArrowLeft:this._service.focusMove("d",-1);break;case Ag.ArrowUp:this._service.focusMove("d",-this._calendar.getDaysPerWeek());break;case Ag.ArrowRight:this._service.focusMove("d",1);break;case Ag.ArrowDown:this._service.focusMove("d",this._calendar.getDaysPerWeek());break;case Ag.Enter:case Ag.Space:this._service.focusSelect();break;default:return}e.preventDefault(),e.stopPropagation()}}))();const Pg=function(){var e={PREV:0,NEXT:1};return e[e.PREV]="PREV",e[e.NEXT]="NEXT",e}();let Ng=(()=>{class e{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekdays=!0,this.showWeekNumbers=!1}}return e.ngInjectableDef=pe({factory:function(){return new e},token:e,providedIn:"root"}),e})();function Rg(){return new $g}let jg=(()=>{class e{}return e.ngInjectableDef=pe({factory:Rg,token:e,providedIn:"root"}),e})(),$g=(()=>(class extends jg{fromModel(e){return e&&rg(e.year)&&rg(e.month)&&rg(e.day)?{year:e.year,month:e.month,day:e.day}:null}toModel(e){return e&&rg(e.year)&&rg(e.month)&&rg(e.day)?{year:e.year,month:e.month,day:e.day}:null}}))(),Vg=(()=>(class{constructor(e,t,n,r,l,i,s,o,u){this._keyMapService=e,this._service=t,this._calendar=n,this.i18n=r,this._cd=i,this._elementRef=s,this._ngbDateAdapter=o,this._ngZone=u,this._destroyed$=new D,this.navigate=new Tl,this.select=new Tl,this.onChange=e=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekdays","showWeekNumbers","startDate"].forEach(e=>this[e]=l[e]),t.select$.pipe(Zp(this._destroyed$)).subscribe(e=>{this.select.emit(e)}),t.model$.pipe(Zp(this._destroyed$)).subscribe(e=>{const t=e.firstDate,n=this.model?this.model.firstDate:null;let r=!1;if(!t.equals(n)&&(this.navigate.emit({current:n?{year:n.year,month:n.month}:null,next:{year:t.year,month:t.month},preventDefault:()=>r=!0}),r&&null!==n))return void this._service.open(n);const l=e.selectedDate,s=e.focusDate,o=this.model?this.model.focusDate:null;this.model=e,Sg(l,this._controlValue)&&(this._controlValue=l,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(l))),Sg(s,o)&&o&&e.focusVisible&&this.focus(),i.markForCheck()})}focus(){this._ngZone.onStable.asObservable().pipe(ta(1)).subscribe(()=>{const e=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');e&&e.focus()})}navigateTo(e){this._service.open(bg.from(e?e.day?e:Object.assign({},e,{day:1}):null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{X(zp(this._monthsEl.nativeElement,"focusin"),zp(this._monthsEl.nativeElement,"focusout")).pipe(Ru(({target:e,relatedTarget:t})=>!(ig(e,"ngb-dp-day")&&ig(t,"ngb-dp-day"))),Zp(this._destroyed$)).subscribe(({type:e})=>this._ngZone.run(()=>this._service.focusVisible="focusin"===e))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){void 0===this.model&&(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays"].forEach(e=>this._service[e]=this[e]),this.navigateTo(this.startDate))}ngOnChanges(e){if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays"].filter(t=>t in e).forEach(e=>this._service[e]=this[e]),"startDate"in e){const{currentValue:t,previousValue:n}=e.startDate;Eg(n,t)&&this.navigateTo(this.startDate)}}onDateSelect(e){this._service.focus(e),this._service.select(e,{emitEvent:!0})}onKeyDown(e){this._keyMapService.processKey(e)}onNavigateDateSelect(e){this._service.open(e)}onNavigateEvent(e){switch(e){case Pg.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case Pg.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._service.disabled=e}writeValue(e){this._controlValue=bg.from(this._ngbDateAdapter.fromModel(e)),this._service.select(this._controlValue)}}))(),Lg=(()=>(class{constructor(e){this.i18n=e,this.select=new Tl}doSelect(e){e.context.disabled||e.hidden||this.select.emit(e.date)}}))(),qg=(()=>(class{constructor(e){this.i18n=e,this.navigation=Pg,this.months=[],this.navigate=new Tl,this.select=new Tl}}))();"undefined"!=typeof navigator&&navigator.userAgent&&navigator;const Bg=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Ug(e){const t=Array.from(e.querySelectorAll(Bg)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}const Hg=(e,t,n=!1)=>{const r=zp(e,"focusin").pipe(Zp(t),B(e=>e.target));zp(e,"keydown").pipe(Zp(t),Ru(e=>e.which===Ag.Tab),Xp(r)).subscribe(([t,n])=>{const[r,l]=Ug(e);n!==r&&n!==e||!t.shiftKey||(l.focus(),t.preventDefault()),n!==l||t.shiftKey||(r.focus(),t.preventDefault())}),n&&zp(e,"click").pipe(Zp(t),Xp(r),B(e=>e[1])).subscribe(e=>e.focus())};let zg=(()=>(class{constructor(e){this.i18n=e}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}))(),Wg=(()=>(class{constructor(e){this.i18n=e,this.select=new Tl}changeMonth(e){this.select.emit(new bg(this.date.year,tg(e),1))}changeYear(e){this.select.emit(new bg(tg(e),this.date.month,1))}}))(),Gg=(()=>(class{}))(),Kg=(()=>(class{}))(),Zg=(()=>(class{}))(),Qg=(()=>{class e{constructor(){this.backdrop=!0,this.keyboard=!0}}return e.ngInjectableDef=pe({factory:function(){return new e},token:e,providedIn:"root"}),e})();class Jg{constructor(e,t,n){this.nodes=e,this.viewRef=t,this.componentRef=n}}const Xg=()=>{};let Yg=(()=>{class e{constructor(e){this._document=e}compensate(){return this._isPresent()?this._adjustBody(this._getWidth()):Xg}_adjustBody(e){const t=this._document.body,n=t.style.paddingRight,r=parseFloat(window.getComputedStyle(t)["padding-right"]);return t.style["padding-right"]=`${r+e}px`,()=>t.style["padding-right"]=n}_isPresent(){const e=this._document.body.getBoundingClientRect();return e.left+e.right<window.innerWidth}_getWidth(){const e=this._document.createElement("div");e.className="modal-scrollbar-measure";const t=this._document.body;t.appendChild(e);const n=e.getBoundingClientRect().width-e.clientWidth;return t.removeChild(e),n}}return e.ngInjectableDef=pe({factory:function(){return new e($e(_u))},token:e,providedIn:"root"}),e})(),em=(()=>(class{}))();class tm{close(e){}dismiss(e){}}class nm{constructor(e,t,n,r){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=n,this._beforeDismiss=r,e.instance.dismissEvent.subscribe(e=>{this.dismiss(e)}),this.result=new Promise((e,t)=>{this._resolve=e,this._reject=t}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef.componentRef)return this._contentRef.componentRef.instance}close(e){this._windowCmptRef&&(this._resolve(e),this._removeModalElements())}_dismiss(e){this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();t&&t.then?t.then(t=>{!1!==t&&this._dismiss(e)},()=>{}):!1!==t&&this._dismiss(e)}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.location.nativeElement;if(e.parentNode.removeChild(e),this._windowCmptRef.destroy(),this._backdropCmptRef){const e=this._backdropCmptRef.location.nativeElement;e.parentNode.removeChild(e),this._backdropCmptRef.destroy()}this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._backdropCmptRef=null,this._contentRef=null}}const rm=function(){var e={BACKDROP_CLICK:0,ESC:1};return e[e.BACKDROP_CLICK]="BACKDROP_CLICK",e[e.ESC]="ESC",e}();let lm=(()=>(class{constructor(e,t){this._document=e,this._elRef=t,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Tl}backdropClick(e){!0===this.backdrop&&this._elRef.nativeElement===e.target&&this.dismiss(rm.BACKDROP_CLICK)}escKey(e){this.keyboard&&!e.defaultPrevented&&this.dismiss(rm.ESC)}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement}ngAfterViewInit(){if(!this._elRef.nativeElement.contains(document.activeElement)){const e=this._elRef.nativeElement.querySelector("[ngbAutofocus]"),t=Ug(this._elRef.nativeElement)[0];(e||t||this._elRef.nativeElement).focus()}}ngOnDestroy(){const e=this._document.body,t=this._elWithFocus;let n;(n=t&&t.focus&&e.contains(t)?t:e).focus(),this._elWithFocus=null}}))(),im=(()=>{class e{constructor(e,t,n,r,l){this._applicationRef=e,this._injector=t,this._document=n,this._scrollBar=r,this._rendererFactory=l,this._activeWindowCmptHasChanged=new D,this._ariaHiddenValues=new Map,this._backdropAttributes=["backdropClass"],this._modalRefs=[],this._windowAttributes=["ariaLabelledBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const e=this._windowCmpts[this._windowCmpts.length-1];Hg(e.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(e.location.nativeElement)}})}open(e,t,n,r){const l=lg(r.container)?this._document.querySelector(r.container):this._document.body,i=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),o=()=>{this._modalRefs.length||(i.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!l)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);const u=new tm,a=this._getContentRef(e,r.injector||t,n,u,r);let c=!1!==r.backdrop?this._attachBackdrop(e,l):null,d=this._attachWindowComponent(e,l,a),h=new nm(d,a,c,r.beforeDismiss);return this._registerModalRef(h),this._registerWindowCmpt(d),h.result.then(s,s),h.result.then(o,o),u.close=e=>{h.close(e)},u.dismiss=e=>{h.dismiss(e)},this._applyWindowOptions(d.instance,r),1===this._modalRefs.length&&i.addClass(this._document.body,"modal-open"),c&&c.instance&&this._applyBackdropOptions(c.instance,r),h}dismissAll(e){this._modalRefs.forEach(t=>t.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,t){let n=e.resolveComponentFactory(em).create(this._injector);return this._applicationRef.attachView(n.hostView),t.appendChild(n.location.nativeElement),n}_attachWindowComponent(e,t,n){let r=e.resolveComponentFactory(lm).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_applyWindowOptions(e,t){this._windowAttributes.forEach(n=>{lg(t[n])&&(e[n]=t[n])})}_applyBackdropOptions(e,t){this._backdropAttributes.forEach(n=>{lg(t[n])&&(e[n]=t[n])})}_getContentRef(e,t,n,r,l){return n?n instanceof An?this._createFromTemplateRef(n,r):"string"==typeof n?this._createFromString(n):this._createFromComponent(e,t,n,r,l):new Jg([])}_createFromTemplateRef(e,t){const n=e.createEmbeddedView({$implicit:t,close(e){t.close(e)},dismiss(e){t.dismiss(e)}});return this._applicationRef.attachView(n),new Jg([n.rootNodes],n)}_createFromString(e){const t=this._document.createTextNode(`${e}`);return new Jg([[t]])}_createFromComponent(e,t,n,r,l){const i=e.resolveComponentFactory(n),s=Ue.create({providers:[{provide:tm,useValue:r}],parent:t}),o=i.create(s),u=o.location.nativeElement;return l.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(o.hostView),new Jg([[u]],o.hostView,o)}_setAriaHidden(e){const t=e.parentElement;t&&e!==this._document.body&&(Array.from(t.children).forEach(t=>{t!==e&&"SCRIPT"!==t.nodeName&&(this._ariaHiddenValues.set(t,t.getAttribute("aria-hidden")),t.setAttribute("aria-hidden","true"))}),this._setAriaHidden(t))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,t)=>{e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const t=()=>{const t=this._modalRefs.indexOf(e);t>-1&&this._modalRefs.splice(t,1)};this._modalRefs.push(e),e.result.then(t,t)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const t=this._windowCmpts.indexOf(e);t>-1&&(this._windowCmpts.splice(t,1),this._activeWindowCmptHasChanged.next())})}}return e.ngInjectableDef=pe({factory:function(){return new e($e(Ei),$e(De),$e(_u),$e(Yg),$e(an))},token:e,providedIn:"root"}),e})(),sm=(()=>{class e{constructor(e,t,n,r){this._moduleCFR=e,this._injector=t,this._modalStack=n,this._config=r}open(e,t={}){const n=Object.assign({},this._config,t);return this._modalStack.open(this._moduleCFR,this._injector,e,n)}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return e.ngInjectableDef=pe({factory:function(){return new e($e(Yt),$e(De),$e(im),$e(Qg))},token:e,providedIn:"root"}),e})(),om=(()=>(class{}))(),um=(()=>(class{}))(),am=(()=>(class{isTitleTemplate(){return this.title instanceof An}}))(),cm=(()=>(class{}))(),dm=(()=>(class{}))(),hm=(()=>(class{}))(),fm=(()=>(class{}))(),pm=(()=>(class{}))(),gm=(()=>(class{}))(),mm=(()=>(class{}))(),vm=(()=>(class{}))(),ym=(()=>(class{constructor(){this.highlightClass="ngb-highlight"}ngOnChanges(e){const t=ng(this.result),n=(Array.isArray(this.term)?this.term:[this.term]).map(e=>(function(t){return ng(e).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")})()).filter(e=>e);this.parts=n.length?t.split(new RegExp(`(${n.join("|")})`,"gmi")):[t]}}))(),bm=(()=>(class{constructor(){this.activeIdx=0,this.focusFirst=!0,this.formatter=ng,this.selectEvent=new Tl,this.activeChangeEvent=new Tl}hasActive(){return this.activeIdx>-1&&this.activeIdx<this.results.length}getActive(){return this.results[this.activeIdx]}markActive(e){this.activeIdx=e,this._activeChanged()}next(){this.activeIdx===this.results.length-1?this.activeIdx=this.focusFirst?(this.activeIdx+1)%this.results.length:-1:this.activeIdx++,this._activeChanged()}prev(){this.activeIdx<0?this.activeIdx=this.results.length-1:0===this.activeIdx?this.activeIdx=this.focusFirst?this.results.length-1:-1:this.activeIdx--,this._activeChanged()}resetActive(){this.activeIdx=this.focusFirst?0:-1,this._activeChanged()}select(e){this.selectEvent.emit(e)}ngOnInit(){this.resetActive()}_activeChanged(){this.activeChangeEvent.emit(this.activeIdx>=0?this.id+"-"+this.activeIdx:void 0)}}))(),_m=(()=>(class{}))(),wm=(()=>(class{}))();var Cm=Xn({encapsulation:2,styles:["ngb-alert{display:block}"],data:{}});function km(e){return cs(0,[(e()(),Wi(0,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.closeHandler()&&r),r},null,null)),(e()(),Wi(1,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),os(-1,null,["\xd7"]))],null,null)}function xm(e){return cs(2,[ns(null,0),(e()(),zi(16777216,null,null,1,null,km)),cl(2,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,t.component.dismissible)},null)}function Sm(e){return cs(0,[(e()(),Wi(0,0,null,null,1,"ngb-alert",[["class","alert"],["role","alert"]],[[2,"alert-dismissible",null]],null,null,xm,Cm)),cl(1,638976,null,0,ug,[og,dn,sn],null,null)],function(e,t){e(t,1,0)},function(e,t){e(t,0,0,Jr(t,1).dismissible)})}var Em=Lr("ngb-alert",ug,Sm,{dismissible:"dismissible",type:"type"},{close:"close"},["*"]),Dm=Xn({encapsulation:2,styles:[],data:{}});function Im(e){return cs(0,[(e()(),Wi(0,0,null,null,0,"li",[],[[8,"id",0],[2,"active",null]],[[null,"click"]],function(e,t,n){var r=!0,l=e.component;return"click"===t&&(r=!1!==l.select(e.context.$implicit.id,l.NgbSlideEventSource.INDICATOR)&&r),r},null,null))],null,function(e,t){e(t,0,0,t.context.$implicit.id,t.context.$implicit.id===t.component.activeId)})}function Mm(e){return cs(0,[(e()(),Wi(0,0,null,null,2,"ol",[["class","carousel-indicators"]],null,null,null,null,null)),(e()(),zi(16777216,null,null,1,null,Im)),cl(2,278528,null,0,fu,[Pn,An,Sn],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.component.slides)},null)}function Om(e){return cs(0,[(e()(),zi(0,null,null,0))],null,null)}function Fm(e){return cs(0,[(e()(),Wi(0,0,null,null,2,"div",[["class","carousel-item"]],[[2,"active",null]],null,null,null,null)),(e()(),zi(16777216,null,null,1,null,Om)),cl(2,540672,null,0,yu,[Pn],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null)],function(e,t){e(t,2,0,t.context.$implicit.tplRef)},function(e,t){e(t,0,0,t.context.$implicit.id===t.component.activeId)})}function Am(e){return cs(0,[(e()(),Wi(0,0,null,null,3,"a",[["class","carousel-control-prev"],["role","button"]],null,[[null,"click"]],function(e,t,n){var r=!0,l=e.component;return"click"===t&&(r=!1!==l.prev(l.NgbSlideEventSource.ARROW_LEFT)&&r),r},null,null)),(e()(),Wi(1,0,null,null,0,"span",[["aria-hidden","true"],["class","carousel-control-prev-icon"]],null,null,null,null,null)),(e()(),Wi(2,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(e()(),os(-1,null,["Previous"]))],null,null)}function Tm(e){return cs(0,[(e()(),Wi(0,0,null,null,3,"a",[["class","carousel-control-next"],["role","button"]],null,[[null,"click"]],function(e,t,n){var r=!0,l=e.component;return"click"===t&&(r=!1!==l.next(l.NgbSlideEventSource.ARROW_RIGHT)&&r),r},null,null)),(e()(),Wi(1,0,null,null,0,"span",[["aria-hidden","true"],["class","carousel-control-next-icon"]],null,null,null,null,null)),(e()(),Wi(2,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(e()(),os(-1,null,["Next"]))],null,null)}function Pm(e){return cs(2,[(e()(),zi(16777216,null,null,1,null,Mm)),cl(1,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null),(e()(),Wi(2,0,null,null,2,"div",[["class","carousel-inner"]],null,null,null,null,null)),(e()(),zi(16777216,null,null,1,null,Fm)),cl(4,278528,null,0,fu,[Pn,An,Sn],{ngForOf:[0,"ngForOf"]},null),(e()(),zi(16777216,null,null,1,null,Am)),cl(6,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null),(e()(),zi(16777216,null,null,1,null,Tm)),cl(8,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,1,0,n.showNavigationIndicators),e(t,4,0,n.slides),e(t,6,0,n.showNavigationArrows),e(t,8,0,n.showNavigationArrows)},null)}var Nm=Xn({encapsulation:2,styles:["ngb-datepicker-month-view{display:block}.ngb-dp-week-number,.ngb-dp-weekday{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:#5bc0de;color:var(--info)}.ngb-dp-week{border-radius:.25rem;display:-ms-flexbox;display:flex}.ngb-dp-weekdays{border-bottom:1px solid rgba(0,0,0,.125);border-radius:0}.ngb-dp-day,.ngb-dp-week-number,.ngb-dp-weekday{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default}"],data:{}});function Rm(e){return cs(0,[(e()(),Wi(0,0,null,null,0,"div",[["class","ngb-dp-weekday ngb-dp-showweek"]],null,null,null,null,null))],null,null)}function jm(e){return cs(0,[(e()(),Wi(0,0,null,null,1,"div",[["class","ngb-dp-weekday small"]],null,null,null,null,null)),(e()(),os(1,null,[" "," "]))],null,function(e,t){e(t,1,0,t.component.i18n.getWeekdayShortName(t.context.$implicit))})}function $m(e){return cs(0,[(e()(),Wi(0,0,null,null,4,"div",[["class","ngb-dp-week ngb-dp-weekdays bg-light"]],null,null,null,null,null)),(e()(),zi(16777216,null,null,1,null,Rm)),cl(2,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null),(e()(),zi(16777216,null,null,1,null,jm)),cl(4,278528,null,0,fu,[Pn,An,Sn],{ngForOf:[0,"ngForOf"]},null)],function(e,t){var n=t.component;e(t,2,0,n.showWeekNumbers),e(t,4,0,n.month.weekdays)},null)}function Vm(e){return cs(0,[(e()(),Wi(0,0,null,null,1,"div",[["class","ngb-dp-week-number small text-muted"]],null,null,null,null,null)),(e()(),os(1,null,["",""]))],null,function(e,t){e(t,1,0,t.component.i18n.getWeekNumerals(t.parent.parent.context.$implicit.number))})}function Lm(e){return cs(0,[(e()(),zi(0,null,null,0))],null,null)}function qm(e){return cs(0,[(e()(),zi(16777216,null,null,1,null,Lm)),cl(1,540672,null,0,yu,[Pn],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),(e()(),zi(0,null,null,0))],function(e,t){e(t,1,0,t.parent.context.$implicit.context,t.component.dayTemplate)},null)}function Bm(e){return cs(0,[(e()(),Wi(0,0,null,null,2,"div",[["class","ngb-dp-day"],["role","gridcell"]],[[2,"disabled",null],[8,"tabIndex",0],[2,"hidden",null],[2,"ngb-dp-today",null],[1,"aria-label",0]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.doSelect(e.context.$implicit)&&r),r},null,null)),(e()(),zi(16777216,null,null,1,null,qm)),cl(2,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,!t.context.$implicit.hidden)},function(e,t){e(t,0,0,t.context.$implicit.context.disabled,t.context.$implicit.tabindex,t.context.$implicit.hidden,t.context.$implicit.context.today,t.context.$implicit.ariaLabel)})}function Um(e){return cs(0,[(e()(),Wi(0,0,null,null,4,"div",[["class","ngb-dp-week"],["role","row"]],null,null,null,null,null)),(e()(),zi(16777216,null,null,1,null,Vm)),cl(2,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null),(e()(),zi(16777216,null,null,1,null,Bm)),cl(4,278528,null,0,fu,[Pn,An,Sn],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.component.showWeekNumbers),e(t,4,0,t.parent.context.$implicit.days)},null)}function Hm(e){return cs(0,[(e()(),zi(16777216,null,null,1,null,Um)),cl(1,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null),(e()(),zi(0,null,null,0))],function(e,t){e(t,1,0,!t.context.$implicit.collapsed)},null)}function zm(e){return cs(0,[(e()(),zi(16777216,null,null,1,null,$m)),cl(1,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null),(e()(),zi(16777216,null,null,1,null,Hm)),cl(3,278528,null,0,fu,[Pn,An,Sn],{ngForOf:[0,"ngForOf"]},null)],function(e,t){var n=t.component;e(t,1,0,n.showWeekdays),e(t,3,0,n.month.weeks)},null)}var Wm=Xn({encapsulation:2,styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:0 0}[ngbDatepickerDayView].outside{opacity:.5}"],data:{}});function Gm(e){return cs(2,[(e()(),os(0,null,["",""]))],null,function(e,t){var n=t.component;e(t,0,0,n.i18n.getDayNumerals(n.date))})}var Km=Xn({encapsulation:2,styles:["ngb-datepicker-navigation{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;-webkit-transform:rotate(-135deg);transform:rotate(-135deg)}.right .ngb-dp-navigation-chevron{-webkit-transform:rotate(45deg);transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{-ms-flex-pack:end;justify-content:flex-end}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:-ms-flexbox;display:flex;-ms-flex:1 1 9rem;flex:1 1 9rem}"],data:{}});function Zm(e){return cs(0,[(e()(),Wi(0,0,null,null,1,"ngb-datepicker-navigation-select",[["class","ngb-dp-navigation-select"]],null,[[null,"select"]],function(e,t,n){var r=!0;return"select"===t&&(r=!1!==e.component.select.emit(n)&&r),r},lv,tv)),cl(1,49152,null,0,Wg,[Mg],{date:[0,"date"],disabled:[1,"disabled"],months:[2,"months"],years:[3,"years"]},{select:"select"})],function(e,t){var n=t.component;e(t,1,0,n.date,n.disabled,n.selectBoxes.months,n.selectBoxes.years)},null)}function Qm(e){return cs(0,[(e()(),Wi(0,0,null,null,0,"div",[["class","ngb-dp-arrow"]],null,null,null,null,null))],null,null)}function Jm(e){return cs(0,[(e()(),Wi(0,0,null,null,0,"div",[["class","ngb-dp-arrow"]],null,null,null,null,null))],null,null)}function Xm(e){return cs(0,[(e()(),zi(16777216,null,null,1,null,Qm)),cl(1,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null),(e()(),Wi(2,0,null,null,1,"div",[["class","ngb-dp-month-name"]],null,null,null,null,null)),(e()(),os(3,null,[" "," "," "])),(e()(),zi(16777216,null,null,1,null,Jm)),cl(5,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null),(e()(),zi(0,null,null,0))],function(e,t){var n=t.component;e(t,1,0,t.context.index>0),e(t,5,0,t.context.index!==n.months.length-1)},function(e,t){var n=t.component;e(t,3,0,n.i18n.getMonthFullName(t.context.$implicit.number,t.context.$implicit.year),n.i18n.getYearNumerals(t.context.$implicit.year))})}function Ym(e){return cs(0,[(e()(),zi(16777216,null,null,1,null,Xm)),cl(1,278528,null,0,fu,[Pn,An,Sn],{ngForOf:[0,"ngForOf"]},null),(e()(),zi(0,null,null,0))],function(e,t){e(t,1,0,t.component.months)},null)}function ev(e){return cs(2,[(e()(),Wi(0,0,null,null,2,"div",[["class","ngb-dp-arrow"]],null,null,null,null,null)),(e()(),Wi(1,0,null,null,1,"button",[["aria-label","Previous month"],["class","btn btn-link ngb-dp-arrow-btn"],["title","Previous month"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(e,t,n){var r=!0,l=e.component;return"click"===t&&(r=!1!==l.navigate.emit(l.navigation.PREV)&&r),r},null,null)),(e()(),Wi(2,0,null,null,0,"span",[["class","ngb-dp-navigation-chevron"]],null,null,null,null,null)),(e()(),zi(16777216,null,null,1,null,Zm)),cl(4,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null),(e()(),zi(16777216,null,null,1,null,Ym)),cl(6,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null),(e()(),Wi(7,0,null,null,2,"div",[["class","ngb-dp-arrow right"]],null,null,null,null,null)),(e()(),Wi(8,0,null,null,1,"button",[["aria-label","Next month"],["class","btn btn-link ngb-dp-arrow-btn"],["title","Next month"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(e,t,n){var r=!0,l=e.component;return"click"===t&&(r=!1!==l.navigate.emit(l.navigation.NEXT)&&r),r},null,null)),(e()(),Wi(9,0,null,null,0,"span",[["class","ngb-dp-navigation-chevron"]],null,null,null,null,null))],function(e,t){var n=t.component;e(t,4,0,n.showSelect),e(t,6,0,!n.showSelect)},function(e,t){var n=t.component;e(t,1,0,n.prevDisabled),e(t,8,0,n.nextDisabled)})}var tv=Xn({encapsulation:2,styles:["ngb-datepicker-navigation-select>.custom-select{-ms-flex:1 1 auto;flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}"],data:{}});function nv(e){return cs(0,[(e()(),Wi(0,0,null,null,3,"option",[],[[1,"aria-label",0]],null,null,null,null)),cl(1,147456,null,0,ep,[sn,dn,[8,null]],{value:[0,"value"]},null),cl(2,147456,null,0,rp,[sn,dn,[8,null]],{value:[0,"value"]},null),(e()(),os(3,null,["",""]))],function(e,t){e(t,1,0,t.context.$implicit),e(t,2,0,t.context.$implicit)},function(e,t){var n=t.component;e(t,0,0,n.i18n.getMonthFullName(t.context.$implicit,null==n.date?null:n.date.year)),e(t,3,0,n.i18n.getMonthShortName(t.context.$implicit,null==n.date?null:n.date.year))})}function rv(e){return cs(0,[(e()(),Wi(0,0,null,null,3,"option",[],null,null,null,null,null)),cl(1,147456,null,0,ep,[sn,dn,[8,null]],{value:[0,"value"]},null),cl(2,147456,null,0,rp,[sn,dn,[8,null]],{value:[0,"value"]},null),(e()(),os(3,null,["",""]))],function(e,t){e(t,1,0,t.context.$implicit),e(t,2,0,t.context.$implicit)},function(e,t){e(t,3,0,t.component.i18n.getYearNumerals(t.context.$implicit))})}function lv(e){return cs(2,[(e()(),Wi(0,0,null,null,2,"select",[["aria-label","Select month"],["class","custom-select"],["title","Select month"]],[[8,"disabled",0],[8,"value",0]],[[null,"change"]],function(e,t,n){var r=!0;return"change"===t&&(r=!1!==e.component.changeMonth(n.target.value)&&r),r},null,null)),(e()(),zi(16777216,null,null,1,null,nv)),cl(2,278528,null,0,fu,[Pn,An,Sn],{ngForOf:[0,"ngForOf"]},null),(e()(),Wi(3,0,null,null,2,"select",[["aria-label","Select year"],["class","custom-select"],["title","Select year"]],[[8,"disabled",0],[8,"value",0]],[[null,"change"]],function(e,t,n){var r=!0;return"change"===t&&(r=!1!==e.component.changeYear(n.target.value)&&r),r},null,null)),(e()(),zi(16777216,null,null,1,null,rv)),cl(5,278528,null,0,fu,[Pn,An,Sn],{ngForOf:[0,"ngForOf"]},null)],function(e,t){var n=t.component;e(t,2,0,n.months),e(t,5,0,n.years)},function(e,t){var n=t.component;e(t,0,0,n.disabled,null==n.date?null:n.date.month),e(t,3,0,n.disabled,null==n.date?null:n.date.year)})}var iv=Xn({encapsulation:2,styles:["ngb-datepicker{border:1px solid #dfdfdf;border-radius:.25rem;display:inline-block}ngb-datepicker-month-view{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}.ngb-dp-body{z-index:1050}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:#f8f9fa}.ngb-dp-months{display:-ms-flexbox;display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:#f8f9fa}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}"],data:{}});function sv(e){return cs(0,[(e()(),Wi(0,0,null,null,1,"div",[["class","btn-light"],["ngbDatepickerDayView",""]],[[2,"bg-primary",null],[2,"text-white",null],[2,"text-muted",null],[2,"outside",null],[2,"active",null]],null,null,Gm,Wm)),cl(1,49152,null,0,zg,[Mg],{currentMonth:[0,"currentMonth"],date:[1,"date"],disabled:[2,"disabled"],focused:[3,"focused"],selected:[4,"selected"]},null)],function(e,t){e(t,1,0,t.context.currentMonth,t.context.date,t.context.disabled,t.context.focused,t.context.selected)},function(e,t){e(t,0,0,Jr(t,1).selected,Jr(t,1).selected,Jr(t,1).isMuted(),Jr(t,1).isMuted(),Jr(t,1).focused)})}function ov(e){return cs(0,[(e()(),Wi(0,0,null,null,1,"ngb-datepicker-navigation",[],null,[[null,"navigate"],[null,"select"]],function(e,t,n){var r=!0,l=e.component;return"navigate"===t&&(r=!1!==l.onNavigateEvent(n)&&r),"select"===t&&(r=!1!==l.onNavigateDateSelect(n)&&r),r},ev,Km)),cl(1,49152,null,0,qg,[Mg],{date:[0,"date"],disabled:[1,"disabled"],months:[2,"months"],showSelect:[3,"showSelect"],prevDisabled:[4,"prevDisabled"],nextDisabled:[5,"nextDisabled"],selectBoxes:[6,"selectBoxes"]},{navigate:"navigate",select:"select"})],function(e,t){var n=t.component;e(t,1,0,n.model.firstDate,n.model.disabled,n.model.months,"select"===n.model.navigation,n.model.prevDisabled,n.model.nextDisabled,n.model.selectBoxes)},null)}function uv(e){return cs(0,[(e()(),Wi(0,0,null,null,1,"div",[["class","ngb-dp-month-name"]],null,null,null,null,null)),(e()(),os(1,null,[" "," "," "]))],null,function(e,t){var n=t.component;e(t,1,0,n.i18n.getMonthFullName(t.parent.context.$implicit.number,t.parent.context.$implicit.year),n.i18n.getYearNumerals(t.parent.context.$implicit.year))})}function av(e){return cs(0,[(e()(),Wi(0,0,null,null,4,"div",[["class","ngb-dp-month"]],null,null,null,null,null)),(e()(),zi(16777216,null,null,1,null,uv)),cl(2,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null),(e()(),Wi(3,0,null,null,1,"ngb-datepicker-month-view",[["role","grid"]],null,[[null,"select"]],function(e,t,n){var r=!0;return"select"===t&&(r=!1!==e.component.onDateSelect(n)&&r),r},zm,Nm)),cl(4,49152,null,0,Lg,[Mg],{dayTemplate:[0,"dayTemplate"],month:[1,"month"],showWeekdays:[2,"showWeekdays"],showWeekNumbers:[3,"showWeekNumbers"]},{select:"select"})],function(e,t){var n=t.component;e(t,2,0,"none"===n.navigation||n.displayMonths>1&&"select"===n.navigation),e(t,4,0,n.dayTemplate||Jr(t.parent,1),t.context.$implicit,n.showWeekdays,n.showWeekNumbers)},null)}function cv(e){return cs(0,[(e()(),zi(0,null,null,0))],null,null)}function dv(e){return cs(2,[Ji(402653184,1,{_monthsEl:0}),(e()(),zi(0,[["dt",2]],null,0,null,sv)),(e()(),Wi(2,0,null,null,2,"div",[["class","ngb-dp-header"]],null,null,null,null,null)),(e()(),zi(16777216,null,null,1,null,ov)),cl(4,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null),(e()(),Wi(5,0,[[1,0],["months",1]],null,2,"div",[["class","ngb-dp-months"]],null,[[null,"keydown"]],function(e,t,n){var r=!0;return"keydown"===t&&(r=!1!==e.component.onKeyDown(n)&&r),r},null,null)),(e()(),zi(16777216,null,null,1,null,av)),cl(7,278528,null,0,fu,[Pn,An,Sn],{ngForOf:[0,"ngForOf"]},null),(e()(),zi(16777216,null,null,1,null,cv)),cl(9,540672,null,0,yu,[Pn],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null)],function(e,t){var n=t.component;e(t,4,0,"none"!==n.navigation),e(t,7,0,n.model.months),e(t,9,0,n.footerTemplate)},null)}function hv(e){return cs(0,[(e()(),Wi(0,0,null,null,4,"ngb-datepicker",[],null,null,null,dv,iv)),dl(5120,null,Df,function(e){return[e]},[Vg]),dl(512,null,Fg,Fg,[kg,Mg]),dl(512,null,Tg,Tg,[Fg,kg]),cl(4,4964352,null,0,Vg,[Tg,Fg,kg,Mg,Ng,Dn,sn,jg,oi],null,null)],function(e,t){e(t,4,0)},null)}var fv=Lr("ngb-datepicker",Vg,hv,{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekdays:"showWeekdays",showWeekNumbers:"showWeekNumbers",startDate:"startDate"},{navigate:"navigate",select:"select"},[]),pv=Xn({encapsulation:2,styles:["ngb-popover-window.bs-popover-bottom>.arrow,ngb-popover-window.bs-popover-top>.arrow{left:50%;margin-left:-.5rem}ngb-popover-window.bs-popover-bottom-left>.arrow,ngb-popover-window.bs-popover-top-left>.arrow{left:2em}ngb-popover-window.bs-popover-bottom-right>.arrow,ngb-popover-window.bs-popover-top-right>.arrow{left:auto;right:2em}ngb-popover-window.bs-popover-left>.arrow,ngb-popover-window.bs-popover-right>.arrow{top:50%;margin-top:-.5rem}ngb-popover-window.bs-popover-left-top>.arrow,ngb-popover-window.bs-popover-right-top>.arrow{top:.7em}ngb-popover-window.bs-popover-left-bottom>.arrow,ngb-popover-window.bs-popover-right-bottom>.arrow{top:auto;bottom:.7em}"],data:{}});function gv(e){return cs(0,[(e()(),os(0,null,["",""]))],null,function(e,t){e(t,0,0,t.component.title)})}function mv(e){return cs(0,[(e()(),zi(0,null,null,0))],null,null)}function vv(e){return cs(0,[(e()(),Wi(0,0,null,null,3,"h3",[["class","popover-header"]],null,null,null,null,null)),(e()(),zi(0,[["simpleTitle",2]],null,0,null,gv)),(e()(),zi(16777216,null,null,1,null,mv)),cl(3,540672,null,0,yu,[Pn],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null)],function(e,t){var n=t.component;e(t,3,0,n.context,n.isTitleTemplate()?n.title:Jr(t,1))},null)}function yv(e){return cs(2,[(e()(),Wi(0,0,null,null,0,"div",[["class","arrow"]],null,null,null,null,null)),(e()(),zi(16777216,null,null,1,null,vv)),cl(2,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null),(e()(),Wi(3,0,null,null,1,"div",[["class","popover-body"]],null,null,null,null,null)),ns(null,0)],function(e,t){e(t,2,0,null!=t.component.title)},null)}function bv(e){return cs(0,[(e()(),Wi(0,0,null,null,1,"ngb-popover-window",[["role","tooltip"]],[[8,"className",0],[8,"id",0]],null,null,yv,pv)),cl(1,49152,null,0,am,[],null,null)],null,function(e,t){e(t,0,0,"popover"+(Jr(t,1).popoverClass?" "+Jr(t,1).popoverClass:""),Jr(t,1).id)})}var _v=Lr("ngb-popover-window",am,bv,{title:"title",id:"id",popoverClass:"popoverClass",context:"context"},{},["*"]),wv=Xn({encapsulation:2,styles:["ngb-tooltip-window.bs-tooltip-bottom .arrow,ngb-tooltip-window.bs-tooltip-top .arrow{left:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-bottom-left .arrow,ngb-tooltip-window.bs-tooltip-top-left .arrow{left:1em}ngb-tooltip-window.bs-tooltip-bottom-right .arrow,ngb-tooltip-window.bs-tooltip-top-right .arrow{left:auto;right:.8rem}ngb-tooltip-window.bs-tooltip-left .arrow,ngb-tooltip-window.bs-tooltip-right .arrow{top:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-left-top .arrow,ngb-tooltip-window.bs-tooltip-right-top .arrow{top:.4rem}ngb-tooltip-window.bs-tooltip-left-bottom .arrow,ngb-tooltip-window.bs-tooltip-right-bottom .arrow{top:auto;bottom:.4rem}"],data:{}});function Cv(e){return cs(2,[(e()(),Wi(0,0,null,null,0,"div",[["class","arrow"]],null,null,null,null,null)),(e()(),Wi(1,0,null,null,1,"div",[["class","tooltip-inner"]],null,null,null,null,null)),ns(null,0)],null,null)}function kv(e){return cs(0,[(e()(),Wi(0,0,null,null,1,"ngb-tooltip-window",[["role","tooltip"]],[[8,"className",0],[8,"id",0]],null,null,Cv,wv)),cl(1,49152,null,0,mm,[],null,null)],null,function(e,t){e(t,0,0,"tooltip show"+(Jr(t,1).tooltipClass?" "+Jr(t,1).tooltipClass:""),Jr(t,1).id)})}var xv=Lr("ngb-tooltip-window",mm,kv,{id:"id",tooltipClass:"tooltipClass"},{},["*"]),Sv=Xn({encapsulation:2,styles:[],data:{}});function Ev(e){return cs(0,[(e()(),Wi(0,0,null,null,1,"ngb-highlight",[],null,null,null,Rv,Av)),cl(1,573440,null,0,ym,[],{result:[0,"result"],term:[1,"term"]},null)],function(e,t){var n=t.context.formatter(t.context.result);e(t,1,0,n,t.context.term)},null)}function Dv(e){return cs(0,[(e()(),zi(0,null,null,0))],null,null)}function Iv(e){return cs(0,[(e()(),Wi(0,0,null,null,3,"button",[["class","dropdown-item"],["role","option"],["type","button"]],[[8,"id",0],[2,"active",null]],[[null,"mouseenter"],[null,"click"]],function(e,t,n){var r=!0,l=e.component;return"mouseenter"===t&&(r=!1!==l.markActive(e.context.index)&&r),"click"===t&&(r=!1!==l.select(e.context.$implicit)&&r),r},null,null)),(e()(),zi(16777216,null,null,2,null,Dv)),cl(2,540672,null,0,yu,[Pn],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),is(3,{result:0,term:1,formatter:2})],function(e,t){var n=t.component,r=e(t,3,0,t.context.$implicit,n.term,n.formatter);e(t,2,0,r,n.resultTemplate||Jr(t.parent,0))},function(e,t){var n=t.component;e(t,0,0,n.id+"-"+t.context.index,t.context.index===n.activeIdx)})}function Mv(e){return cs(0,[(e()(),zi(0,[["rt",2]],null,0,null,Ev)),(e()(),zi(16777216,null,null,1,null,Iv)),cl(2,278528,null,0,fu,[Pn,An,Sn],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.component.results)},null)}function Ov(e){return cs(0,[(e()(),Wi(0,0,null,null,1,"ngb-typeahead-window",[["class","dropdown-menu show"],["role","listbox"]],[[8,"id",0]],[[null,"mousedown"]],function(e,t,n){var r=!0;return"mousedown"===t&&(r=!1!==n.preventDefault()&&r),r},Mv,Sv)),cl(1,114688,null,0,bm,[],null,null)],function(e,t){e(t,1,0)},function(e,t){e(t,0,0,Jr(t,1).id)})}var Fv=Lr("ngb-typeahead-window",bm,Ov,{id:"id",focusFirst:"focusFirst",results:"results",term:"term",formatter:"formatter",resultTemplate:"resultTemplate"},{selectEvent:"select",activeChangeEvent:"activeChange"},[]),Av=Xn({encapsulation:2,styles:[".ngb-highlight{font-weight:700}"],data:{}});function Tv(e){return cs(0,[(e()(),Wi(0,0,null,null,1,"span",[],[[8,"className",0]],null,null,null,null)),(e()(),os(1,null,["",""]))],null,function(e,t){e(t,0,0,t.component.highlightClass),e(t,1,0,t.parent.context.$implicit)})}function Pv(e){return cs(0,[(e()(),os(0,null,["",""]))],null,function(e,t){e(t,0,0,t.parent.context.$implicit)})}function Nv(e){return cs(0,[(e()(),zi(16777216,null,null,1,null,Tv)),cl(1,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),zi(0,[["even",2]],null,0,null,Pv))],function(e,t){e(t,1,0,t.context.odd,Jr(t,2))},null)}function Rv(e){return cs(2,[(e()(),zi(16777216,null,null,1,null,Nv)),cl(1,278528,null,0,fu,[Pn,An,Sn],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,1,0,t.component.parts)},null)}var jv=Xn({encapsulation:2,styles:[],data:{}});function $v(e){return cs(0,[],null,null)}function Vv(e){return cs(0,[(e()(),Wi(0,0,null,null,1,"ngb-modal-backdrop",[["style","z-index: 1050"]],[[8,"className",0]],null,null,$v,jv)),cl(1,49152,null,0,em,[],null,null)],null,function(e,t){e(t,0,0,"modal-backdrop fade show"+(Jr(t,1).backdropClass?" "+Jr(t,1).backdropClass:""))})}var Lv=Lr("ngb-modal-backdrop",em,Vv,{backdropClass:"backdropClass"},{},[]),qv=Xn({encapsulation:2,styles:["ngb-modal-window .component-host-scrollable{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}"],data:{}});function Bv(e){return cs(0,[(e()(),Wi(0,0,null,null,2,"div",[["role","document"]],[[8,"className",0]],null,null,null,null)),(e()(),Wi(1,0,null,null,1,"div",[["class","modal-content"]],null,null,null,null,null)),ns(null,0)],null,function(e,t){var n=t.component;e(t,0,0,"modal-dialog"+(n.size?" modal-"+n.size:"")+(n.centered?" modal-dialog-centered":"")+(n.scrollable?" modal-dialog-scrollable":""))})}function Uv(e){return cs(0,[(e()(),Wi(0,0,null,null,1,"ngb-modal-window",[["role","dialog"],["tabindex","-1"]],[[8,"className",0],[1,"aria-modal",0],[1,"aria-labelledby",0]],[[null,"keyup.esc"],[null,"click"]],function(e,t,n){var r=!0;return"keyup.esc"===t&&(r=!1!==Jr(e,1).escKey(n)&&r),"click"===t&&(r=!1!==Jr(e,1).backdropClick(n)&&r),r},Bv,qv)),cl(1,4440064,null,0,lm,[_u,sn],null,null)],function(e,t){e(t,1,0)},function(e,t){e(t,0,0,"modal fade show d-block"+(Jr(t,1).windowClass?" "+Jr(t,1).windowClass:""),!0,Jr(t,1).ariaLabelledBy)})}var Hv=Lr("ngb-modal-window",lm,Uv,{ariaLabelledBy:"ariaLabelledBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass"},{dismissEvent:"dismiss"},["*"]);class zv{constructor(){}ngOnInit(){}}var Wv=Xn({encapsulation:0,styles:[[""]],data:{}});function Gv(e){return cs(0,[(e()(),Wi(0,0,null,null,1,"div",[["class","picsum-img-wrapper"]],null,null,null,null,null)),(e()(),Wi(1,0,null,null,0,"img",[["alt","Create Feature Model"],["class","d-block w-100"],["src","assets/first_screen_exp.png"]],null,null,null,null,null)),(e()(),Wi(2,0,null,null,4,"div",[["class","carousel-caption"],["style","color: black;"]],null,null,null,null,null)),(e()(),Wi(3,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),os(-1,null,["1. Create Feature Model"])),(e()(),Wi(5,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),os(-1,null,["In the first step, the business developer has to create a feature model with the business model decisions."]))],null,null)}function Kv(e){return cs(0,[(e()(),Wi(0,0,null,null,1,"div",[["class","picsum-img-wrapper"]],null,null,null,null,null)),(e()(),Wi(1,0,null,null,0,"img",[["alt","Derive Business Models"],["class","d-block w-100"],["src","assets/second_screen_exp.png"]],null,null,null,null,null)),(e()(),Wi(2,0,null,null,4,"div",[["class","carousel-caption"],["style","color: black;"]],null,null,null,null,null)),(e()(),Wi(3,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),os(-1,null,["2. Derive Business Models"])),(e()(),Wi(5,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),os(-1,null,["In the second step, the business developer can derive different business models from the feature model."]))],null,null)}function Zv(e){return cs(0,[(e()(),Wi(0,0,null,null,1,"div",[["class","picsum-img-wrapper"]],null,null,null,null,null)),(e()(),Wi(1,0,null,null,0,"img",[["alt","Check Conformance"],["class","d-block w-100"],["src","assets/third_screen_exp.png"]],null,null,null,null,null)),(e()(),Wi(2,0,null,null,4,"div",[["class","carousel-caption"],["style","color: black;"]],null,null,null,null,null)),(e()(),Wi(3,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),os(-1,null,["3. Check Conformance"])),(e()(),Wi(5,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),os(-1,null,["In the third step, the business developer can check the conformance between feature model and business model."]))],null,null)}function Qv(e){return cs(0,[(e()(),Wi(0,0,null,null,3,"div",[["class","nav-scroller bg-white shadow-sm"]],null,null,null,null,null)),(e()(),Wi(1,0,null,null,2,"nav",[["class","nav nav-underline"]],null,null,null,null,null)),(e()(),Wi(2,0,null,null,1,"a",[["class","nav-link active"],["href","#"]],null,null,null,null,null)),(e()(),os(-1,null,["Tool Explanation"])),(e()(),Wi(4,0,null,null,49,"main",[["class","container"],["role","main"]],null,null,null,null,null)),(e()(),Wi(5,0,null,null,6,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Wi(6,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),os(-1,null,["Explanation of the BMDL Modeler"])),(e()(),Wi(8,0,null,null,1,"p",[["class","mt-2"]],null,null,null,null,null)),(e()(),os(-1,null,["The BMDL Feature Modeler is a tool to describe Business Models through a combination of the Business Model Canvas (BMC) and a Software Product Line (SPL). We call this concept Business Model Decision Line (BMDL), where each feature describes a single business model decision. Features can be ordered in hierarchies and marked as mandatory or optional for the business models. Moreover, there can be Or (at least one sub-feature is selected) and Alternate (exactly one sub-feature is selected) relationships between a parent and a child feature. To refine the business models, cross-tree constraints for requiring and excluding dependencies can be made."])),(e()(),Wi(10,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),os(-1,null,["The current state of the tool allows the creation of feature models and the deriving of business models. New business model decisions of single business models are synchronized with the corresponding feature model to ensure consistency. Moreover, the conformance of business models can be checked with the feature model and occurring conformance errors are explained."])),(e()(),Wi(12,0,null,null,26,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Wi(13,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),os(-1,null,["Execution Steps"])),(e()(),Wi(15,0,null,null,8,"ngb-carousel",[["class","carousel slide"],["tabIndex","0"]],[[4,"display",null]],[[null,"keydown.arrowLeft"],[null,"keydown.arrowRight"],[null,"mouseenter"],[null,"mouseleave"]],function(e,t,n){var r=!0;return"keydown.arrowLeft"===t&&(r=!1!==(Jr(e,16).keyboard&&Jr(e,16).prev(Jr(e,16).NgbSlideEventSource.ARROW_LEFT))&&r),"keydown.arrowRight"===t&&(r=!1!==(Jr(e,16).keyboard&&Jr(e,16).next(Jr(e,16).NgbSlideEventSource.ARROW_RIGHT))&&r),"mouseenter"===t&&(r=!1!==Jr(e,16).mouseEnter()&&r),"mouseleave"===t&&(r=!1!==Jr(e,16).mouseLeave()&&r),r},Pm,Dm)),cl(16,3325952,null,1,pg,[dg,Bl,oi,Dn],null,null),Ji(603979776,1,{slides:1}),(e()(),zi(0,null,null,1,null,Gv)),cl(19,16384,[[1,4]],0,fg,[An],null,null),(e()(),zi(0,null,null,1,null,Kv)),cl(21,16384,[[1,4]],0,fg,[An],null,null),(e()(),zi(0,null,null,1,null,Zv)),cl(23,16384,[[1,4]],0,fg,[An],null,null),(e()(),Wi(24,0,null,null,1,"p",[["class","mt-2"]],null,null,null,null,null)),(e()(),os(-1,null,[" Information about the execution steps: "])),(e()(),Wi(26,0,null,null,12,"ol",[],null,null,null,null,null)),(e()(),Wi(27,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),Wi(28,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),os(-1,null,["Create Feature Model:"])),(e()(),os(-1,null,[" In the first step, the business developer has to create a feature model with all business model decisions. To support the conformance checking process, he can define mandatory and optional features and create dependencies (requires, excludes) between the features."])),(e()(),Wi(31,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),Wi(32,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),os(-1,null,["Derive Business Models:"])),(e()(),os(-1,null,[" In the second step, the business developer can derive a different business model from the feature model. Here, he can use the existing features from the feature model or add new business model decisions. These new feature model decisions will be added to the feature model to save consistency."])),(e()(),Wi(35,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),Wi(36,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),os(-1,null,["Check Conformance:"])),(e()(),os(-1,null,[" In the third step, the business developer can check the conformance between the feature model and the business model. Conformance errors will be explained to support the resolution."])),(e()(),Wi(39,0,null,null,14,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Wi(40,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),os(-1,null,["Further Information"])),(e()(),Wi(42,0,null,null,1,"p",[["class","mt-2"]],null,null,null,null,null)),(e()(),os(-1,null,[" Further information can be accessed in two ways: "])),(e()(),Wi(44,0,null,null,9,"ul",[],null,null,null,null,null)),(e()(),Wi(45,0,null,null,4,"li",[],null,null,null,null,null)),(e()(),Wi(46,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),os(-1,null,["Download Source Code: "])),(e()(),Wi(48,0,null,null,1,"a",[["href","https://github.com/SebastianGTTS/bmdl-feature-modeler"]],null,null,null,null,null)),(e()(),os(-1,null,["https://github.com/SebastianGTTS/bmdl-feature-modeler"])),(e()(),Wi(50,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),Wi(51,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),os(-1,null,["Read Research Paper:"])),(e()(),os(-1,null,[" Currently under review"]))],null,function(e,t){e(t,15,0,"block")})}function Jv(e){return cs(0,[(e()(),Wi(0,0,null,null,1,"app-tool-explanation",[],null,null,null,Qv,Wv)),cl(1,114688,null,0,zv,[],null,null)],function(e,t){e(t,1,0)},null)}var Xv=Lr("app-tool-explanation",zv,Jv,{},{},[]);class Yv{constructor(){}ngOnInit(){}}var ey=Xn({encapsulation:0,styles:[[""]],data:{}});function ty(e){return cs(0,[(e()(),Wi(0,0,null,null,3,"div",[["class","nav-scroller bg-white shadow-sm"]],null,null,null,null,null)),(e()(),Wi(1,0,null,null,2,"nav",[["class","nav nav-underline"]],null,null,null,null,null)),(e()(),Wi(2,0,null,null,1,"a",[["class","nav-link active"],["href","#"]],null,null,null,null,null)),(e()(),os(-1,null,["Import/Export Manager"])),(e()(),Wi(4,0,null,null,4,"main",[["class","container"],["role","main"]],null,null,null,null,null)),(e()(),Wi(5,0,null,null,3,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Wi(6,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),os(-1,null,["Import/Export Manager"])),(e()(),os(-1,null,[" @TODO: Add Import/Export Manager "]))],null,null)}function ny(e){return cs(0,[(e()(),Wi(0,0,null,null,1,"app-import-export-manager",[],null,null,null,ty,ey)),cl(1,114688,null,0,Yv,[],null,null)],function(e,t){e(t,1,0)},null)}var ry=Lr("app-import-export-manager",Yv,ny,{},{},[]);class ly{constructor(){this.openDependenciesEmitter=new Tl,this.updateFeatureEmitter=new Tl,this.deleteFeatureEmitter=new Tl}openDependencies(e){this.openDependenciesEmitter.emit(e)}openDependenciesForwardEmitter(e){this.openDependencies(e)}updateFeature(e){this.updateFeatureEmitter.emit(e)}updateFeatureForwardEmitter(e){this.updateFeature(e)}deleteFeature(e){this.deleteFeatureEmitter.emit(e)}deleteFeatureForwardEmitter(e){this.deleteFeature(e)}}var iy=Xn({encapsulation:0,styles:[[""]],data:{}});function sy(e){return cs(0,[(e()(),Wi(0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),Wi(1,0,null,null,0,"b",[],null,null,null,null,null))],null,null)}function oy(e){return cs(0,[(e()(),Wi(0,0,null,null,0,"i",[["class","fa fa-circle"]],null,null,null,null,null))],null,null)}function uy(e){return cs(0,[(e()(),Wi(0,0,null,null,0,"i",[["class","fa fa-circle-o"]],null,null,null,null,null))],null,null)}function ay(e){return cs(0,[(e()(),Wi(0,0,null,null,0,"i",[["class","fa fa-caret-up"]],null,null,null,null,null))],null,null)}function cy(e){return cs(0,[(e()(),Wi(0,0,null,null,0,"i",[["class","fa fa-angle-up"]],null,null,null,null,null))],null,null)}function dy(e){return cs(0,[(e()(),Wi(0,0,null,null,1,"button",[["class","btn btn-dark bottom-right-three btn-xs"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.openDependencies(e.parent.context.$implicit.id)&&r),r},null,null)),(e()(),os(-1,null,["Show Dependencies"]))],null,null)}function hy(e){return cs(0,[(e()(),Wi(0,0,null,null,1,"button",[["class","btn btn-danger btn-xs bottom-right"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.deleteFeature(e.parent.context.$implicit.id)&&r),r},null,null)),(e()(),os(-1,null,["Delete"]))],null,null)}function fy(e){return cs(0,[(e()(),Wi(0,0,null,null,19,"li",[["class","list-group-item justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),zi(16777216,null,null,1,null,sy)),cl(2,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null),(e()(),zi(16777216,null,null,1,null,oy)),cl(4,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null),(e()(),zi(16777216,null,null,1,null,uy)),cl(6,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null),(e()(),os(7,null,[" "," "])),(e()(),zi(16777216,null,null,1,null,ay)),cl(9,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null),(e()(),zi(16777216,null,null,1,null,cy)),cl(11,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null),(e()(),zi(16777216,null,null,1,null,dy)),cl(13,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null),(e()(),Wi(14,0,null,null,1,"button",[["class","btn btn-warning btn-xs bottom-right-two"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.updateFeature(e.context.$implicit.id)&&r),r},null,null)),(e()(),os(-1,null,["Update"])),(e()(),zi(16777216,null,null,1,null,hy)),cl(17,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null),(e()(),Wi(18,0,null,null,1,"app-feature-tree",[],null,[[null,"openDependenciesEmitter"],[null,"updateFeatureEmitter"],[null,"deleteFeatureEmitter"]],function(e,t,n){var r=!0,l=e.component;return"openDependenciesEmitter"===t&&(r=!1!==l.openDependenciesForwardEmitter(n)&&r),"updateFeatureEmitter"===t&&(r=!1!==l.updateFeatureForwardEmitter(n)&&r),"deleteFeatureEmitter"===t&&(r=!1!==l.deleteFeatureForwardEmitter(n)&&r),r},gy,iy)),cl(19,49152,null,0,ly,[],{features:[0,"features"]},{openDependenciesEmitter:"openDependenciesEmitter",updateFeatureEmitter:"updateFeatureEmitter",deleteFeatureEmitter:"deleteFeatureEmitter"})],function(e,t){e(t,2,0,0!=t.context.$implicit.feature),e(t,4,0,t.context.$implicit.isMandatory),e(t,6,0,!t.context.$implicit.isMandatory),e(t,9,0,t.context.$implicit.hasOrSubfeatures),e(t,11,0,t.context.$implicit.hasXOrSubfeatures),e(t,13,0,0!=t.context.$implicit.requiringDependencyTo.length||0!=t.context.$implicit.requiringDependencyFrom.length||0!=t.context.$implicit.excludingDependency.length),e(t,17,0,t.context.$implicit.isDeletable),e(t,19,0,t.context.$implicit.features)},function(e,t){e(t,7,0,t.context.$implicit.name)})}function py(e){return cs(0,[(e()(),Wi(0,0,null,null,2,"ul",[["class","list-group inner"],["style","margin:5px;"]],null,null,null,null,null)),(e()(),zi(16777216,null,null,1,null,fy)),cl(2,278528,null,0,fu,[Pn,An,Sn],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.component.features)},null)}function gy(e){return cs(0,[(e()(),zi(16777216,null,null,1,null,py)),cl(1,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,1,0,t.component.features)},null)}class my{constructor(e,t,n,r,l){this.fb=e,this.route=t,this.location=n,this.pouchDBServer=r,this.modalService=l,this.featureList=[]}ngOnInit(){this.featureModelId=this.route.snapshot.paramMap.get("id"),this.loadFeatureModel(this.featureModelId),this.loadForms()}openDependenciesModal(e){this.pouchDBServer.getFeatureWithParent(this.featureModelId,e).then(e=>{this.modalFeature=e,this.modalReference=this.modalService.open(this.dependencyModal,{size:"lg"})},e=>{console.log("OpenDependencyModal: "+e)})}updateFeatureModal(e){this.pouchDBServer.getFeatureWithParent(this.featureModelId,e).then(e=>{this.modalFeature=e,this.modalSubfeatureIds=this.pouchDBServer.listSubfeatureIdsHelper(this.modalFeature.features),this.modalFeatureForm=this.fb.group({name:[this.modalFeature.name,Lf.required],isMandatory:this.modalFeature.isMandatory,hasOrSubfeatures:this.modalFeature.hasOrSubfeatures,hasXOrSubfeatures:this.modalFeature.hasXOrSubfeatures,subfeatureOf:this.modalFeature.parentId}),this.modalReference=this.modalService.open(this.updateModal,{size:"lg"})},e=>{console.log("UpdateFeatureModal: "+e)})}deleteFeatureModal(e){this.pouchDBServer.getFeatureWithParent(this.featureModelId,e).then(e=>{this.modalFeature=e,this.modalReference=this.modalService.open(this.deleteModal,{size:"lg"})},e=>{console.log("DeleteFeatureModal: "+e)})}closeModal(){this.modalReference.close(),this.modalFeature=null,this.loadForms(),this.loadFeatureModel(this.featureModelId)}deleteDependency(e,t,n){this.pouchDBServer.deleteDependency(this.featureModelId,e,t,n).then(e=>{this.pouchDBServer.getFeatureWithParent(this.featureModelId,this.modalFeature.id).then(e=>{this.modalFeature=e,this.loadFeatureModel(this.featureModelId)},e=>{console.log("DeleteDependency (new load): "+e)})},e=>{console.log("DeleteDependency: "+e)})}updateFeature(){this.pouchDBServer.updateFeature(this.featureModelId,this.modalFeature.id,this.modalFeatureForm.value.name,this.modalFeatureForm.value.isMandatory,this.modalFeatureForm.value.hasOrSubfeatures,this.modalFeatureForm.value.hasXOrSubfeatures,this.modalFeatureForm.value.subfeatureOf).then(e=>{this.closeModal()},e=>{console.log("UpdateFeature: "+e)})}deleteFeature(e){this.pouchDBServer.deleteFeature(this.featureModelId,e).then(e=>{this.closeModal()},e=>{console.log("DeleteFeature: "+e)})}loadForms(){this.featureModelForm=this.fb.group({name:["",Lf.required],description:[""]}),this.featureForm=this.fb.group({featureName:["",Lf.required],isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,subfeatureOf:["1"]}),this.dependencyForm=this.fb.group({dependencyType:"requiringDependencyTo",fromFeatureId:["1"],toFeatureId:["2"]})}loadFeatureModel(e){this.pouchDBServer.getFeatureModel(this.featureModelId).then(e=>{this.featureModel=e,this.featureModelForm.patchValue({name:this.featureModel.name,description:this.featureModel.description}),this.featureList=this.getFeaturesAsList()},e=>{console.log("LoadFeatureModel: "+e)})}insertFeature(){this.pouchDBServer.addFeature(this.featureModelId,this.featureForm.value.featureName,this.featureForm.value.isMandatory,this.featureForm.value.hasOrSubfeatures,this.featureForm.value.hasXOrSubfeatures,this.featureForm.value.subfeatureOf).then(e=>{this.loadForms(),this.loadFeatureModel(this.featureModelId)},e=>{console.log("InsertFeature: "+e)})}insertDependency(){this.pouchDBServer.addDependency(this.featureModelId,this.dependencyForm.value.dependencyType,this.dependencyForm.value.fromFeatureId,this.dependencyForm.value.toFeatureId).then(e=>{this.loadForms(),this.loadFeatureModel(this.featureModelId)},e=>{console.log("InsertDependency: "+e)})}updateFeatureModel(){this.pouchDBServer.updateFeatureModel(this.featureModel._id,this.featureModelForm.value.name,this.featureModelForm.value.description).then(e=>{},e=>{console.log("UpdateFeatureModel: "+e)})}deleteFeatureModel(){this.pouchDBServer.deleteFeatureModel(this.featureModel._id).then(e=>{this.location.back()},e=>{console.log("DeleteFeatureModel: "+e)})}getFeaturesAsList(){for(var e=[],t=[],n=0;n<this.featureModel.features.length;n++)(l=this.featureModel.features[this.featureModel.features.length-1-n]).level=1,t.push(l);for(;t.length>0;){var r=t.pop();if(e.push({id:r.id,name:r.name,levelname:"-".repeat(r.level)+" "+r.name,level:r.level}),r.features)for(n=0;n<r.features.length;n++){var l;(l=r.features[r.features.length-1-n]).level=r.level+1,t.push(l)}}return e}}var vy,yy,by=n("3j3K"),_y=n.n(by),wy=n("yBqk"),Cy=n.n(wy),ky=n("aaBP"),xy=n.n(ky),Sy=n("byjP"),Ey=n.n(Sy),Dy=n("3Y9A"),Iy=n.n(Dy),My=n("fVBe"),Oy=n.n(My),Fy=n("+qE3");function Ay(e){return"$"+e}function Ty(e){return e.substring(1)}function Py(){this._store={}}function Ny(e){if(this._store=new Py,e&&Array.isArray(e))for(var t=0,n=e.length;t<n;t++)this.add(e[t])}Py.prototype.get=function(e){var t=Ay(e);return this._store[t]},Py.prototype.set=function(e,t){var n=Ay(e);return this._store[n]=t,!0},Py.prototype.has=function(e){return Ay(e)in this._store},Py.prototype.delete=function(e){var t=Ay(e),n=t in this._store;return delete this._store[t],n},Py.prototype.forEach=function(e){for(var t=Object.keys(this._store),n=0,r=t.length;n<r;n++){var l=t[n];e(this._store[l],l=Ty(l))}},Object.defineProperty(Py.prototype,"size",{get:function(){return Object.keys(this._store).length}}),Ny.prototype.add=function(e){return this._store.set(e,!0)},Ny.prototype.has=function(e){return this._store.has(e)},Ny.prototype.forEach=function(e){this._store.forEach(function(t,n){e(n)})},Object.defineProperty(Ny.prototype,"size",{get:function(){return this._store.size}}),function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(vy=Set,yy=Map):(vy=Ny,yy=Py);var Ry=Function.prototype.toString,jy=Ry.call(Object);function $y(e){var t,n,r;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],n=0,r=e.length;n<r;n++)t[n]=$y(e[n]);return t}if(e instanceof Date)return e.toISOString();if(function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}(e))return function(e){if(e instanceof ArrayBuffer)return function(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),r=new Uint8Array(e);return n.set(r),t}(e);var t=e.size,n=e.type;return"function"==typeof e.slice?e.slice(0,t,n):e.webkitSlice(0,t,n)}(e);if(!function(t){var n=Object.getPrototypeOf(e);if(null===n)return!0;var r=n.constructor;return"function"==typeof r&&r instanceof r&&Ry.call(r)==jy}())return e;for(n in t={},e)if(Object.prototype.hasOwnProperty.call(e,n)){var l=$y(e[n]);void 0!==l&&(t[n]=l)}return t}function Vy(e){var t=!1;return Iy()(function(n){if(t)throw new Error("once called more than once");t=!0,e.apply(this,n)})}function Ly(e){return Iy()(function(t){t=$y(t);var n=this,r="function"==typeof t[t.length-1]&&t.pop(),l=new Promise(function(r,l){var i;try{var s=Vy(function(e,t){e?l(e):r(t)});t.push(s),(i=e.apply(n,t))&&"function"==typeof i.then&&r(i)}catch(o){l(o)}});return r&&l.then(function(e){r(null,e)},r),l})}function qy(e,t){return Ly(Iy()(function(n){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var r=this;return function(e,t,n){if(e.constructor.listeners("debug").length){for(var r=["api",e.name,t],l=0;l<n.length-1;l++)r.push(n[l]);e.constructor.emit("debug",r);var i=n[n.length-1];n[n.length-1]=function(n,r){var l=["api",e.name,t];l=l.concat(n?["error",n]:["success",r]),e.constructor.emit("debug",l),i(n,r)}}}(r,e,n),this.taskqueue.isReady?t.apply(this,n):new Promise(function(t,l){r.taskqueue.addTask(function(i){i?l(i):t(r[e].apply(r,n))})})}))}function By(e,t){for(var n={},r=0,l=t.length;r<l;r++){var i=t[r];i in e&&(n[i]=e[i])}return n}var Uy,Hy=6;function zy(e){return e}function Wy(e){return[{ok:e}]}function Gy(e,t,n){var r=t.docs,l=new yy;r.forEach(function(e){l.has(e.id)?l.get(e.id).push(e):l.set(e.id,[e])});var i=l.size,s=0,o=new Array(i),u=[];l.forEach(function(e,t){u.push(t)});var a=0;!function r(){if(!(a>=u.length)){var c=Math.min(a+Hy,u.length),d=u.slice(a,c);!function(u,a){u.forEach(function(u,c){var d=a+c,h=l.get(u),f=By(h[0],["atts_since","attachments"]);f.open_revs=h.map(function(e){return e.rev}),f.open_revs=f.open_revs.filter(zy);var p=zy;0===f.open_revs.length&&(delete f.open_revs,p=Wy),["revs","attachments","binary","ajax","latest"].forEach(function(e){e in t&&(f[e]=t[e])}),e.get(u,f,function(e,t){var l,a;l=e?[{error:e}]:p(t),o[d]={id:u,docs:l},++s===i&&(a=[],o.forEach(function(e){e.docs.forEach(function(t){a.push({id:e.id,docs:[t]})})}),n(null,{results:a})),r()})})}(d,a),a+=d.length}}()}try{localStorage.setItem("_pouch_check_localstorage",1),Uy=!!localStorage.getItem("_pouch_check_localstorage")}catch(qS){Uy=!1}function Ky(){return Uy}function Zy(){Fy.EventEmitter.call(this),this._listeners={},function(e){Ky()&&addEventListener("storage",function(t){e.emit(t.key)})}(this)}function Qy(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function Jy(e){var t=0;return e||(t=2e3),function(e,t){return e=parseInt(e,10)||0,(t=parseInt(t,10))!=t||t<=e?t=(e||1)<<1:t+=1,t>6e5&&(e=3e5,t=6e5),~~((t-e)*Math.random()+e)}(e,t)}function Xy(e,t){Qy("info","The above "+e+" is totally normal. "+t)}Oy()(Zy,Fy.EventEmitter),Zy.prototype.addListener=function(e,t,n,r){if(!this._listeners[t]){var l=this,i=!1;this._listeners[t]=s,this.on(e,s)}function s(){if(l._listeners[t])if(i)i="waiting";else{i=!0;var e=By(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);n.changes(e).on("change",function(e){e.seq>r.since&&!r.cancelled&&(r.since=e.seq,r.onChange(e))}).on("complete",function(){"waiting"===i&&_y()(s),i=!1}).on("error",function(){i=!1})}}},Zy.prototype.removeListener=function(e,t){t in this._listeners&&(Fy.EventEmitter.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},Zy.prototype.notifyLocalWindows=function(e){Ky()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},Zy.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var Yy="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l])}return t};function eb(e,t,n){Error.call(this,n),this.status=e,this.name=t,this.message=n,this.error=!0}Oy()(eb,Error),eb.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})},new eb(401,"unauthorized","Name or password is incorrect.");var tb=new eb(400,"bad_request","Missing JSON list of 'docs'"),nb=new eb(404,"not_found","missing"),rb=new eb(409,"conflict","Document update conflict"),lb=new eb(400,"bad_request","_id field must contain a string"),ib=new eb(412,"missing_id","_id is required for puts"),sb=new eb(400,"bad_request","Only reserved document ids may start with underscore."),ob=(new eb(412,"precondition_failed","Database not open"),new eb(500,"unknown_error","Database encountered an unknown error")),ub=new eb(500,"badarg","Some query argument is invalid"),ab=(new eb(400,"invalid_request","Request was invalid"),new eb(400,"query_parse_error","Some query parameter is invalid")),cb=new eb(500,"doc_validation","Bad special document member"),db=new eb(400,"bad_request","Something wrong with the request"),hb=new eb(400,"bad_request","Document must be a JSON object"),fb=(new eb(404,"not_found","Database not found"),new eb(500,"indexed_db_went_bad","unknown")),pb=(new eb(500,"web_sql_went_bad","unknown"),new eb(500,"levelDB_went_went_bad","unknown"),new eb(403,"forbidden","Forbidden by design doc validate_doc_update function"),new eb(400,"bad_request","Invalid rev format")),gb=(new eb(412,"file_exists","The database could not be created, the file already exists."),new eb(412,"missing_stub","A pre-existing attachment stub wasn't found"));function mb(e,t){function n(t){for(var n in e)"function"!=typeof e[n]&&(this[n]=e[n]);void 0!==t&&(this.reason=t)}return n.prototype=eb.prototype,new n(t)}function vb(e){if("object"!=typeof e){var t=e;(e=ob).data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),e}function yb(e){var t={},n=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(r){r.doc||(r.doc={});var l=n&&function(e,t,n){try{return!e(t,n)}catch(l){var r="Filter function threw: "+l.toString();return mb(db,r)}}(e.filter,r.doc,t);if("object"==typeof l)return l;if(l)return!1;if(e.include_docs){if(!e.attachments)for(var i in r.doc._attachments)r.doc._attachments.hasOwnProperty(i)&&(r.doc._attachments[i].stub=!0)}else delete r.doc;return!0}}function bb(e){for(var t=[],n=0,r=e.length;n<r;n++)t=t.concat(e[n]);return t}function _b(e){var t;if(e?"string"!=typeof e?t=mb(lb):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=mb(sb)):t=mb(ib),t)throw t}function wb(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(Qy("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function Cb(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function kb(e){var t=Cb(e);return t?t.join("/"):null}new eb(413,"invalid_url","Provided URL is invalid");var xb=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Sb="queryKey",Eb=/(?:^|&)([^&=]*)=?([^&]*)/g,Db=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function Ib(e){for(var t=Db.exec(e),n={},r=14;r--;){var l=xb[r],i=t[r]||"",s=-1!==["user","password"].indexOf(l);n[l]=s?decodeURIComponent(i):i}return n[Sb]={},n[xb[12]].replace(Eb,function(e,t,r){t&&(n[Sb][t]=r)}),n}function Mb(e,t){var n=[],r=[];for(var l in t)t.hasOwnProperty(l)&&(n.push(l),r.push(t[l]));return n.push(e),Function.apply(null,n).apply(null,r)}function Ob(e,t,n){return new Promise(function(r,l){e.get(t,function(i,s){if(i){if(404!==i.status)return l(i);s={}}var o=s._rev,u=n(s);if(!u)return r({updated:!1,rev:o});u._id=t,u._rev=o,r(function(e,t,n){return e.put(t).then(function(e){return{updated:!0,rev:e.rev}},function(r){if(409!==r.status)throw r;return Ob(e,t._id,n)})}(e,u,n))})})}var Fb=function(e){return atob(e)},Ab=function(e){return btoa(e)};function Tb(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(qS){if("TypeError"!==qS.name)throw qS;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}function Pb(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),l=0;l<t;l++)r[l]=e.charCodeAt(l);return n}function Nb(e,t){return Tb([Pb(e)],{type:t})}function Rb(e,t){return Nb(Fb(e),t)}function jb(e,t){var n=new FileReader,r="function"==typeof n.readAsBinaryString;n.onloadend=function(e){var n=e.target.result||"";if(r)return t(n);t(function(e){for(var t="",r=new Uint8Array(n),l=r.byteLength,i=0;i<l;i++)t+=String.fromCharCode(r[i]);return t}())},r?n.readAsBinaryString(e):n.readAsArrayBuffer(e)}function $b(e,t){jb(e,function(e){t(e)})}function Vb(e,t){$b(e,function(e){t(Ab(e))})}var Lb=global.setImmediate||global.setTimeout,qb=32768;function Bb(e,t,n,r,l){(n>0||r<t.size)&&(t=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.slice(t,n)}(t,n,r)),function(e,t){var n=new FileReader;n.onloadend=function(e){var n=e.target.result||new ArrayBuffer(0);t(n)},n.readAsArrayBuffer(e)}(t,function(t){e.append(t),l()})}function Ub(e,t,n,r,l){(n>0||r<t.length)&&(t=t.substring(n,r)),e.appendBinary(t),l()}function Hb(e,t){var n="string"==typeof e,r=n?e.length:e.size,l=Math.min(qb,r),i=Math.ceil(r/l),s=0,o=n?new xy.a:new xy.a.ArrayBuffer,u=n?Ub:Bb;function a(){Lb(d)}function c(){var e=function(e){return Ab(e)}(o.end(!0));t(e),o.destroy()}function d(){var t=s*l;u(o,e,t,t+l,++s<i?a:c)}d()}function zb(e){return xy.a.hash(e)}function Wb(e,t){var n=$y(e);return t?(delete n._rev_tree,zb(JSON.stringify(n))):Cy.a.v4().replace(/-/g,"").toLowerCase()}var Gb=Cy.a.v4;function Kb(e){for(var t,n,r,l,i=e.rev_tree.slice();l=i.pop();){var s=l.ids,o=s[2],u=l.pos;if(o.length)for(var a=0,c=o.length;a<c;a++)i.push({pos:u+1,ids:o[a]});else{var d=!!s[1].deleted,h=s[0];t&&!(r!==d?r:n!==u?n<u:t<h)||(t=h,n=u,r=d)}}return n+"-"+t}function Zb(e,t){for(var n,r=e.slice();n=r.pop();)for(var l=n.pos,i=n.ids,s=i[2],o=t(0===s.length,l,i[0],n.ctx,i[1]),u=0,a=s.length;u<a;u++)r.push({pos:l+1,ids:s[u],ctx:o})}function Qb(e,t){return e.pos-t.pos}function Jb(e){var t=[];Zb(e,function(e,n,r,l,i){e&&t.push({rev:n+"-"+r,pos:n,opts:i})}),t.sort(Qb).reverse();for(var n=0,r=t.length;n<r;n++)delete t[n].pos;return t}function Xb(e){for(var t=Kb(e),n=Jb(e.rev_tree),r=[],l=0,i=n.length;l<i;l++){var s=n[l];s.rev===t||s.opts.deleted||r.push(s.rev)}return r}function Yb(e){for(var t,n=[],r=e.slice();t=r.pop();){var l=t.pos,i=t.ids,s=i[0],o=i[1],u=i[2],a=0===u.length,c=t.history?t.history.slice():[];c.push({id:s,opts:o}),a&&n.push({pos:l+1-c.length,ids:c});for(var d=0,h=u.length;d<h;d++)r.push({pos:l+1,ids:u[d],history:c})}return n.reverse()}function e_(e,t){return e.pos-t.pos}function t_(e,t,n){var r=function(e,t,n){for(var r,l=0,i=e.length;l<i;)n(e[r=l+i>>>1],t)<0?l=r+1:i=r;return l}(e,t,n);e.splice(r,0,t)}function n_(e,t){for(var n,r,l=t,i=e.length;l<i;l++){var s=e[l],o=[s.id,s.opts,[]];r?(r[2].push(o),r=o):n=r=o}return n}function r_(e,t){return e[0]<t[0]?-1:1}function l_(e,t){for(var n=[{tree1:e,tree2:t}],r=!1;n.length>0;){var l=n.pop(),i=l.tree1,s=l.tree2;(i[1].status||s[1].status)&&(i[1].status="available"===i[1].status||"available"===s[1].status?"available":"missing");for(var o=0;o<s[2].length;o++)if(i[2][0]){for(var u=!1,a=0;a<i[2].length;a++)i[2][a][0]===s[2][o][0]&&(n.push({tree1:i[2][a],tree2:s[2][o]}),u=!0);u||(r="new_branch",t_(i[2],s[2][o],r_))}else r="new_leaf",i[2][0]=s[2][o]}return{conflicts:r,tree:e}}function i_(e,t,n){var r,l=[],i=!1,s=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var o=0,u=e.length;o<u;o++){var a=e[o];if(a.pos===t.pos&&a.ids[0]===t.ids[0])r=l_(a.ids,t.ids),l.push({pos:a.pos,ids:r.tree}),i=i||r.conflicts,s=!0;else if(!0!==n){var c=a.pos<t.pos?a:t,d=a.pos<t.pos?t:a,h=[],f=[];for(f.push({ids:c.ids,diff:d.pos-c.pos,parent:null,parentIdx:null});f.length>0;){var p=f.pop();if(0!==p.diff)for(var g=p.ids[2],m=0,v=g.length;m<v;m++)f.push({ids:g[m],diff:p.diff-1,parent:p.ids,parentIdx:m});else p.ids[0]===d.ids[0]&&h.push(p)}var y=h[0];y?(r=l_(y.ids,d.ids),y.parent[2][y.parentIdx]=r.tree,l.push({pos:c.pos,ids:c.ids}),i=i||r.conflicts,s=!0):l.push(a)}else l.push(a)}return s||l.push(t),l.sort(e_),{tree:l,conflicts:i||"internal_node"}}function s_(e,t,n){var r=i_(e,t),l=function(e,t){for(var n,l,i=Yb(r.tree),s=0,o=i.length;s<o;s++){var u,a=i[s],c=a.ids;if(c.length>t){n||(n={});var d=c.length-t;u={pos:a.pos+d,ids:n_(c,d)};for(var h=0;h<d;h++)n[a.pos+h+"-"+c[h].id]=!0}else u={pos:a.pos,ids:n_(c,0)};l=l?i_(l,u,!0).tree:[u]}return n&&Zb(l,function(e,t,r){delete n[t+"-"+r]}),{tree:l,revs:n?Object.keys(n):[]}}(0,n);return{tree:l.tree,stemmedRevs:l.revs,conflicts:r.conflicts}}function o_(e){return e.ids}function u_(e,t){t||(t=Kb(e));for(var n,r=t.substring(t.indexOf("-")+1),l=e.rev_tree.map(o_);n=l.pop();){if(n[0]===r)return!!n[1].deleted;l=l.concat(n[2])}}function a_(e){return/^_local/.test(e)}function c_(e,t,n){Fy.EventEmitter.call(this);var r=this;this.db=e;var l=(t=t?$y(t):{}).complete=Vy(function(t,n){var l;t?("listenerCount"in(l=r)?l.listenerCount("error"):Fy.EventEmitter.listenerCount(l,"error"))>0&&r.emit("error",t):r.emit("complete",n),r.removeAllListeners(),e.removeListener("destroyed",i)});function i(){r.cancel()}n&&(r.on("complete",function(e){n(null,e)}),r.on("error",n)),e.once("destroyed",i),t.onChange=function(e,t,n){r.isCancelled||function(e,t,n,r){try{e.emit("change",t,n,r)}catch(qS){Qy("error",'Error in .on("change", function):',qS)}}(r,e,t,n)};var s=new Promise(function(e,n){t.complete=function(t,r){t?n(t):e(r)}});r.once("cancel",function(){e.removeListener("destroyed",i),t.complete(null,{status:"cancelled"})}),this.then=s.then.bind(s),this.catch=s.catch.bind(s),this.then(function(e){l(null,e)},l),e.taskqueue.isReady?r.validateChanges(t):e.taskqueue.addTask(function(e){e?t.complete(e):r.isCancelled?r.emit("cancel"):r.validateChanges(t)})}function d_(e,t,n){var r=[{rev:e._rev}];"all_docs"===n.style&&(r=Jb(t.rev_tree).map(function(e){return{rev:e.rev}}));var l={id:t.id,changes:r,doc:e};return u_(t,e._rev)&&(l.deleted=!0),n.conflicts&&(l.doc._conflicts=Xb(t),l.doc._conflicts.length||delete l.doc._conflicts),l}function h_(e,t){return e<t?-1:e>t?1:0}function f_(e,t){return function(n,r){n||r[0]&&r[0].error?((n=n||r[0]).docId=t,e(n)):e(null,r.length?r[0]:r)}}function p_(e,t){var n=h_(e._id,t._id);return 0!==n?n:h_(e._revisions?e._revisions.start:0,t._revisions?t._revisions.start:0)}function g_(){for(var e in Fy.EventEmitter.call(this),g_.prototype)"function"==typeof this[e]&&(this[e]=this[e].bind(this))}function m_(){this.isReady=!1,this.failed=!1,this.queue=[]}function v_(e,t){if(!(this instanceof v_))return new v_(e,t);var n=this;if(t=t||{},e&&"object"==typeof e&&(e=(t=e).name,delete t.name),void 0===t.deterministic_revs&&(t.deterministic_revs=!0),this.__opts=t=$y(t),n.auto_compaction=t.auto_compaction,n.prefix=v_.prefix,"string"!=typeof e)throw new Error("Missing/invalid DB name");var r=function(e,t){var n=e.match(/([a-z-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var r=v_.adapters,l=v_.preferredAdapters,i=v_.prefix,s=t.adapter;if(!s)for(var o=0;o<l.length&&"idb"===(s=l[o])&&"websql"in r&&Ky()&&localStorage["_pouch__websqldb_"+i+e];++o)Qy("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');var u=r[s];return{name:u&&"use_prefix"in u&&!u.use_prefix?e:i+e,adapter:s}}((t.prefix||"")+e,t);if(t.name=r.name,t.adapter=t.adapter||r.adapter,n.name=e,n._adapter=t.adapter,v_.emit("debug",["adapter","Picked adapter: ",t.adapter]),!v_.adapters[t.adapter]||!v_.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);g_.call(n),n.taskqueue=new m_,n.adapter=t.adapter,v_.adapters[t.adapter].call(n,t,function(e){if(e)return n.taskqueue.fail(e);!function(e){function t(t){e.removeListener("closed",n),t||e.constructor.emit("destroyed",e.name)}function n(){e.removeListener("destroyed",t),e.constructor.emit("unref",e)}e.once("destroyed",t),e.once("closed",n),e.constructor.emit("ref",e)}(n),n.emit("created",n),v_.emit("created",n.name),n.taskqueue.ready(n)})}Oy()(c_,Fy.EventEmitter),c_.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},c_.prototype.validateChanges=function(e){var t=e.complete,n=this;v_._changesFilterPlugin?v_._changesFilterPlugin.validate(e,function(r){if(r)return t(r);n.doChanges(e)}):n.doChanges(e)},c_.prototype.doChanges=function(e){var t=this,n=e.complete;if("live"in(e=$y(e))&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=d_,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"!==e.since){if(v_._changesFilterPlugin){if(v_._changesFilterPlugin.normalize(e),v_._changesFilterPlugin.shouldFilter(this,e))return v_._changesFilterPlugin.filter(this,e)}else["doc_ids","filter","selector","view"].forEach(function(t){t in e&&Qy("warn",'The "'+t+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=n;var r=this.db._changes(e);if(r&&"function"==typeof r.cancel){var l=t.cancel;t.cancel=Iy()(function(e){r.cancel(),l.apply(this,e)})}}else this.db.info().then(function(r){t.isCancelled?n(null,{status:"cancelled"}):(e.since=r.update_seq,t.doChanges(e))},n)},Oy()(g_,Fy.EventEmitter),g_.prototype.post=qy("post",function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(mb(hb));this.bulkDocs({docs:[e]},t,f_(n,e._id))}),g_.prototype.put=qy("put",function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(mb(hb));if(_b(e._id),a_(e._id)&&"function"==typeof this._putLocal)return e._deleted?this._removeLocal(e,n):this._putLocal(e,n);var r,l,i,s,o=this;function u(n){"function"==typeof o._put&&!1!==t.new_edits?o._put(e,t,n):o.bulkDocs({docs:[e]},t,f_(n,e._id))}t.force&&e._rev?(l=(r=e._rev.split("-"))[1],i=parseInt(r[0],10)+1,s=Wb(),e._revisions={start:i,ids:[s,l]},e._rev=i+"-"+s,t.new_edits=!1,u(function(t){n(t,t?null:{ok:!0,id:e._id,rev:e._rev})})):u(n)}),g_.prototype.putAttachment=qy("putAttachment",function(e,t,n,r,l){var i=this;function s(e){var n="_rev"in e?parseInt(e._rev,10):0;return e._attachments=e._attachments||{},e._attachments[t]={content_type:l,data:r,revpos:++n},i.put(e)}return"function"==typeof l&&(l=r,r=n,n=null),void 0===l&&(l=r,r=n,n=null),l||Qy("warn","Attachment",t,"on document",e,"is missing content_type"),i.get(e).then(function(e){if(e._rev!==n)throw mb(rb);return s(e)},function(t){if(t.reason===nb.message)return s({_id:e});throw t})}),g_.prototype.removeAttachment=qy("removeAttachment",function(e,t,n,r){var l=this;l.get(e,function(e,i){if(e)r(e);else if(i._rev===n){if(!i._attachments)return r();delete i._attachments[t],0===Object.keys(i._attachments).length&&delete i._attachments,l.put(i,r)}else r(mb(rb))})}),g_.prototype.remove=qy("remove",function(e,t,n,r){var l;"string"==typeof t?(l={_id:e,_rev:t},"function"==typeof n&&(r=n,n={})):(l=e,"function"==typeof t?(r=t,n={}):(r=n,n=t)),(n=n||{}).was_delete=!0;var i={_id:l._id,_rev:l._rev||n.rev,_deleted:!0};if(a_(i._id)&&"function"==typeof this._removeLocal)return this._removeLocal(l,r);this.bulkDocs({docs:[i]},n,f_(r,i._id))}),g_.prototype.revsDiff=qy("revsDiff",function(e,t,n){"function"==typeof t&&(n=t,t={});var r=Object.keys(e);if(!r.length)return n(null,{});var l=0,i=new yy;function s(e,t){i.has(e)||i.set(e,{missing:[]}),i.get(e).missing.push(t)}r.map(function(t){this._getRevisionTree(t,function(o,u){if(o&&404===o.status&&"missing"===o.message)i.set(t,{missing:e[t]});else{if(o)return n(o);!function(t,n){var r=e[t].slice(0);Zb(n,function(e,n,l,i,o){var u=n+"-"+l,a=r.indexOf(u);-1!==a&&(r.splice(a,1),"available"!==o.status&&s(t,u))}),r.forEach(function(e){s(t,e)})}(t,u)}if(++l===r.length){var a={};return i.forEach(function(e,t){a[t]=e}),n(null,a)}})},this)}),g_.prototype.bulkGet=qy("bulkGet",function(e,t){Gy(this,e,t)}),g_.prototype.compactDocument=qy("compactDocument",function(e,t,n){var r=this;this._getRevisionTree(e,function(l,i){if(l)return n(l);var s=function(e){var t={},n=[];return Zb(i,function(e,r,l,i){var s=r+"-"+l;return e&&(t[s]=0),void 0!==i&&n.push({from:i,to:s}),s}),n.reverse(),n.forEach(function(e){t[e.from]=void 0===t[e.from]?1+t[e.to]:Math.min(t[e.from],1+t[e.to])}),t}(),o=[],u=[];Object.keys(s).forEach(function(e){s[e]>t&&o.push(e)}),Zb(i,function(e,t,n,r,l){var i=t+"-"+n;"available"===l.status&&-1!==o.indexOf(i)&&u.push(i)}),r._doCompaction(e,u,n)})}),g_.prototype.compact=qy("compact",function(e,t){"function"==typeof e&&(t=e,e={}),e=e||{},this._compactionQueue=this._compactionQueue||[],this._compactionQueue.push({opts:e,callback:t}),1===this._compactionQueue.length&&function e(t){var n=t._compactionQueue[0],r=n.opts,l=n.callback;t.get("_local/compaction").catch(function(){return!1}).then(function(n){n&&n.last_seq&&(r.last_seq=n.last_seq),t._compact(r,function(n,r){n?l(n):l(null,r),_y()(function(){t._compactionQueue.shift(),t._compactionQueue.length&&e(t)})})})}(this)}),g_.prototype._compact=function(e,t){var n=this,r=[];n.changes({return_docs:!1,last_seq:e.last_seq||0}).on("change",function(e){r.push(n.compactDocument(e.id,0))}).on("complete",function(e){var l=e.last_seq;Promise.all(r).then(function(){return Ob(n,"_local/compaction",function(e){return(!e.last_seq||e.last_seq<l)&&(e.last_seq=l,e)})}).then(function(){t(null,{ok:!0})}).catch(t)}).on("error",t)},g_.prototype.get=qy("get",function(e,t,n){if("function"==typeof t&&(n=t,t={}),"string"!=typeof e)return n(mb(lb));if(a_(e)&&"function"==typeof this._getLocal)return this._getLocal(e,n);var r=[],l=this;function i(){var i=[],s=r.length;if(!s)return n(null,i);r.forEach(function(r){l.get(e,{rev:r,revs:t.revs,latest:t.latest,attachments:t.attachments,binary:t.binary},function(e,t){if(e)i.push({missing:r});else{for(var l,o=0,u=i.length;o<u;o++)if(i[o].ok&&i[o].ok._rev===t._rev){l=!0;break}l||i.push({ok:t})}--s||n(null,i)})})}if(!t.open_revs)return this._get(e,t,function(r,i){if(r)return r.docId=e,n(r);var s=i.doc,o=i.metadata,u=i.ctx;if(t.conflicts){var a=Xb(o);a.length&&(s._conflicts=a)}if(u_(o,s._rev)&&(s._deleted=!0),t.revs||t.revs_info){for(var c=s._rev.split("-"),d=parseInt(c[0],10),h=c[1],f=Yb(o.rev_tree),p=null,g=0;g<f.length;g++){var m=f[g],v=m.ids.map(function(e){return e.id}).indexOf(h);(v===d-1||!p&&-1!==v)&&(p=m)}if(!p)return(r=new Error("invalid rev tree")).docId=e,n(r);var y=p.ids.map(function(e){return e.id}).indexOf(s._rev.split("-")[1])+1;if(p.ids.splice(y,p.ids.length-y),p.ids.reverse(),t.revs&&(s._revisions={start:p.pos+p.ids.length-1,ids:p.ids.map(function(e){return e.id})}),t.revs_info){var b=p.pos+p.ids.length;s._revs_info=p.ids.map(function(e){return{rev:--b+"-"+e.id,status:e.opts.status}})}}if(t.attachments&&s._attachments){var _=s._attachments,w=Object.keys(_).length;if(0===w)return n(null,s);Object.keys(_).forEach(function(e){this._getAttachment(s._id,e,_[e],{rev:s._rev,binary:t.binary,ctx:u},function(t,r){var l=s._attachments[e];l.data=r,delete l.stub,delete l.length,--w||n(null,s)})},l)}else{if(s._attachments)for(var C in s._attachments)s._attachments.hasOwnProperty(C)&&(s._attachments[C].stub=!0);n(null,s)}});if("all"===t.open_revs)this._getRevisionTree(e,function(e,t){if(e)return n(e);r=Jb(t).map(function(e){return e.rev}),i()});else{if(!Array.isArray(t.open_revs))return n(mb(ob,"function_clause"));r=t.open_revs;for(var s=0;s<r.length;s++){var o=r[s];if("string"!=typeof o||!/^\d+-/.test(o))return n(mb(pb))}i()}}),g_.prototype.getAttachment=qy("getAttachment",function(e,t,n,r){var l=this;n instanceof Function&&(r=n,n={}),this._get(e,n,function(i,s){return i?r(i):s.doc._attachments&&s.doc._attachments[t]?(n.ctx=s.ctx,n.binary=!0,void l._getAttachment(e,t,s.doc._attachments[t],n,r)):r(mb(nb))})}),g_.prototype.allDocs=qy("allDocs",function(e,t){if("function"==typeof e&&(t=e,e={}),e.skip=void 0!==e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter(function(t){return t in e})[0];if(n)return void t(mb(ab,"Query parameter `"+n+"` is not compatible with multi-get"));if(!wb(this)&&(function(e){var t="limit"in e?e.keys.slice(e.skip,e.limit+e.skip):e.skip>0?e.keys.slice(e.skip):e.keys;e.keys=t,e.skip=0,delete e.limit,e.descending&&(t.reverse(),e.descending=!1)}(e),0===e.keys.length))return this._allDocs({limit:0},t)}return this._allDocs(e,t)}),g_.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),(e=e||{}).return_docs="return_docs"in e?e.return_docs:!e.live,new c_(this,e,t)},g_.prototype.close=qy("close",function(e){return this._closed=!0,this.emit("closed"),this._close(e)}),g_.prototype.info=qy("info",function(e){var t=this;this._info(function(n,r){if(n)return e(n);r.db_name=r.db_name||t.name,r.auto_compaction=!(!t.auto_compaction||wb(t)),r.adapter=t.adapter,e(null,r)})}),g_.prototype.id=qy("id",function(e){return this._id(e)}),g_.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},g_.prototype.bulkDocs=qy("bulkDocs",function(e,t,n){if("function"==typeof t&&(n=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return n(mb(tb));for(var r=0;r<e.docs.length;++r)if("object"!=typeof e.docs[r]||Array.isArray(e.docs[r]))return n(mb(hb));var l;if(e.docs.forEach(function(e){e._attachments&&Object.keys(e._attachments).forEach(function(t){l=l||function(e){return"_"===e.charAt(0)&&e+" is not a valid attachment name, attachment names cannot start with '_'"}(t),e._attachments[t].content_type||Qy("warn","Attachment",t,"on document",e._id,"is missing content_type")})}),l)return n(mb(db,l));"new_edits"in t||(t.new_edits=!("new_edits"in e)||e.new_edits);var i=this;t.new_edits||wb(i)||e.docs.sort(p_),function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n._deleted)delete n._attachments;else if(n._attachments)for(var r=Object.keys(n._attachments),l=0;l<r.length;l++){var i=r[l];n._attachments[i]=By(n._attachments[i],["data","digest","content_type","length","revpos","stub"])}}}(e.docs);var s=e.docs.map(function(e){return e._id});return this._bulkDocs(e,t,function(e,r){if(e)return n(e);if(t.new_edits||(r=r.filter(function(e){return e.error})),!wb(i))for(var l=0,o=r.length;l<o;l++)r[l].id=r[l].id||s[l];n(null,r)})}),g_.prototype.registerDependentDatabase=qy("registerDependentDatabase",function(e,t){var n=new this.constructor(e,this.__opts);Ob(this,"_local/_pouch_dependentDbs",function(t){return t.dependentDbs=t.dependentDbs||{},!t.dependentDbs[e]&&(t.dependentDbs[e]=!0,t)}).then(function(){t(null,{db:n})}).catch(t)}),g_.prototype.destroy=qy("destroy",function(e,t){"function"==typeof e&&(t=e,e={});var n=this,r=!("use_prefix"in n)||n.use_prefix;function l(){n._destroy(e,function(e,r){if(e)return t(e);n._destroyed=!0,n.emit("destroyed"),t(null,r||{ok:!0})})}if(wb(n))return l();n.get("_local/_pouch_dependentDbs",function(e,i){if(e)return 404!==e.status?t(e):l();var s=n.constructor,o=Object.keys(i.dependentDbs).map(function(e){var t=r?e.replace(new RegExp("^"+s.prefix),""):e;return new s(t,n.__opts).destroy()});Promise.all(o).then(l,t)})}),m_.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},m_.prototype.fail=function(e){this.failed=e,this.execute()},m_.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},m_.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()},Oy()(v_,g_);var y_="undefined"!=typeof AbortController?AbortController:function(){return{abort:function(){}}},b_=fetch,__=Headers;v_.adapters={},v_.preferredAdapters=[],v_.prefix="_pouch_";var w_=new Fy.EventEmitter;function C_(e,t){for(var n=e,r=0,l=t.length;r<l&&(n=n[t[r]]);r++);return n}function k_(e){for(var t=[],n="",r=0,l=e.length;r<l;r++){var i=e[r];"."===i?r>0&&"\\"===e[r-1]?n=n.substring(0,n.length-1)+".":(t.push(n),n=""):n+=i}return t.push(n),t}!function(e){Object.keys(Fy.EventEmitter.prototype).forEach(function(t){"function"==typeof Fy.EventEmitter.prototype[t]&&(e[t]=w_[t].bind(w_))});var t=e._destructionListeners=new yy;e.on("ref",function(e){t.has(e.name)||t.set(e.name,[]),t.get(e.name).push(e)}),e.on("unref",function(e){if(t.has(e.name)){var n=t.get(e.name),r=n.indexOf(e);r<0||(n.splice(r,1),n.length>1?t.set(e.name,n):t.delete(e.name))}}),e.on("destroyed",function(e){if(t.has(e)){var n=t.get(e);t.delete(e),n.forEach(function(e){e.emit("destroyed",!0)})}})}(v_),v_.adapter=function(e,t,n){t.valid()&&(v_.adapters[e]=t,n&&v_.preferredAdapters.push(e))},v_.plugin=function(e){if("function"==typeof e)e(v_);else{if("object"!=typeof e||0===Object.keys(e).length)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach(function(t){v_.prototype[t]=e[t]})}return this.__defaults&&(v_.__defaults=Yy({},this.__defaults)),v_},v_.defaults=function(e){function t(e,n){if(!(this instanceof t))return new t(e,n);n=n||{},e&&"object"==typeof e&&(e=(n=e).name,delete n.name),n=Yy({},t.__defaults,n),v_.call(this,e,n)}return Oy()(t,v_),t.preferredAdapters=v_.preferredAdapters.slice(),Object.keys(v_).forEach(function(e){e in t||(t[e]=v_[e])}),t.__defaults=Yy({},this.__defaults,e),t},v_.fetch=function(e,t){return b_(e,t)};var x_=["$or","$nor","$not"];function S_(e){return x_.indexOf(e)>-1}function E_(e){return Object.keys(e)[0]}function D_(e){var t={};return e.forEach(function(e){Object.keys(e).forEach(function(n){var r=e[n];if("object"!=typeof r&&(r={$eq:r}),S_(n))t[n]=r instanceof Array?r.map(function(e){return D_([e])}):D_([r]);else{var l=t[n]=t[n]||{};Object.keys(r).forEach(function(e){var t=r[e];return"$gt"===e||"$gte"===e?function(e,t,n){void 0===n.$eq&&(void 0!==n.$gte?"$gte"===e?t>n.$gte&&(n.$gte=t):t>=n.$gte&&(delete n.$gte,n.$gt=t):void 0!==n.$gt?"$gte"===e?t>n.$gt&&(delete n.$gt,n.$gte=t):t>n.$gt&&(n.$gt=t):n[e]=t)}(e,t,l):"$lt"===e||"$lte"===e?function(e,t,n){void 0===n.$eq&&(void 0!==n.$lte?"$lte"===e?t<n.$lte&&(n.$lte=t):t<=n.$lte&&(delete n.$lte,n.$lt=t):void 0!==n.$lt?"$lte"===e?t<n.$lt&&(delete n.$lt,n.$lte=t):t<n.$lt&&(n.$lt=t):n[e]=t)}(e,t,l):"$ne"===e?function(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}(t,l):"$eq"===e?function(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}(t,l):void(l[e]=t)})}})}),t}function I_(e){var t=$y(e),n=!1;(function e(t,n){for(var r in t){"$and"===r&&(n=!0);var l=t[r];"object"==typeof l&&(n=e(l,n))}return n})(t,!1)&&("$and"in(t=function e(t){for(var n in t){if(Array.isArray(t))for(var r in t)t[r].$and&&(t[r]=D_(t[r].$and));var l=t[n];"object"==typeof l&&e(l)}return t}(t))&&(t=D_(t.$and)),n=!0),["$or","$nor"].forEach(function(e){e in t&&t[e].forEach(function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var r=t[n],l=e[r];"object"==typeof l&&null!==l||(e[r]={$eq:l})}})}),"$not"in t&&(t.$not=D_([t.$not]));for(var r=Object.keys(t),l=0;l<r.length;l++){var i=r[l],s=t[i];"object"!=typeof s||null===s?s={$eq:s}:"$ne"in s&&!n&&(s.$ne=[s.$ne]),t[i]=s}return t}var M_=-324,O_=3,F_="";function A_(e,t){if(e===t)return 0;e=T_(e),t=T_(t);var n=j_(e),r=j_(t);if(n-r!=0)return n-r;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return function(e,t){return e===t?0:e>t?1:-1}(e,t)}return Array.isArray(e)?function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var l=A_(e[r],t[r]);if(0!==l)return l}return e.length===t.length?0:e.length>t.length?1:-1}(e,t):function(e,t){for(var n=Object.keys(e),r=Object.keys(t),l=Math.min(n.length,r.length),i=0;i<l;i++){var s=A_(n[i],r[i]);if(0!==s)return s;if(0!==(s=A_(e[n[i]],t[r[i]])))return s}return n.length===r.length?0:n.length>r.length?1:-1}(e,t)}function T_(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var n=e.length;e=new Array(n);for(var r=0;r<n;r++)e[r]=T_(t[r])}else{if(e instanceof Date)return e.toJSON();if(null!==e)for(var l in e={},t)if(t.hasOwnProperty(l)){var i=t[l];void 0!==i&&(e[l]=T_(i))}}}return e}function P_(e){return j_(e=T_(e))+F_+function(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return function(e){if(0===e)return"1";var t,n=e.toExponential().split(/e\+?/),r=parseInt(n[1],10),l=e<0,i=l?"0":"2",s=function(e,t,n){for(var r="",l=O_-e.length;r.length<l;)r+="0";return r}(t=((l?-r:r)-M_).toString())+t;i+=F_+s;var o=Math.abs(parseFloat(n[0]));l&&(o=10-o);var u=o.toFixed(20);return u=u.replace(/\.?0+$/,""),i+(F_+u)}(e);case"string":return e.replace(/\u0002/g,"\x02\x02").replace(/\u0001/g,"\x01\x02").replace(/\u0000/g,"\x01\x01");case"object":var t=Array.isArray(e),n=t?e:Object.keys(e),r=-1,l=n.length,i="";if(t)for(;++r<l;)i+=P_(n[r]);else for(;++r<l;){var s=n[r];i+=P_(s)+P_(e[s])}return i}return""}(e)+"\0"}function N_(e,t){var n,r=t;if("1"===e[t])n=0,t++;else{var l="0"===e[t],i="",s=e.substring(++t,t+O_),o=parseInt(s,10)+M_;for(l&&(o=-o),t+=O_;;){var u=e[t];if("\0"===u)break;i+=u,t++}n=1===(i=i.split(".")).length?parseInt(i,10):parseFloat(i[0]+"."+i[1]),l&&(n-=10),0!==o&&(n=parseFloat(n+"e"+o))}return{num:n,length:t-r}}function R_(e,t){var n=e.pop();if(t.length){var r=t[t.length-1];n===r.element&&(t.pop(),r=t[t.length-1]);var l=r.element,i=r.index;Array.isArray(l)?l.push(n):i===e.length-2?l[e.pop()]=n:e.push(n)}}function j_(e){var t=["boolean","number","string","object"].indexOf(typeof e);return~t?null===e?1:Array.isArray(e)?5:t<3?t+2:t+3:Array.isArray(e)?5:void 0}function $_(e,t,n){return n.every(function(n){var r=t[n],l=k_(n),i=C_(e,l);return S_(n)?function(e,t,n){return"$or"===e?t.some(function(e){return $_(n,e,Object.keys(e))}):"$not"===e?!$_(n,t,Object.keys(t)):!t.find(function(e){return $_(n,e,Object.keys(e))})}(n,r,e):V_(r,e,l,i)})}function V_(e,t,n,r){return!e||("object"==typeof e?Object.keys(e).every(function(l){return function(e,t,n,r,l){if(!U_[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return U_[e](t,n,r,l)}(l,t,e[l],n,r)}):e===r)}function L_(e){return null!=e}function q_(e){return void 0!==e}function B_(e,t){return t.some(function(t){return e instanceof Array?e.indexOf(t)>-1:e===t})}var U_={$elemMatch:function(e,t,n,r){return!!Array.isArray(r)&&0!==r.length&&r.some("object"==typeof r[0]?function(e){return $_(e,t,Object.keys(t))}:function(r){return V_(t,e,n,r)})},$allMatch:function(e,t,n,r){return!!Array.isArray(r)&&0!==r.length&&r.every("object"==typeof r[0]?function(e){return $_(e,t,Object.keys(t))}:function(r){return V_(t,e,n,r)})},$eq:function(e,t,n,r){return q_(r)&&0===A_(r,t)},$gte:function(e,t,n,r){return q_(r)&&A_(r,t)>=0},$gt:function(e,t,n,r){return q_(r)&&A_(r,t)>0},$lte:function(e,t,n,r){return q_(r)&&A_(r,t)<=0},$lt:function(e,t,n,r){return q_(r)&&A_(r,t)<0},$exists:function(e,t,n,r){return t?q_(r):!q_(r)},$mod:function(e,t,n,r){return L_(r)&&function(e,t){var n=t[0],r=t[1];if(0===n)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(n,10)!==n)throw new Error("Divisor is not an integer");if(parseInt(r,10)!==r)throw new Error("Modulus is not an integer");return parseInt(e,10)===e&&e%n===r}(r,t)},$ne:function(e,t,n,r){return t.every(function(e){return 0!==A_(r,e)})},$in:function(e,t,n,r){return L_(r)&&B_(r,t)},$nin:function(e,t,n,r){return L_(r)&&!B_(r,t)},$size:function(e,t,n,r){return L_(r)&&function(e,t){return e.length===t}(r,t)},$all:function(e,t,n,r){return Array.isArray(r)&&function(e,t){return t.every(function(t){return e.indexOf(t)>-1})}(r,t)},$regex:function(e,t,n,r){return L_(r)&&function(e,t){return new RegExp(t).test(e)}(r,t)},$type:function(e,t,n,r){return function(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}throw new Error(t+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}(r,t)}};function H_(e,t){if(e.selector&&e.filter&&"_selector"!==e.filter)return t(new Error('selector invalid for filter "'+("string"==typeof e.filter?e.filter:"function")+'"'));t()}function z_(e){e.view&&!e.filter&&(e.filter="_view"),e.selector&&!e.filter&&(e.filter="_selector"),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=kb(e.view):e.filter=kb(e.filter))}function W_(e,t){return t.filter&&"string"==typeof t.filter&&!t.doc_ids&&!wb(e.db)}function G_(e,t){var n=t.complete;if("_view"===t.filter){if(!t.view||"string"!=typeof t.view){var r=mb(db,"`view` filter parameter not found or invalid.");return n(r)}var l=Cb(t.view);e.db.get("_design/"+l[0],function(r,i){if(e.isCancelled)return n(null,{status:"cancelled"});if(r)return n(vb(r));var s=i&&i.views&&i.views[l[1]]&&i.views[l[1]].map;if(!s)return n(mb(nb,i.views?"missing json key: "+l[1]:"missing json key: views"));t.filter=Mb(["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+s+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),{}),e.doChanges(t)})}else if(t.selector)t.filter=function(e){return function(e,t){if("object"!=typeof t)throw new Error("Selector error: expected a JSON object");var n=function(e,t,n){if(e=e.filter(function(e){return $_(e.doc,t.selector,n)}),t.sort){var r=function(e){function t(t){return e.map(function(e){var n=k_(E_(e));return C_(t,n)})}return function(e,n){var r,l,i=A_(t(e.doc),t(n.doc));return 0!==i?i:(r=e.doc._id)<(l=n.doc._id)?-1:r>l?1:0}}(t.sort);e=e.sort(r),"string"!=typeof t.sort[0]&&"desc"===(l=t.sort[0])[E_(l)]&&(e=e.reverse())}var l;if("limit"in t||"skip"in t){var i=t.skip||0;e=e.slice(i,("limit"in t?t.limit:e.length)+i)}return e}([{doc:e}],{selector:t=I_(t)},Object.keys(t));return n&&1===n.length}(e,t.selector)},e.doChanges(t);else{var i=Cb(t.filter);e.db.get("_design/"+i[0],function(r,l){if(e.isCancelled)return n(null,{status:"cancelled"});if(r)return n(vb(r));var s=l&&l.filters&&l.filters[i[1]];if(!s)return n(mb(nb,l&&l.filters?"missing json key: "+i[1]:"missing json key: filters"));t.filter=Mb('"use strict";\nreturn '+s+";",{}),e.doChanges(t)})}}function K_(e){return e.reduce(function(e,t){return e[t]=!0,e},{})}v_.plugin(function(e){e._changesFilterPlugin={validate:H_,normalize:z_,shouldFilter:W_,filter:G_}}),v_.version="7.1.1";var Z_=K_(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),Q_=K_(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function J_(e){if(!/^\d+-./.test(e))return mb(pb);var t=e.indexOf("-"),n=e.substring(0,t),r=e.substring(t+1);return{prefix:parseInt(n,10),id:r}}function X_(e,t,n){var r,l,i;n||(n={deterministic_revs:!0});var s={status:"available"};if(e._deleted&&(s.deleted=!0),t)if(e._id||(e._id=Gb()),l=Wb(e,n.deterministic_revs),e._rev){if((i=J_(e._rev)).error)return i;e._rev_tree=[{pos:i.prefix,ids:[i.id,{status:"missing"},[[l,s,[]]]]}],r=i.prefix+1}else e._rev_tree=[{pos:1,ids:[l,s,[]]}],r=1;else if(e._revisions&&(e._rev_tree=function(e,t){for(var n=e.start-e.ids.length+1,r=e.ids,l=[r[0],t,[]],i=1,s=r.length;i<s;i++)l=[r[i],{status:"missing"},[l]];return[{pos:n,ids:l}]}(e._revisions,s),r=e._revisions.start,l=e._revisions.ids[0]),!e._rev_tree){if((i=J_(e._rev)).error)return i;e._rev_tree=[{pos:r=i.prefix,ids:[l=i.id,s,[]]}]}_b(e._id),e._rev=r+"-"+l;var o={metadata:{},data:{}};for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var a="_"===u[0];if(a&&!Z_[u]){var c=mb(cb,u);throw c.message=cb.message+": "+u,c}a&&!Q_[u]?o.metadata[u.slice(1)]=e[u]:o.data[u]=e[u]}return o}function Y_(e,t,n){if(e.stub)return n();"string"==typeof e.data?function(e,t,n){var r=function(e){try{return Fb(e)}catch(qS){return{error:mb(ub,"Attachment is not a valid base64 string")}}}(e.data);if(r.error)return n(r.error);e.length=r.length,e.data="blob"===t?Nb(r,e.content_type):"base64"===t?Ab(r):r,Hb(r,function(t){e.digest="md5-"+t,n()})}(e,t,n):function(e,t,n){Hb(e.data,function(r){e.digest="md5-"+r,e.length=e.data.size||e.data.length||0,"binary"===t?$b(e.data,function(t){e.data=t,n()}):"base64"===t?Vb(e.data,function(t){e.data=t,n()}):n()})}(e,t,n)}var ew=5,tw="document-store",nw="by-sequence",rw="attach-store",lw="attach-seq-store",iw="meta-store",sw="local-store",ow="detect-blob-support";function uw(e){try{return JSON.stringify(e)}catch(qS){return Ey.a.stringify(e)}}function aw(e){return function(t){var n="unknown_error";t.target&&t.target.error&&(n=t.target.error.name||t.target.error.message),e(mb(fb,n))}}function cw(e,t,n){return{data:uw(e),winningRev:t,deletedOrLocal:n?"1":"0",seq:e.seq,id:e.id}}function dw(e){if(!e)return null;var t=function(e){try{return JSON.parse(e)}catch(qS){return Ey.a.parse(e)}}(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function hw(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function fw(e,t,n,r){n?r(e?"string"!=typeof e?e:Rb(e,t):Tb([""],{type:t})):e?"string"!=typeof e?jb(e,function(e){r(Ab(e))}):r(e):r("")}function pw(e,t,n,r){var l=Object.keys(e._attachments||{});if(!l.length)return r&&r();var i=0;function s(){++i===l.length&&r&&r()}l.forEach(function(r){t.attachments&&t.include_docs?function(e,t){var r=e._attachments[t],l=r.digest;n.objectStore(rw).get(l).onsuccess=function(e){r.body=e.target.result.body,s()}}(e,r):(e._attachments[r].stub=!0,s())})}function gw(e,t){return Promise.all(e.map(function(e){if(e.doc&&e.doc._attachments){var n=Object.keys(e.doc._attachments);return Promise.all(n.map(function(n){var r=e.doc._attachments[n];if("body"in r){var l=r.body,i=r.content_type;return new Promise(function(s){fw(l,i,t,function(t){e.doc._attachments[n]=Yy(By(r,["digest","content_type"]),{data:t}),s()})})}}))}}))}function mw(e,t,n){var r=[],l=n.objectStore(nw),i=n.objectStore(rw),s=n.objectStore(lw),o=e.length;function u(){--o||r.length&&r.forEach(function(e){s.index("digestSeq").count(IDBKeyRange.bound(e+"::",e+"::\uffff",!1,!1)).onsuccess=function(t){t.target.result||i.delete(e)}})}e.forEach(function(e){l.index("_doc_id_rev").getKey(t+"::"+e).onsuccess=function(e){var t=e.target.result;if("number"!=typeof t)return u();l.delete(t),s.index("seq").openCursor(IDBKeyRange.only(t)).onsuccess=function(e){var t=e.target.result;if(t){var n=t.value.digestSeq.split("::")[0];r.push(n),s.delete(t.primaryKey),t.continue()}else u()}}})}function vw(e,t,n){try{return{txn:e.transaction(t,n)}}catch(r){return{error:r}}}var yw=new Zy;function bw(e,t,n,r,l){var i,s,o;function u(e){s=e.target.result,i&&l(i,s,o)}function a(e){i=e.target.result,s&&l(i,s,o)}function c(e){var t=e.target.result;if(!t)return l();l([t.key],[t.value],t)}-1===r&&(r=1e3),"function"==typeof e.getAll&&"function"==typeof e.getAllKeys&&r>1&&!n?(o={continue:function(){if(!i.length)return l();var n,o=i[i.length-1];if(t&&t.upper)try{n=IDBKeyRange.bound(o,t.upper,!0,t.upperOpen)}catch(qS){if("DataError"===qS.name&&0===qS.code)return l()}else n=IDBKeyRange.lowerBound(o,!0);i=null,s=null,e.getAll(t=n,r).onsuccess=u,e.getAllKeys(t,r).onsuccess=a}},e.getAll(t,r).onsuccess=u,e.getAllKeys(t,r).onsuccess=a):n?e.openCursor(t,"prev").onsuccess=c:e.openCursor(t).onsuccess=c}var _w=!1,ww=[];function Cw(){!_w&&ww.length&&(_w=!0,ww.shift()())}var kw,xw=new yy,Sw=new yy;function Ew(e,t){var n=this;!function(t,r,l){ww.push(function(){!function(e,t,n){var r=t.name,l=null;function i(e,t){var n=e.objectStore(tw);n.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),n.openCursor().onsuccess=function(e){var r=e.target.result;if(r){var l=r.value,i=u_(l);l.deletedOrLocal=i?"1":"0",n.put(l),r.continue()}else t()}}function s(e,t){var n=e.objectStore(sw),r=e.objectStore(tw),l=e.objectStore(nw);r.openCursor().onsuccess=function(e){var i=e.target.result;if(i){var s=i.value,o=s.id,u=a_(o),a=Kb(s);if(u){var c=o+"::"+a,d=o+"::",h=o+"::~",f=l.index("_doc_id_rev"),p=IDBKeyRange.bound(d,h,!1,!1),g=f.openCursor(p);g.onsuccess=function(e){if(g=e.target.result){var t=g.value;t._doc_id_rev===c&&n.put(t),l.delete(g.primaryKey),g.continue()}else r.delete(i.primaryKey),i.continue()}}else i.continue()}else t&&t()}}function o(e,t){var n=e.objectStore(nw),r=e.objectStore(rw),l=e.objectStore(lw);r.count().onsuccess=function(e){if(!e.target.result)return t();n.openCursor().onsuccess=function(e){var n=e.target.result;if(!n)return t();for(var r=n.value,i=n.primaryKey,s=Object.keys(r._attachments||{}),o={},u=0;u<s.length;u++){o[r._attachments[s[u]].digest]=!0}var a=Object.keys(o);for(u=0;u<a.length;u++){l.put({seq:i,digestSeq:a[u]+"::"+i})}n.continue()}}}function u(e){var t=e.objectStore(nw),n=e.objectStore(tw);n.openCursor().onsuccess=function(e){var r,l=e.target.result;if(l){var i=(r=l.value).data?dw(r):(r.deleted="1"===r.deletedOrLocal,r);if(i.winningRev=i.winningRev||Kb(i),i.seq)return s();!function(){var e=i.id+"::",n=i.id+"::\uffff",r=t.index("_doc_id_rev").openCursor(IDBKeyRange.bound(e,n)),l=0;r.onsuccess=function(e){var t=e.target.result;if(!t)return i.seq=l,s();var n=t.primaryKey;n>l&&(l=n),t.continue()}}()}function s(){var e=cw(i,i.winningRev,i.deleted);n.put(e).onsuccess=function(){l.continue()}}}}e._meta=null,e._remote=!1,e.type=function(){return"idb"},e._id=Ly(function(t){t(null,e._meta.instanceId)}),e._bulkDocs=function(n,r,i){!function(e,t,n,r,l,i){for(var s,o,u,a,c,d,h,f,p=t.docs,g=0,m=p.length;g<m;g++){var v=p[g];v._id&&a_(v._id)||(v=p[g]=X_(v,n.new_edits,e)).error&&!h&&(h=v)}if(h)return i(h);var y=!1,b=0,_=new Array(p.length),w=new yy,C=!1;function k(){y=!0,x()}function x(){f&&y&&(f.docCount+=b,d.put(f))}function S(){C||(yw.notify(r._meta.name),i(null,_))}function E(e,t,n,r,l,i,s,o){e.metadata.winningRev=t,e.metadata.deleted=n;var u=e.data;if(u._id=e.metadata.id,u._rev=e.metadata.rev,r&&(u._deleted=!0),u._attachments&&Object.keys(u._attachments).length)return function(e,t,n,r,l,i){var s=0,o=Object.keys(e.data._attachments);function u(){s===o.length&&D(e,t,n,r,l,i)}function c(){s++,u()}o.forEach(function(n){var r=e.data._attachments[n];if(r.stub)s++,u();else{var l=r.data;delete r.data,r.revpos=parseInt(t,10),function(e,t,n){a.count(e).onsuccess=function(r){if(r.target.result)return n();a.put({digest:e,body:t}).onsuccess=n}}(r.digest,l,c)}})}(e,t,n,l,s,o);b+=i,x(),D(e,t,n,l,s,o)}function D(e,t,n,l,i,a){var d=e.data,h=e.metadata;function f(i){var u,a=e.stemmedRevs||[];l&&r.auto_compaction&&(a=a.concat((u=[],Zb(e.metadata.rev_tree,function(e,t,n,r,l){"available"!==l.status||e||(u.push(t+"-"+n),l.status="missing")}),u))),a&&a.length&&mw(a,e.metadata.id,s),h.seq=i.target.result;var c=cw(h,t,n);o.put(c).onsuccess=p}function p(){_[i]={ok:!0,id:h.id,rev:h.rev},w.set(e.metadata.id,e.metadata),function(e,t,n){var r=0,l=Object.keys(e.data._attachments||{});if(!l.length)return n();function i(){++r===l.length&&n()}function s(n){var r=c.put({seq:t,digestSeq:e.data._attachments[n].digest+"::"+t});r.onsuccess=i,r.onerror=function(e){e.preventDefault(),e.stopPropagation(),i()}}for(var o=0;o<l.length;o++)s(l[o])}(e,h.seq,a)}d._doc_id_rev=h.id+"::"+h.rev,delete d._id,delete d._rev;var g=u.put(d);g.onsuccess=f,g.onerror=function(e){e.preventDefault(),e.stopPropagation(),u.index("_doc_id_rev").getKey(d._doc_id_rev).onsuccess=function(e){u.put(d,e.target.result).onsuccess=f}}}!function(e,t,n){if(!e.length)return n();var r,l=0;function i(){e.length===++l&&(r?n(r):n())}e.forEach(function(e){var n=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],l=0;if(!n.length)return i();function s(e){r=e,++l===n.length&&i()}for(var o in e.data._attachments)e.data._attachments.hasOwnProperty(o)&&Y_(e.data._attachments[o],t,s)})}(p,r._meta.blobSupport?"blob":"base64",function(t){if(t)return i(t);!function(){var t=vw(l,[tw,nw,rw,sw,lw,iw],"readwrite");if(t.error)return i(t.error);(s=t.txn).onabort=aw(i),s.ontimeout=aw(i),s.oncomplete=S,o=s.objectStore(tw),u=s.objectStore(nw),a=s.objectStore(rw),c=s.objectStore(lw),(d=s.objectStore(iw)).get(iw).onsuccess=function(e){f=e.target.result,x()},function(e){var t=[];if(p.forEach(function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach(function(n){var r=e.data._attachments[n];r.stub&&t.push(r.digest)})}),!t.length)return e();var n,r=0;t.forEach(function(l){!function(e,t){a.get(e).onsuccess=function(n){if(n.target.result)t();else{var r=mb(gb,"unknown stub attachment with digest "+e);r.status=412,t(r)}}}(l,function(l){l&&!n&&(n=l),++r===t.length&&e(n)})})}(function(t){if(t)return C=!0,i(t);!function(){if(p.length)for(var t=0,l=0,i=p.length;l<i;l++){var u=p[l];u._id&&a_(u._id)?a():o.get(u.metadata.id).onsuccess=c}function a(){++t===p.length&&function(e,t,n,r,l,i,s,o,u){e=e||1e3;var a=o.new_edits,c=new yy,d=0,h=t.length;function f(){++d===h&&u&&u()}t.forEach(function(e,t){if(e._id&&a_(e._id))n[e._deleted?"_removeLocal":"_putLocal"](e,{ctx:l},function(e,n){i[t]=e||n,f()});else{var r=e.metadata.id;c.has(r)?(h--,c.get(r).push([e,t])):c.set(r,[[e,t]])}}),c.forEach(function(t,n){var l=0;function u(){++l<t.length?c():f()}function c(){var c=t[l],d=c[0],h=c[1];if(r.has(n))!function(e,t,n,r,l,i,s,o){if(function(e,n){for(var r,l=t.rev_tree.slice(),i=n.split("-"),s=parseInt(i[0],10),o=i[1];r=l.pop();){if(r.pos===s&&r.ids[0]===o)return!0;for(var u=r.ids[2],a=0,c=u.length;a<c;a++)l.push({pos:r.pos+1,ids:u[a]})}return!1}(0,n.metadata.rev)&&!o)return r[l]=n,i();var u=t.winningRev||Kb(t),a="deleted"in t?t.deleted:u_(t,u),c="deleted"in n.metadata?n.metadata.deleted:u_(n.metadata),d=/^1-/.test(n.metadata.rev);if(a&&!c&&o&&d){var h=n.data;h._rev=u,h._id=n.metadata.id,n=X_(h,o)}var f=s_(t.rev_tree,n.metadata.rev_tree[0],e);if(o&&(a&&c&&"new_leaf"!==f.conflicts||!a&&"new_leaf"!==f.conflicts||a&&!c&&"new_branch"===f.conflicts)){var p=mb(rb);return r[l]=p,i()}var g=n.metadata.rev;n.metadata.rev_tree=f.tree,n.stemmedRevs=f.stemmedRevs||[],t.rev_map&&(n.metadata.rev_map=t.rev_map);var m=Kb(n.metadata),v=u_(n.metadata,m),y=a===v?0:a<v?-1:1;s(n,m,v,g===m?v:u_(n.metadata,g),!0,y,l,i)}(e,r.get(n),d,i,h,u,s,a);else{var f=s_([],d.metadata.rev_tree[0],e);d.metadata.rev_tree=f.tree,d.stemmedRevs=f.stemmedRevs||[],function(e,t,n){var r=Kb(e.metadata),l=u_(e.metadata,r);if("was_delete"in o&&l)return i[t]=mb(nb,"deleted"),n();if(a&&function(e){return"missing"===e.metadata.rev_tree[0].ids[1].status}(e)){var u=mb(rb);return i[t]=u,n()}s(e,r,l,l,!1,l?0:1,t,n)}(d,h,u)}}c()})}(e.revs_limit,p,r,w,s,_,E,n,k)}function c(e){var t=dw(e.target.result);t&&w.set(t.id,t),a()}}()})}()})}(t,n,r,e,l,i)},e._get=function(e,t,n){var r,i,s,o=t.ctx;if(!o){var u=vw(l,[tw,nw,rw],"readonly");if(u.error)return n(u.error);o=u.txn}function a(){n(s,{doc:r,metadata:i,ctx:o})}o.objectStore(tw).get(e).onsuccess=function(e){if(!(i=dw(e.target.result)))return s=mb(nb,"missing"),a();var n;if(t.rev)n=t.latest?function(e,t){for(var n,r=t.rev_tree.slice();n=r.pop();){var l=n.pos,i=n.ids,s=i[0],o=i[1],u=i[2],a=0===u.length,c=n.history?n.history.slice():[];if(c.push({id:s,pos:l,opts:o}),a)for(var d=0,h=c.length;d<h;d++){var f=c[d];if(f.pos+"-"+f.id===e)return l+"-"+s}for(var p=0,g=u.length;p<g;p++)r.push({pos:l+1,ids:u[p],history:c})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}(t.rev,i):t.rev;else if(n=i.winningRev,u_(i))return s=mb(nb,"deleted"),a();var l=o.objectStore(nw),u=i.id+"::"+n;l.index("_doc_id_rev").get(u).onsuccess=function(e){if((r=e.target.result)&&(r=hw(r)),!r)return s=mb(nb,"missing"),a();a()}}},e._getAttachment=function(e,t,n,r,i){var s;if(r.ctx)s=r.ctx;else{var o=vw(l,[tw,nw,rw],"readonly");if(o.error)return i(o.error);s=o.txn}var u=n.digest,a=n.content_type;s.objectStore(rw).get(u).onsuccess=function(e){fw(e.target.result.body,a,r.binary,function(e){i(null,e)})}},e._info=function(t){var n,r,i=vw(l,[iw,nw],"readonly");if(i.error)return t(i.error);var s=i.txn;s.objectStore(iw).get(iw).onsuccess=function(e){r=e.target.result.docCount},s.objectStore(nw).openCursor(null,"prev").onsuccess=function(e){var t=e.target.result;n=t?t.key:0},s.oncomplete=function(){t(null,{doc_count:r,update_seq:n,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(e,t){!function(e,t,n){var r,l,i="keys"in e&&e.keys,s=e.skip||0,o="number"==typeof e.limit?e.limit:-1;if(!i&&(l=(r=function(e,t,n,r,l){try{if(e&&t)return l?IDBKeyRange.bound(t,e,!n,!1):IDBKeyRange.bound(e,t,!1,!n);if(e)return l?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return l?IDBKeyRange.lowerBound(t,!n):IDBKeyRange.upperBound(t,!n);if(r)return IDBKeyRange.only(r)}catch(qS){return{error:qS}}return null}("startkey"in e&&e.startkey,"endkey"in e&&e.endkey,!1!==e.inclusive_end,"key"in e&&e.key,e.descending))&&r.error)&&("DataError"!==l.name||0!==l.code))return n(mb(fb,l.name));var u=[tw,nw,iw];e.attachments&&u.push(rw);var a=vw(t,u,"readonly");if(a.error)return n(a.error);var c=a.txn;c.oncomplete=function(){e.attachments?gw(y,e.binary).then(C):C()},c.onabort=aw(n);var d,h,f,p=c.objectStore(tw),g=c.objectStore(nw),m=c.objectStore(iw),v=g.index("_doc_id_rev"),y=[];function b(t,n){var r={id:n.id,key:n.id,value:{rev:t}};n.deleted?i&&(y.push(r),r.value.deleted=!0,r.doc=null):s--<=0&&(y.push(r),e.include_docs&&function(t,n,r){v.get(t.id+"::"+r).onsuccess=function(r){if(n.doc=hw(r.target.result)||{},e.conflicts){var l=Xb(t);l.length&&(n.doc._conflicts=l)}pw(n.doc,e,c)}}(n,r,t))}function _(e){for(var t=0,n=e.length;t<n&&y.length!==o;t++){var r=e[t];if(r.error&&i)y.push(r);else{var l=dw(r);b(l.winningRev,l)}}}function w(e,t,n){n&&(_(t),y.length<o&&n.continue())}function C(){var t={total_rows:d,offset:e.skip,rows:y};e.update_seq&&void 0!==h&&(t.update_seq=h),n(null,t)}m.get(iw).onsuccess=function(e){d=e.target.result.docCount},e.update_seq&&(f=function(e){e.target.result&&e.target.result.length>0&&(h=e.target.result[0])},g.openCursor(null,"prev").onsuccess=function(e){var t=e.target.result,n=void 0;return t&&t.key&&(n=t.key),f({target:{result:[n]}})}),l||0===o||(i?function(e,t,n){var r=new Array(e.length),l=0;e.forEach(function(i,s){t.get(i).onsuccess=function(t){r[s]=t.target.result?t.target.result:{key:i,error:"not_found"},++l===e.length&&n(e,r,{})}})}(e.keys,p,w):-1===o?function(e,t,n){if("function"!=typeof e.getAll){var r=[];e.openCursor(t).onsuccess=function(e){var t=e.target.result;t?(r.push(t.value),t.continue()):n({target:{result:r}})}}else e.getAll(t).onsuccess=n}(p,r,function(t){var n=t.target.result;e.descending&&(n=n.reverse()),_(n)}):bw(p,r,e.descending,o+s,w))}(e,l,t)},e._changes=function(t){return function(e,t,n,r){if((e=$y(e)).continuous){var l=n+":"+Gb();return yw.addListener(n,l,t,e),yw.notify(n),{cancel:function(){yw.removeListener(n,l)}}}var i=e.doc_ids&&new vy(e.doc_ids);e.since=e.since||0;var s=e.since,o="limit"in e?e.limit:-1;0===o&&(o=1);var u,a,c,d,h=[],f=0,p=yb(e),g=new yy;function m(e,t,n,r){return n.seq!==t?r():n.winningRev===e._rev?r(n,e):void(d.get(e._id+"::"+n.winningRev).onsuccess=function(e){r(n,hw(e.target.result))})}function v(){e.complete(null,{results:h,last_seq:s})}var y=[tw,nw];e.attachments&&y.push(rw);var b=vw(r,y,"readonly");if(b.error)return e.complete(b.error);(u=b.txn).onabort=aw(e.complete),u.oncomplete=function(){!e.continuous&&e.attachments?gw(h).then(v):v()},a=u.objectStore(nw),c=u.objectStore(tw),d=a.index("_doc_id_rev"),bw(a,e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null,e.descending,o,function(t,n,r){if(r&&t.length){var l=new Array(t.length),a=new Array(t.length),d=0;n.forEach(function(n,s){!function(e,t,n){if(i&&!i.has(e._id))return n();var r=g.get(e._id);if(r)return m(e,t,r,n);c.get(e._id).onsuccess=function(l){r=dw(l.target.result),g.set(e._id,r),m(e,t,r,n)}}(hw(n),t[s],function(n,i){a[s]=n,l[s]=i,++d===t.length&&function(){for(var t=[],n=0,i=l.length;n<i&&f!==o;n++){var s=l[n];s&&t.push(v(a[n],s))}Promise.all(t).then(function(t){for(var n=0,r=t.length;n<r;n++)t[n]&&e.onChange(t[n])}).catch(e.complete),f!==o&&r.continue()}()})})}function v(t,n){var r=e.processChange(n,t,e);s=r.seq=t.seq;var l=p(r);return"object"==typeof l?Promise.reject(l):l?(f++,e.return_docs&&h.push(r),e.attachments&&e.include_docs?new Promise(function(t){pw(n,e,u,function(){gw([r],e.binary).then(function(){t(r)})})}):Promise.resolve(r)):Promise.resolve()}})}(t,e,r,l)},e._close=function(e){l.close(),xw.delete(r),e()},e._getRevisionTree=function(e,t){var n=vw(l,[tw],"readonly");if(n.error)return t(n.error);n.txn.objectStore(tw).get(e).onsuccess=function(e){var n=dw(e.target.result);n?t(null,n.rev_tree):t(mb(nb))}},e._doCompaction=function(e,t,n){var r=vw(l,[tw,nw,rw,lw],"readwrite");if(r.error)return n(r.error);var i=r.txn;i.objectStore(tw).get(e).onsuccess=function(n){var r=dw(n.target.result);Zb(r.rev_tree,function(e,n,r,l,i){-1!==t.indexOf(n+"-"+r)&&(i.status="missing")}),mw(t,e,i);var l=r.winningRev,s=r.deleted;i.objectStore(tw).put(cw(r,l,s))},i.onabort=aw(n),i.oncomplete=function(){n()}},e._getLocal=function(e,t){var n=vw(l,[sw],"readonly");if(n.error)return t(n.error);var r=n.txn.objectStore(sw).get(e);r.onerror=aw(t),r.onsuccess=function(e){var n=e.target.result;n?(delete n._doc_id_rev,t(null,n)):t(mb(nb))}},e._putLocal=function(e,t,n){"function"==typeof t&&(n=t,t={}),delete e._revisions;var r=e._rev,i=e._id;e._rev=r?"0-"+(parseInt(r.split("-")[1],10)+1):"0-1";var s,o=t.ctx;if(!o){var u=vw(l,[sw],"readwrite");if(u.error)return n(u.error);(o=u.txn).onerror=aw(n),o.oncomplete=function(){s&&n(null,s)}}var a,c=o.objectStore(sw);r?(a=c.get(i)).onsuccess=function(l){var i=l.target.result;i&&i._rev===r?c.put(e).onsuccess=function(){s={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,s)}:n(mb(rb))}:((a=c.add(e)).onerror=function(e){n(mb(rb)),e.preventDefault(),e.stopPropagation()},a.onsuccess=function(){s={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,s)})},e._removeLocal=function(e,t,n){"function"==typeof t&&(n=t,t={});var r,i=t.ctx;if(!i){var s=vw(l,[sw],"readwrite");if(s.error)return n(s.error);(i=s.txn).oncomplete=function(){r&&n(null,r)}}var o=e._id,u=i.objectStore(sw),a=u.get(o);a.onerror=aw(n),a.onsuccess=function(l){var i=l.target.result;i&&i._rev===e._rev?(u.delete(o),r={ok:!0,id:o,rev:"0-0"},t.ctx&&n(null,r)):n(mb(nb))}},e._destroy=function(e,t){yw.removeAllListeners(r);var n=Sw.get(r);n&&n.result&&(n.result.close(),xw.delete(r));var l=indexedDB.deleteDatabase(r);l.onsuccess=function(){Sw.delete(r),Ky()&&r in localStorage&&delete localStorage[r],t(null,{ok:!0})},l.onerror=aw(t)};var a=xw.get(r);if(a)return l=a.idb,e._meta=a.global,_y()(function(){n(null,e)});var c=indexedDB.open(r,ew);Sw.set(r,c),c.onupgradeneeded=function(e){var t=e.target.result;if(e.oldVersion<1)return function(e){var t=e.createObjectStore(tw,{keyPath:"id"});e.createObjectStore(nw,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore(rw,{keyPath:"digest"}),e.createObjectStore(iw,{keyPath:"id",autoIncrement:!1}),e.createObjectStore(ow),t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),e.createObjectStore(sw,{keyPath:"_id"});var n=e.createObjectStore(lw,{autoIncrement:!0});n.createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0})}(t);var n=e.currentTarget.transaction;e.oldVersion<3&&function(e){e.createObjectStore(sw,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}(t),e.oldVersion<4&&function(e){var t=e.createObjectStore(lw,{autoIncrement:!0});t.createIndex("seq","seq"),t.createIndex("digestSeq","digestSeq",{unique:!0})}(t);var r=[i,s,o,u],l=e.oldVersion;!function e(){var t=r[l-1];l++,t&&t(n,e)}()},c.onsuccess=function(t){(l=t.target.result).onversionchange=function(){l.close(),xw.delete(r)},l.onabort=function(e){Qy("error","Database has a global failure",e.target.error),l.close(),xw.delete(r)};var i,s,o,u,a=l.transaction([iw,ow,tw],"readwrite"),c=!1;function d(){void 0!==o&&c&&(e._meta={name:r,instanceId:u,blobSupport:o},xw.set(r,{idb:l,global:e._meta}),n(null,e))}function h(){if(void 0!==s&&void 0!==i){var e=r+"_id";e in i?u=i[e]:i[e]=u=Gb(),i.docCount=s,a.objectStore(iw).put(i)}}a.objectStore(iw).get(iw).onsuccess=function(e){i=e.target.result||{id:iw},h()},function(e,t){e.objectStore(tw).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(e){s=e.target.result,h()}}(a),kw||(kw=function(e){return new Promise(function(t){var n=Tb([""]),r=e.objectStore(ow).put(n,"key");r.onsuccess=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)},r.onerror=e.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)}}).catch(function(){return!1})}(a)),kw.then(function(e){o=e,d()}),a.oncomplete=function(){c=!0,d()},a.onabort=aw(n)},c.onerror=function(){var e="Failed to open indexedDB, are you in private browsing mode?";Qy("error",e),n(mb(fb,e))}}(n,e,function(e,t){!function(e,t,n,r){try{e(t,n)}catch(t){r.emit("error",t)}}(r,e,t,l),_w=!1,_y()(function(){Cw()})})}),Cw()}(0,t,n.constructor)}Ew.valid=function(){try{return"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(qS){return!1}};var Dw=25,Iw=50,Mw=5e3,Ow=1e4,Fw={};function Aw(e){var t=e.doc||e.ok,n=t&&t._attachments;n&&Object.keys(n).forEach(function(e){var t=n[e];t.data=Rb(t.data,t.content_type)})}function Tw(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):/^_local/.test(e)?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function Pw(e){return e._attachments&&Object.keys(e._attachments)?Promise.all(Object.keys(e._attachments).map(function(t){var n=e._attachments[t];if(n.data&&"string"!=typeof n.data)return new Promise(function(e){Vb(n.data,e)}).then(function(e){n.data=e})})):Promise.resolve()}function Nw(e,t){return Rw(e,e.db+"/"+t)}function Rw(e,t){return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+(e.path?"/":"")+t}function jw(e){return"?"+Object.keys(e).map(function(t){return t+"="+encodeURIComponent(e[t])}).join("&")}function $w(e,t){var n=this,r=function(e,t){if(function(e){if(!e.prefix)return!1;var t=Ib(e.prefix).protocol;return"http"===t||"https"===t}(t)){var n=t.name.substr(t.prefix.length);e=t.prefix.replace(/\/?$/,"/")+encodeURIComponent(n)}var r=Ib(e);(r.user||r.password)&&(r.auth={username:r.user,password:r.password});var l=r.path.replace(/(^\/|\/$)/g,"").split("/");return r.db=l.pop(),-1===r.db.indexOf("%")&&(r.db=encodeURIComponent(r.db)),r.path=l.join("/"),r}(e.name,e),l=Nw(r,"");e=$y(e);var i,s=function(t,n){if((n=n||{}).headers=n.headers||new __,n.credentials="include",e.auth||r.auth){var l=e.auth||r.auth,i=Ab(unescape(encodeURIComponent(l.username+":"+l.password)));n.headers.set("Authorization","Basic "+i)}var s=e.headers||{};return Object.keys(s).forEach(function(e){n.headers.append(e,s[e])}),function(e){var t="undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",n=-1!==t.indexOf("msie"),r=-1!==t.indexOf("trident"),l=-1!==t.indexOf("edge");return(n||r||l)&&(!("method"in e)||"GET"===e.method)}(n)&&(t+=(-1===t.indexOf("?")?"?":"&")+"_nonce="+Date.now()),(e.fetch||b_)(t,n)};function o(e,t){return qy(e,Iy()(function(e){a().then(function(){return t.apply(this,e)}).catch(function(t){e.pop()(t)})})).bind(n)}function u(e,t,n){var r={};return(t=t||{}).headers=t.headers||new __,t.headers.get("Content-Type")||t.headers.set("Content-Type","application/json"),t.headers.get("Accept")||t.headers.set("Accept","application/json"),s(e,t).then(function(e){return r.ok=e.ok,r.status=e.status,e.json()}).then(function(e){if(r.data=e,!r.ok){r.data.status=r.status;var t=vb(r.data);if(n)return n(t);throw t}if(Array.isArray(r.data)&&(r.data=r.data.map(function(e){return e.error||e.missing?vb(e):e})),!n)return r;n(null,r.data)})}function a(){return e.skip_setup?Promise.resolve():i||((i=u(l).catch(function(e){return e&&e.status&&404===e.status?(Xy(404,"PouchDB is just detecting if the remote exists."),u(l,{method:"PUT"})):Promise.reject(e)}).catch(function(e){return!(!e||!e.status||412!==e.status)||Promise.reject(e)})).catch(function(){i=null}),i)}function c(e){return e.split("/").map(encodeURIComponent).join("/")}_y()(function(){t(null,n)}),n._remote=!0,n.type=function(){return"http"},n.id=o("id",function(e){s(Rw(r,"")).then(function(e){return e.json()}).catch(function(){return{}}).then(function(t){var n=t&&t.uuid?t.uuid+r.db:Nw(r,"");e(null,n)})}),n.compact=o("compact",function(e,t){"function"==typeof e&&(t=e,e={}),e=$y(e),u(Nw(r,"_compact"),{method:"POST"}).then(function(){!function r(){n.info(function(n,l){l&&!l.compact_running?t(null,{ok:!0}):setTimeout(r,e.interval||200)})}()})}),n.bulkGet=qy("bulkGet",function(e,t){var n=this;function l(t){var n={};e.revs&&(n.revs=!0),e.attachments&&(n.attachments=!0),e.latest&&(n.latest=!0),u(Nw(r,"_bulk_get"+jw(n)),{method:"POST",body:JSON.stringify({docs:e.docs})}).then(function(n){e.attachments&&e.binary&&n.data.results.forEach(function(e){e.docs.forEach(Aw)}),t(null,n.data)}).catch(t)}function i(){var r=Iw,l=Math.ceil(e.docs.length/r),i=0,s=new Array(l);function o(e){return function(n,r){s[e]=r.results,++i===l&&t(null,{results:bb(s)})}}for(var u=0;u<l;u++){var a=By(e,["revs","attachments","binary","latest"]);a.docs=e.docs.slice(u*r,Math.min(e.docs.length,(u+1)*r)),Gy(n,a,o(u))}}var s=Rw(r,""),o=Fw[s];"boolean"!=typeof o?l(function(e,n){e?(Fw[s]=!1,Xy(e.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),i()):(Fw[s]=!0,t(null,n))}):o?l(t):i()}),n._info=function(e){a().then(function(){return s(Nw(r,""))}).then(function(e){return e.json()}).then(function(t){t.host=Nw(r,""),e(null,t)}).catch(e)},n.fetch=function(e,t){return a().then(function(){var n="/"===e.substring(0,1)?Rw(r,e.substring(1)):Nw(r,e);return s(n,t)})},n.get=o("get",function(e,t,n){"function"==typeof t&&(n=t,t={});var l={};function i(e){var n=e._attachments,l=n&&Object.keys(n);if(n&&l.length)return function(e,t){return new Promise(function(n,r){var l,i=0,s=0,o=0,u=e.length;function a(){++o===u?l?r(l):n():h()}function c(){i--,a()}function d(e){i--,l=l||e,a()}function h(){for(;i<t&&s<u;)i++,e[s++]().then(c,d)}h()})}(l.map(function(l){return function(){return function(l){var i=n[l],o=Tw(e._id)+"/"+c(l)+"?rev="+e._rev;return s(Nw(r,o)).then(function(e){return"undefined"==typeof process||process.browser?e.blob():e.buffer()}).then(function(e){return t.binary?("undefined"==typeof process||process.browser||(e.type=i.content_type),e):new Promise(function(t){Vb(e,t)})}).then(function(e){delete i.stub,delete i.length,i.data=e})}(l)}}),5)}(t=$y(t)).revs&&(l.revs=!0),t.revs_info&&(l.revs_info=!0),t.latest&&(l.latest=!0),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),l.open_revs=t.open_revs),t.rev&&(l.rev=t.rev),t.conflicts&&(l.conflicts=t.conflicts),t.update_seq&&(l.update_seq=t.update_seq),e=Tw(e),u(Nw(r,e+jw(l))).then(function(e){return Promise.resolve().then(function(){if(t.attachments)return n=e.data,Array.isArray(n)?Promise.all(n.map(function(e){if(e.ok)return i(e.ok)})):i(n);var n}).then(function(){n(null,e.data)})}).catch(function(t){t.docId=e,n(t)})}),n.remove=o("remove",function(e,t,n,l){var i;"string"==typeof t?(i={_id:e,_rev:t},"function"==typeof n&&(l=n,n={})):(i=e,"function"==typeof t?(l=t,n={}):(l=n,n=t));var s=i._rev||n.rev;u(Nw(r,Tw(i._id))+"?rev="+s,{method:"DELETE"},l).catch(l)}),n.getAttachment=o("getAttachment",function(e,t,n,l){"function"==typeof n&&(l=n,n={});var i,o=n.rev?"?rev="+n.rev:"",u=Nw(r,Tw(e))+"/"+c(t)+o;s(u,{method:"GET"}).then(function(e){if(i=e.headers.get("content-type"),e.ok)return"undefined"==typeof process||process.browser?e.blob():e.buffer();throw e}).then(function(e){"undefined"==typeof process||process.browser||(e.type=i),l(null,e)}).catch(function(e){l(e)})}),n.removeAttachment=o("removeAttachment",function(e,t,n,l){u(Nw(r,Tw(e)+"/"+c(t))+"?rev="+n,{method:"DELETE"},l).catch(l)}),n.putAttachment=o("putAttachment",function(e,t,n,l,i,s){"function"==typeof i&&(s=i,i=l,l=n,n=null);var o=Tw(e)+"/"+c(t),a=Nw(r,o);if(n&&(a+="?rev="+n),"string"==typeof l){var d;try{d=Fb(l)}catch(h){return s(mb(ub,"Attachment is not a valid base64 string"))}l=d?Nb(d,i):""}u(a,{headers:new __({"Content-Type":i}),method:"PUT",body:l},s).catch(s)}),n._bulkDocs=function(e,t,n){e.new_edits=t.new_edits,a().then(function(){return Promise.all(e.docs.map(Pw))}).then(function(){return u(Nw(r,"_bulk_docs"),{method:"POST",body:JSON.stringify(e)},n)}).catch(n)},n._put=function(e,t,n){a().then(function(){return Pw(e)}).then(function(){return u(Nw(r,Tw(e._id)),{method:"PUT",body:JSON.stringify(e)})}).then(function(e){n(null,e.data)}).catch(function(t){t.docId=e&&e._id,n(t)})},n.allDocs=o("allDocs",function(e,t){"function"==typeof e&&(t=e,e={});var n,l={},i="GET";(e=$y(e)).conflicts&&(l.conflicts=!0),e.update_seq&&(l.update_seq=!0),e.descending&&(l.descending=!0),e.include_docs&&(l.include_docs=!0),e.attachments&&(l.attachments=!0),e.key&&(l.key=JSON.stringify(e.key)),e.start_key&&(e.startkey=e.start_key),e.startkey&&(l.startkey=JSON.stringify(e.startkey)),e.end_key&&(e.endkey=e.end_key),e.endkey&&(l.endkey=JSON.stringify(e.endkey)),void 0!==e.inclusive_end&&(l.inclusive_end=!!e.inclusive_end),void 0!==e.limit&&(l.limit=e.limit),void 0!==e.skip&&(l.skip=e.skip);var s=jw(l);void 0!==e.keys&&(i="POST",n={keys:e.keys}),u(Nw(r,"_all_docs"+s),{method:i,body:JSON.stringify(n)}).then(function(n){e.include_docs&&e.attachments&&e.binary&&n.data.rows.forEach(Aw),t(null,n.data)}).catch(t)}),n._changes=function(e){var t="batch_size"in e?e.batch_size:Dw;!(e=$y(e)).continuous||"heartbeat"in e||(e.heartbeat=Ow);var n="timeout"in e?e.timeout:3e4;"timeout"in e&&e.timeout&&n-e.timeout<Mw&&(n=e.timeout+Mw),"heartbeat"in e&&e.heartbeat&&n-e.heartbeat<Mw&&(n=e.heartbeat+Mw);var l={};"timeout"in e&&e.timeout&&(l.timeout=e.timeout);var i=void 0!==e.limit&&e.limit,s=i;if(e.style&&(l.style=e.style),(e.include_docs||e.filter&&"function"==typeof e.filter)&&(l.include_docs=!0),e.attachments&&(l.attachments=!0),e.continuous&&(l.feed="longpoll"),e.seq_interval&&(l.seq_interval=e.seq_interval),e.conflicts&&(l.conflicts=!0),e.descending&&(l.descending=!0),e.update_seq&&(l.update_seq=!0),"heartbeat"in e&&e.heartbeat&&(l.heartbeat=e.heartbeat),e.filter&&"string"==typeof e.filter&&(l.filter=e.filter),e.view&&"string"==typeof e.view&&(l.filter="_view",l.view=e.view),e.query_params&&"object"==typeof e.query_params)for(var o in e.query_params)e.query_params.hasOwnProperty(o)&&(l[o]=e.query_params[o]);var c,d="GET";e.doc_ids?(l.filter="_doc_ids",d="POST",c={doc_ids:e.doc_ids}):e.selector&&(l.filter="_selector",d="POST",c={selector:e.selector});var h,f=new y_,p=function(n,o){if(!e.aborted){l.since=n,"object"==typeof l.since&&(l.since=JSON.stringify(l.since)),e.descending?i&&(l.limit=s):l.limit=!i||s>t?t:s;var p=Nw(r,"_changes"+jw(l)),g={signal:f.signal,method:d,body:JSON.stringify(c)};h=n,e.aborted||a().then(function(){return u(p,g,o)}).catch(o)}},g={results:[]},m=function(n,r){if(!e.aborted){var l=0;if(r&&r.results){l=r.results.length,g.last_seq=r.last_seq;var o=null,u=null;"number"==typeof r.pending&&(o=r.pending),"string"!=typeof g.last_seq&&"number"!=typeof g.last_seq||(u=g.last_seq),r.results=r.results.filter(function(t){s--;var n=yb(e)(t);return n&&(e.include_docs&&e.attachments&&e.binary&&Aw(t),e.return_docs&&g.results.push(t),e.onChange(t,o,u)),n})}else if(n)return e.aborted=!0,void e.complete(n);r&&r.last_seq&&(h=r.last_seq),(!e.continuous||i&&s<=0)&&(i&&s<=0||r&&l<t||e.descending)?e.complete(null,g):_y()(function(){p(h,m)})}};return p(e.since||0,m),{cancel:function(){e.aborted=!0,f.abort()}}},n.revsDiff=o("revsDiff",function(e,t,n){"function"==typeof t&&(n=t,t={}),u(Nw(r,"_revs_diff"),{method:"POST",body:JSON.stringify(e)},n).catch(n)}),n._close=function(e){e()},n._destroy=function(e,t){u(Nw(r,""),{method:"DELETE"}).then(function(e){t(null,e)}).catch(function(e){404===e.status?t(null,{ok:!0}):t(e)})}}function Vw(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Vw)}catch(qS){}}function Lw(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Lw)}catch(qS){}}function qw(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,qw)}catch(qS){}}function Bw(e,t){return t&&e.then(function(e){_y()(function(){t(null,e)})},function(e){_y()(function(){t(e)})}),e}function Uw(e,t){return function(){var n=arguments,r=this;return e.add(function(){return t.apply(r,n)})}}function Hw(e){var t=new vy(e),n=new Array(t.size),r=-1;return t.forEach(function(e){n[++r]=e}),n}function zw(e){var t=new Array(e.size),n=-1;return e.forEach(function(e,r){t[++n]=r}),t}function Ww(e){return new qw("builtin "+e+" function requires map values to be numbers or number arrays")}function Gw(e){for(var t=0,n=0,r=e.length;n<r;n++){var l=e[n];if("number"!=typeof l){if(!Array.isArray(l))throw Ww("_sum");t="number"==typeof t?[t]:t;for(var i=0,s=l.length;i<s;i++){var o=l[i];if("number"!=typeof o)throw Ww("_sum");void 0===t[i]?t.push(o):t[i]+=o}}else"number"==typeof t?t+=l:t[0]+=l}return t}$w.valid=function(){return!0},Oy()(Vw,Error),Oy()(Lw,Error),Oy()(qw,Error);var Kw=Qy.bind(null,"log"),Zw=Array.isArray,Qw=JSON.parse;function Jw(e,t){return Mb("return ("+e.replace(/;\s*$/,"")+");",{emit:t,sum:Gw,log:Kw,isArray:Zw,toJSON:Qw})}function Xw(){this.promise=new Promise(function(e){e()})}function Yw(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}function eC(e,t,n,r,l,i){var s,o=function(e,t){return Yw(e)+Yw(t)+"undefined"}(n,r);if(!l&&(s=e._cachedViews=e._cachedViews||{})[o])return s[o];var u=e.info().then(function(u){var a=u.db_name+"-mrview-"+(l?"temp":zb(o));return Ob(e,"_local/"+i,function(e){e.views=e.views||{};var n=t;-1===n.indexOf("/")&&(n=t+"/"+t);var r=e.views[n]=e.views[n]||{};if(!r[a])return r[a]=!0,e}).then(function(){return e.registerDependentDatabase(a).then(function(t){var l=t.db;l.auto_compaction=!0;var i={name:a,db:l,sourceDB:e,adapter:e.adapter,mapFun:n,reduceFun:r};return i.db.get("_local/lastSeq").catch(function(e){if(404!==e.status)throw e}).then(function(e){return i.seq=e?e.seq:0,s&&i.db.once("destroyed",function(){delete s[o]}),i})})})});return s&&(s[o]=u),u}Xw.prototype.add=function(e){return this.promise=this.promise.catch(function(){}).then(function(){return e()}),this.promise},Xw.prototype.finish=function(){return this.promise};var tC={},nC=new Xw,rC=50;function lC(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function iC(e,t){try{e.emit("error",t)}catch(n){Qy("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),Qy("error",t)}}var sC=function(e,t){return Gw(t)},oC=function(e,t){return t.length},uC=function(e,t){return{sum:Gw(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:function(e){for(var t=0,n=0,r=e.length;n<r;n++){var l=e[n];t+=l*l}return t}(t)}},aC=function(e,t,n,r){function l(e,t,n){try{t(n)}catch(qS){iC(e,qS)}}function i(e,t,n,r,l){try{return{output:t(n,r,l)}}catch(qS){return iC(e,qS),{error:qS}}}function s(e,t){var n=A_(e.key,t.key);return 0!==n?n:A_(e.value,t.value)}function o(e,t,n){return n=n||0,"number"==typeof t?e.slice(n,t+n):n>0?e.slice(n):e}function u(e){var t=e.value;return t&&"object"==typeof t&&t._id||e.id}function a(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&function(e){e.rows.forEach(function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach(function(e){var n=t[e];t[e].data=Rb(n.data,n.content_type)})})}(t),t}}function c(e,t,n,r){var l=t[e];void 0!==l&&(r&&(l=encodeURIComponent(JSON.stringify(l))),n.push(e+"="+l))}function d(e){if(void 0!==e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function h(e,t){var n=e.descending?"endkey":"startkey",r=e.descending?"startkey":"endkey";if(void 0!==e[n]&&void 0!==e[r]&&A_(e[n],e[r])>0)throw new Vw("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new Vw("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new Vw("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(t){var n=function(e){if(e){if("number"!=typeof e)return new Vw('Invalid value for integer: "'+e+'"');if(e<0)return new Vw('Invalid value for positive integer: "'+e+'"')}}(e[t]);if(n)throw n})}function f(e){return function(t){if(404===t.status)return e;throw t}}function p(e){var t="string"==typeof e?e:e.name,n=tC[t];return n||(n=tC[t]=new Xw),n}function g(e){return Uw(p(e),function(){return function(e){var n,r,i=t(e.mapFun,function(e,t){var l={id:r._id,key:T_(e)};null!=t&&(l.value=T_(t)),n.push(l)}),o=e.seq||0;var u=new Xw;function a(){return e.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:o,limit:rC}).then(c)}function c(t){var c=t.results;if(c.length){var h=function(t){for(var u=new yy,a=0,c=t.length;a<c;a++){var h=t[a];if("_"!==h.doc._id[0]){n=[],(r=h.doc)._deleted||l(e.sourceDB,i,r),n.sort(s);var f=d(n);u.set(h.doc._id,[f,h.changes])}o=h.seq}return u}(c);if(u.add(function(t,n){return function(){return function(e,t,n){return e.db.get("_local/lastSeq").catch(f({_id:"_local/lastSeq",seq:0})).then(function(r){var l=zw(t);return Promise.all(l.map(function(n){return function(e,t,n){var r,l="_local/doc_"+e,i={_id:l,keys:[]},s=n.get(e),o=s[0];return(r=s[1],1===r.length&&/^1-/.test(r[0].rev)?Promise.resolve(i):t.db.get(l).catch(f(i))).then(function(e){return function(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):Promise.resolve({rows:[]})}(e).then(function(t){return function(e,t){for(var n=[],r=new vy,l=0,i=t.rows.length;l<i;l++){var s=t.rows[l].doc;if(s&&(n.push(s),r.add(s._id),s._deleted=!o.has(s._id),!s._deleted)){var u=o.get(s._id);"value"in u&&(s.value=u.value)}}var a=zw(o);return a.forEach(function(e){if(!r.has(e)){var t={_id:e},l=o.get(e);"value"in l&&(t.value=l.value),n.push(t)}}),e.keys=Hw(a.concat(e.keys)),n.push(e),n}(e,t)})})}(n,e,t)})).then(function(t){var l=bb(t);return r.seq=n,l.push(r),e.db.bulkDocs({docs:l})})})}(e,t,n)}}(h,o)),!(c.length<rC))return a()}}function d(e){for(var t,n=new yy,r=0,l=e.length;r<l;r++){var i=e[r],s=[i.key,i.id];r>0&&0===A_(i.key,t)&&s.push(r),n.set(P_(s),i),t=i.key}return n}return a().then(function(){return u.finish()}).then(function(){e.seq=o})}(e)})()}function m(e,t){return Uw(p(e),function(){return function(e,t){var r,l=e.reduceFun&&!1!==t.reduce,s=t.skip||0;function a(t){return t.include_docs=!0,e.db.allDocs(t).then(function(e){return r=e.total_rows,e.rows.map(function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(t<n||t>n))return e.doc.value}var r=function(e){for(var t=[],n=[],r=0;;){var l=e[r++];if("\0"!==l)switch(l){case"1":t.push(null);break;case"2":t.push("1"===e[r]),r++;break;case"3":var i=N_(e,r);t.push(i.num),r+=i.length;break;case"4":for(var s="";;){var o=e[r];if("\0"===o)break;s+=o,r++}s=s.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"\x01").replace(/\u0002\u0002/g,"\x02"),t.push(s);break;case"5":var u={element:[],index:t.length};t.push(u.element),n.push(u);break;case"6":var a={element:{},index:t.length};t.push(a.element),n.push(a);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+l)}else{if(1===t.length)return t.pop();R_(t,n)}}}(e.doc._id);return{key:r[0],id:r[1],value:"value"in e.doc?e.doc.value:null}})})}function c(a){var c;if(c=l?function(e,t,r){0===r.group_level&&delete r.group_level;var l=r.group||r.group_level,s=n(e.reduceFun),u=[],a=isNaN(r.group_level)?Number.POSITIVE_INFINITY:r.group_level;t.forEach(function(e){var t=u[u.length-1],n=l?e.key:null;if(l&&Array.isArray(n)&&(n=n.slice(0,a)),t&&0===A_(t.groupKey,n))return t.keys.push([e.key,e.id]),void t.values.push(e.value);u.push({keys:[[e.key,e.id]],values:[e.value],groupKey:n})}),t=[];for(var c=0,d=u.length;c<d;c++){var h=u[c],f=i(e.sourceDB,s,h.keys,h.values,!1);if(f.error&&f.error instanceof qw)throw f.error;t.push({value:f.error?null:f.output,key:h.groupKey})}return{rows:o(t,r.limit,r.skip)}}(e,a,t):{total_rows:r,offset:s,rows:a},t.update_seq&&(c.update_seq=e.seq),t.include_docs){var d=Hw(a.map(u));return e.sourceDB.allDocs({keys:d,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then(function(e){var t=new yy;return e.rows.forEach(function(e){t.set(e.id,e.doc)}),a.forEach(function(e){var n=u(e),r=t.get(n);r&&(e.doc=r)}),c})}return c}if(void 0===t.keys||t.keys.length||(t.limit=0,delete t.keys),void 0!==t.keys){var d=t.keys.map(function(e){var n={startkey:P_([e]),endkey:P_([e,{}])};return t.update_seq&&(n.update_seq=!0),a(n)});return Promise.all(d).then(bb).then(c)}var h,f,p={descending:t.descending};if(t.update_seq&&(p.update_seq=!0),"start_key"in t&&(h=t.start_key),"startkey"in t&&(h=t.startkey),"end_key"in t&&(f=t.end_key),"endkey"in t&&(f=t.endkey),void 0!==h&&(p.startkey=P_(t.descending?[h,{}]:[h])),void 0!==f){var g=!1!==t.inclusive_end;t.descending&&(g=!g),p.endkey=P_(g?[f,{}]:[f])}if(void 0!==t.key){var m=P_([t.key]),v=P_([t.key,{}]);p.descending?(p.endkey=m,p.startkey=v):(p.startkey=m,p.endkey=v)}return l||("number"==typeof t.limit&&(p.limit=t.limit),p.skip=s),a(p).then(c)}(e,t)})()}var v;return{query:function(e,t,n){var r=this;"function"==typeof t&&(n=t,t={}),t=t?function(e){return e.group_level=d(e.group_level),e.limit=d(e.limit),e.skip=d(e.skip),e}(t):{},"function"==typeof e&&(e={map:e});var l=Promise.resolve().then(function(){return function(e,t,n){if("function"==typeof e._query)return function(e,t,n){return new Promise(function(r,l){e._query(t,n,function(e,t){if(e)return l(e);r(t)})})}(e,t,n);if(wb(e))return function(e,t,n){var r,l,i,s=[],o="GET";if(c("reduce",n,s),c("include_docs",n,s),c("attachments",n,s),c("limit",n,s),c("descending",n,s),c("group",n,s),c("group_level",n,s),c("skip",n,s),c("stale",n,s),c("conflicts",n,s),c("startkey",n,s,!0),c("start_key",n,s,!0),c("endkey",n,s,!0),c("end_key",n,s,!0),c("inclusive_end",n,s),c("key",n,s,!0),c("update_seq",n,s),s=""===(s=s.join("&"))?"":"?"+s,void 0!==n.keys){var u="keys="+encodeURIComponent(JSON.stringify(n.keys));u.length+s.length+1<=2e3?s+=("?"===s[0]?"&":"?")+u:(o="POST","string"==typeof t?r={keys:n.keys}:t.keys=n.keys)}if("string"==typeof t){var d=lC(t);return e.fetch("_design/"+d[0]+"/_view/"+d[1]+s,{headers:new __({"Content-Type":"application/json"}),method:o,body:JSON.stringify(r)}).then(function(e){return l=e.ok,i=e.status,e.json()}).then(function(e){if(!l)throw e.status=i,vb(e);return e.rows.forEach(function(e){if(e.value&&e.value.error&&"builtin_reduce_error"===e.value.error)throw new Error(e.reason)}),e}).then(a(n))}return r=r||{},Object.keys(t).forEach(function(e){r[e]=Array.isArray(t[e])?t[e]:t[e].toString()}),e.fetch("_temp_view"+s,{headers:new __({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(r)}).then(function(e){return l=e.ok,i=e.status,e.json()}).then(function(e){if(!l)throw e.status=i,vb(e);return e}).then(a(n))}(e,t,n);if("string"!=typeof t)return h(n,t),nC.add(function(){return eC(e,"temp_view/temp_view",t.map,t.reduce,!0,"mrviews").then(function(e){return t=g(e).then(function(){return m(e,n)}),r=function(){return e.db.destroy()},t.then(function(e){return r().then(function(){return e})},function(e){return r().then(function(){throw e})});var t,r})}),nC.finish();var r=t,l=lC(r),i=l[1];return e.get("_design/"+l[0]).then(function(t){var l=t.views&&t.views[i];if(!l)throw new Lw("ddoc "+t._id+" has no view named "+i);return function(e,t){var n=e.views&&e.views[t];if("string"!=typeof n.map)throw new Lw("ddoc "+e._id+" has no string view named "+t+", instead found object of type: "+typeof n.map)}(t,i),h(n,l),eC(e,r,l.map,l.reduce,!1,"mrviews").then(function(e){return"ok"===n.stale||"update_after"===n.stale?("update_after"===n.stale&&_y()(function(){g(e)}),m(e,n)):g(e).then(function(){return m(e,n)})})})}(r,e,t)});return Bw(l,n),l},viewCleanup:(v=function(){var e=this;return"function"==typeof e._viewCleanup?function(e){return new Promise(function(t,n){e._viewCleanup(function(e,r){if(e)return n(e);t(r)})})}(e):wb(e)?function(e){return e.fetch("_view_cleanup",{headers:new __({"Content-Type":"application/json"}),method:"POST"}).then(function(e){return e.json()})}(e):function(e){return e.get("_local/mrviews").then(function(t){var n=new yy;Object.keys(t.views).forEach(function(e){var t=lC(e),r="_design/"+t[0],l=t[1],i=n.get(r);i||(i=new vy,n.set(r,i)),i.add(l)});var r={keys:zw(n),include_docs:!0};return e.allDocs(r).then(function(r){var l={};r.rows.forEach(function(e){var r=e.key.substring(8);n.get(e.key).forEach(function(n){var i=r+"/"+n;t.views[i]||(i=n);var s=Object.keys(t.views[i]),o=e.doc&&e.doc.views&&e.doc.views[n];s.forEach(function(e){l[e]=l[e]||o})})});var i=Object.keys(l).filter(function(e){return!l[e]}).map(function(t){return Uw(p(t),function(){return new e.constructor(t,e.__opts).destroy()})()});return Promise.all(i).then(function(){return{ok:!0}})})},f({ok:!0}))}(e)},Iy()(function(e){var t=e.pop(),n=v.apply(this,e);return"function"==typeof t&&Bw(n,t),n}))}}(0,function(e,t){if("function"==typeof e&&2===e.length){var n=e;return function(e){return n(e,t)}}return Jw(e.toString(),t)},function(e){var t=e.toString();return function(e){if(/^_sum/.test(e))return sC;if(/^_count/.test(e))return oC;if(/^_stats/.test(e))return uC;if(/^_/.test(e))throw new Error(e+" is not a supported reduce function.")}(t)||Jw(t)}),cC={query:function(e,t,n){return aC.query.call(this,e,t,n)},viewCleanup:function(e){return aC.viewCleanup.call(this,e)}};function dC(e){return/^1-/.test(e)}function hC(e,t){var n=Object.keys(t._attachments);return Promise.all(n.map(function(n){return e.getAttachment(t._id,n,{rev:t._rev})}))}var fC=1,pC="pouchdb",gC=5;function mC(e,t,n,r,l){return e.get(t).catch(function(n){if(404===n.status)return"http"!==e.adapter&&"https"!==e.adapter||Xy(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:r,_id:t,history:[],replicator:pC,version:fC};throw n}).then(function(i){if(!l.cancelled&&i.last_seq!==n)return i.history=(i.history||[]).filter(function(e){return e.session_id!==r}),i.history.unshift({last_seq:n,session_id:r}),i.history=i.history.slice(0,gC),i.version=fC,i.replicator=pC,i.session_id=r,i.last_seq=n,e.put(i).catch(function(i){if(409===i.status)return mC(e,t,n,r,l);throw i})})}function vC(e,t,n,r,l){this.src=e,this.target=t,this.id=n,this.returnValue=r,this.opts=l||{}}vC.prototype.writeCheckpoint=function(e,t){var n=this;return this.updateTarget(e,t).then(function(){return n.updateSource(e,t)})},vC.prototype.updateTarget=function(e,t){return this.opts.writeTargetCheckpoint?mC(this.target,this.id,e,t,this.returnValue):Promise.resolve(!0)},vC.prototype.updateSource=function(e,t){if(this.opts.writeSourceCheckpoint){var n=this;return mC(this.src,this.id,e,t,this.returnValue).catch(function(e){if(_C(e))return n.opts.writeSourceCheckpoint=!1,!0;throw e})}return Promise.resolve(!0)};var yC={undefined:function(e,t){return 0===A_(e.last_seq,t.last_seq)?t.last_seq:0},1:function(e,t){return(t.session_id===e.session_id?{last_seq:t.last_seq,history:t.history}:function e(t,n){var r=t[0],l=t.slice(1),i=n[0],s=n.slice(1);return r&&0!==n.length?bC(r.session_id,n)?{last_seq:r.last_seq,history:t}:bC(i.session_id,l)?{last_seq:i.last_seq,history:s}:e(l,s):{last_seq:0,history:[]}}(t.history,e.history)).last_seq}};function bC(e,t){var n=t[0],r=t.slice(1);return!(!e||0===t.length)&&(e===n.session_id||bC(e,r))}function _C(e){return"number"==typeof e.status&&4===Math.floor(e.status/100)}vC.prototype.getCheckpoint=function(){var e=this;return e.opts&&e.opts.writeSourceCheckpoint&&!e.opts.writeTargetCheckpoint?e.src.get(e.id).then(function(e){return e.last_seq||0}).catch(function(e){if(404!==e.status)throw e;return 0}):e.target.get(e.id).then(function(t){return e.opts&&e.opts.writeTargetCheckpoint&&!e.opts.writeSourceCheckpoint?t.last_seq||0:e.src.get(e.id).then(function(e){return t.version!==e.version?0:(n=t.version?t.version.toString():"undefined")in yC?yC[n](t,e):0;var n},function(n){if(404===n.status&&t.last_seq)return e.src.put({_id:e.id,last_seq:0}).then(function(){return 0},function(n){return _C(n)?(e.opts.writeSourceCheckpoint=!1,t.last_seq):0});throw n})}).catch(function(e){if(404!==e.status)throw e;return 0})};var wC=0;function CC(e,t,n,r,l){var i,s,o=[],u={seq:0,changes:[],docs:[]},a=!1,c=!1,d=!1,h=0,f=n.continuous||n.live||!1,p=n.batch_size||100,g=n.batches_limit||10,m=!1,v=n.doc_ids,y=n.selector,b=[],_=Gb();l=l||{ok:!0,start_time:(new Date).toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var w={};function C(){return s?Promise.resolve():function(e,t,n){var r=n.doc_ids?n.doc_ids.sort(A_):"",l=n.filter?n.filter.toString():"",i="",s="",o="";return n.selector&&(o=JSON.stringify(n.selector)),n.filter&&n.query_params&&(i=JSON.stringify(function(e){return Object.keys(e).sort(A_).reduce(function(t,n){return t[n]=e[n],t},{})}(n.query_params))),n.filter&&"_view"===n.filter&&(s=n.view.toString()),Promise.all([e.id(),t.id()]).then(function(e){var t=e[0]+e[1]+l+s+i+r+o;return new Promise(function(e){Hb(t,e)})}).then(function(e){return"_local/"+e.replace(/\//g,".").replace(/\+/g,"_")})}(e,t,n).then(function(l){s=new vC(e,t,l,r,!1===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:"source"===n.checkpoint?{writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:"target"===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0})})}function k(){if(b=[],0!==i.docs.length){var e=i.docs;return t.bulkDocs({docs:e,new_edits:!1},{timeout:n.timeout}).then(function(t){if(r.cancelled)throw M(),new Error("cancelled");var n=Object.create(null);t.forEach(function(e){e.error&&(n[e.id]=e)});var i=Object.keys(n).length;l.doc_write_failures+=i,l.docs_written+=e.length-i,e.forEach(function(e){var t=n[e._id];if(t){l.errors.push(t);var i=(t.name||"").toLowerCase();if("unauthorized"!==i&&"forbidden"!==i)throw t;r.emit("denied",$y(t))}else b.push(e)})},function(t){throw l.doc_write_failures+=e.length,t})}}function x(){if(i.error)throw new Error("There was a problem getting docs.");l.last_seq=h=i.seq;var e=$y(l);return b.length&&(e.docs=b,"number"==typeof i.pending&&(e.pending=i.pending,delete i.pending),r.emit("change",e)),a=!0,s.writeCheckpoint(i.seq,_).then(function(){if(a=!1,r.cancelled)throw M(),new Error("cancelled");i=void 0,T()}).catch(function(e){throw N(e),e})}function S(){return function(e,t,n,r){n=$y(n);var l=[],i=!0;return Promise.resolve().then(function(){var t=Object.keys(n).filter(function(e){var t=n[e].missing;return 1===t.length&&dC(t[0])});if(t.length>0)return function(t){return e.allDocs({keys:t,include_docs:!0,conflicts:!0}).then(function(e){if(r.cancelled)throw new Error("cancelled");e.rows.forEach(function(e){var t;e.deleted||!e.doc||!dC(e.value.rev)||(t=e.doc)._attachments&&Object.keys(t._attachments).length>0||function(e){return e._conflicts&&e._conflicts.length>0}(e.doc)||(e.doc._conflicts&&delete e.doc._conflicts,l.push(e.doc),delete n[e.id])})})}(t)}).then(function(){var s=function(e){var t=[];return Object.keys(e).forEach(function(n){e[n].missing.forEach(function(e){t.push({id:n,rev:e})})}),{docs:t,revs:!0,latest:!0}}(n);if(s.docs.length)return e.bulkGet(s).then(function(n){if(r.cancelled)throw new Error("cancelled");return Promise.all(n.results.map(function(n){return Promise.all(n.docs.map(function(n){var r=n.ok;return n.error&&(i=!1),r&&r._attachments?function(e,t,n){var r=wb(t)&&!wb(e),l=Object.keys(n._attachments);return r?e.get(n._id).then(function(r){return Promise.all(l.map(function(l){return function(e,t,r){return!e._attachments||!e._attachments[r]||e._attachments[r].digest!==n._attachments[r].digest}(r,0,l)?t.getAttachment(n._id,l):e.getAttachment(r._id,l)}))}).catch(function(e){if(404!==e.status)throw e;return hC(t,n)}):hC(t,n)}(t,e,r).then(function(e){var t=Object.keys(r._attachments);return e.forEach(function(e,n){var l=r._attachments[t[n]];delete l.stub,delete l.length,l.data=e}),r}):r}))})).then(function(e){l=l.concat(bb(e).filter(Boolean))})})}).then(function(){return{ok:i,docs:l}})}(e,t,i.diffs,r).then(function(e){i.error=!e.ok,e.docs.forEach(function(e){delete i.diffs[e._id],l.docs_read++,i.docs.push(e)})})}function E(){var e;r.cancelled||i||(0!==o.length?(i=o.shift(),(e={},i.changes.forEach(function(t){"_user/"!==t.id&&(e[t.id]=t.changes.map(function(e){return e.rev}))}),t.revsDiff(e).then(function(e){if(r.cancelled)throw M(),new Error("cancelled");i.diffs=e})).then(S).then(k).then(x).then(E).catch(function(e){I("batch processing terminated with error",e)})):D(!0))}function D(e){0!==u.changes.length?(e||c||u.changes.length>=p)&&(o.push(u),u={seq:0,changes:[],docs:[]},"pending"!==r.state&&"stopped"!==r.state||(r.state="active",r.emit("active")),E()):0!==o.length||i||((f&&w.live||c)&&(r.state="pending",r.emit("paused")),c&&M())}function I(e,t){d||(t.message||(t.message=e),l.ok=!1,l.status="aborting",o=[],u={seq:0,changes:[],docs:[]},M(t))}function M(i){if(!(d||r.cancelled&&(l.status="cancelled",a)))if(l.status=l.status||"complete",l.end_time=(new Date).toISOString(),l.last_seq=h,d=!0,i){(i=mb(i)).result=l;var s=(i.name||"").toLowerCase();"unauthorized"===s||"forbidden"===s?(r.emit("error",i),r.removeAllListeners()):function(e,t,n,r){if(!1===e.retry)return t.emit("error",n),void t.removeAllListeners();if("function"!=typeof e.back_off_function&&(e.back_off_function=Jy),t.emit("requestError",n),"active"===t.state||"pending"===t.state){t.emit("paused",n),t.state="stopped";var l=function(){e.current_back_off=wC};t.once("paused",function(){t.removeListener("active",l)}),t.once("active",l)}e.current_back_off=e.current_back_off||wC,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(r,e.current_back_off)}(n,r,i,function(){CC(e,t,n,r)})}else r.emit("complete",l),r.removeAllListeners()}function O(e,t,l){if(r.cancelled)return M();"number"==typeof t&&(u.pending=t),yb(n)(e)&&(u.seq=e.seq||l,u.changes.push(e),_y()(function(){D(0===o.length&&w.live)}))}function F(e){if(m=!1,r.cancelled)return M();if(e.results.length>0)w.since=e.results[e.results.length-1].seq,T(),D(!0);else{var t=function(){f?(w.live=!0,T()):c=!0,D(!0)};i||0!==e.results.length?t():(a=!0,s.writeCheckpoint(e.last_seq,_).then(function(){a=!1,l.last_seq=h=e.last_seq,t()}).catch(N))}}function A(e){if(m=!1,r.cancelled)return M();I("changes rejected",e)}function T(){if(!m&&!c&&o.length<g){m=!0,r._changes&&(r.removeListener("cancel",r._abortChanges),r._changes.cancel()),r.once("cancel",l);var t=e.changes(w).on("change",O);t.then(i,i),t.then(F).catch(A),n.retry&&(r._changes=t,r._abortChanges=l)}function l(){t.cancel()}function i(){r.removeListener("cancel",l)}}function P(){C().then(function(){if(!r.cancelled)return s.getCheckpoint().then(function(e){w={since:h=e,limit:p,batch_size:p,style:"all_docs",doc_ids:v,selector:y,return_docs:!0},n.filter&&("string"!=typeof n.filter?w.include_docs=!0:w.filter=n.filter),"heartbeat"in n&&(w.heartbeat=n.heartbeat),"timeout"in n&&(w.timeout=n.timeout),n.query_params&&(w.query_params=n.query_params),n.view&&(w.view=n.view),T()});M()}).catch(function(e){I("getCheckpoint rejected with ",e)})}function N(e){a=!1,I("writeCheckpoint completed with error",e)}r.ready(e,t),r.cancelled?M():(r._addedListeners||(r.once("cancel",M),"function"==typeof n.complete&&(r.once("error",n.complete),r.once("complete",function(e){n.complete(null,e)})),r._addedListeners=!0),void 0===n.since?P():C().then(function(){return a=!0,s.writeCheckpoint(n.since,_)}).then(function(){a=!1,r.cancelled?M():(h=n.since,P())}).catch(N))}function kC(){Fy.EventEmitter.call(this),this.cancelled=!1,this.state="pending";var e=this,t=new Promise(function(t,n){e.once("complete",t),e.once("error",n)});e.then=function(e,n){return t.then(e,n)},e.catch=function(e){return t.catch(e)},e.catch(function(){})}function xC(e,t){return"string"==typeof e?new(0,t.PouchConstructor)(e,t):e}function SC(e,t,n,r){if("function"==typeof n&&(r=n,n={}),void 0===n&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw mb(db,"`doc_ids` filter parameter is not a list.");n.complete=r,(n=$y(n)).continuous=n.continuous||n.live,n.retry="retry"in n&&n.retry,n.PouchConstructor=n.PouchConstructor||this;var l=new kC(n);return CC(xC(e,n),xC(t,n),n,l),l}function EC(e,t,n,r){return"function"==typeof n&&(r=n,n={}),void 0===n&&(n={}),(n=$y(n)).PouchConstructor=n.PouchConstructor||this,new DC(e=xC(e,n),t=xC(t,n),n,r)}function DC(e,t,n,r){var l=this;this.canceled=!1;var i=n.push?Yy({},n,n.push):n,s=n.pull?Yy({},n,n.pull):n;function o(e){l.emit("change",{direction:"pull",change:e})}function u(e){l.emit("change",{direction:"push",change:e})}function a(e){l.emit("denied",{direction:"push",doc:e})}function c(e){l.emit("denied",{direction:"pull",doc:e})}function d(){l.pushPaused=!0,l.pullPaused&&l.emit("paused")}function h(){l.pullPaused=!0,l.pushPaused&&l.emit("paused")}function f(){l.pushPaused=!1,l.pullPaused&&l.emit("active",{direction:"push"})}function p(){l.pullPaused=!1,l.pushPaused&&l.emit("active",{direction:"pull"})}this.push=SC(e,t,i),this.pull=SC(t,e,s),this.pushPaused=!0,this.pullPaused=!0;var g={};function m(e){return function(t,n){("change"===t&&(n===o||n===u)||"denied"===t&&(n===c||n===a)||"paused"===t&&(n===h||n===d)||"active"===t&&(n===p||n===f))&&(t in g||(g[t]={}),g[t][e]=!0,2===Object.keys(g[t]).length&&l.removeAllListeners(t))}}function v(e,t,n){-1==e.listeners(t).indexOf(n)&&e.on(t,n)}n.live&&(this.push.on("complete",l.pull.cancel.bind(l.pull)),this.pull.on("complete",l.push.cancel.bind(l.push))),this.on("newListener",function(e){"change"===e?(v(l.pull,"change",o),v(l.push,"change",u)):"denied"===e?(v(l.pull,"denied",c),v(l.push,"denied",a)):"active"===e?(v(l.pull,"active",p),v(l.push,"active",f)):"paused"===e&&(v(l.pull,"paused",h),v(l.push,"paused",d))}),this.on("removeListener",function(e){"change"===e?(l.pull.removeListener("change",o),l.push.removeListener("change",u)):"denied"===e?(l.pull.removeListener("denied",c),l.push.removeListener("denied",a)):"active"===e?(l.pull.removeListener("active",p),l.push.removeListener("active",f)):"paused"===e&&(l.pull.removeListener("paused",h),l.push.removeListener("paused",d))}),this.pull.on("removeListener",m("pull")),this.push.on("removeListener",m("push"));var y=Promise.all([this.push,this.pull]).then(function(e){var t={push:e[0],pull:e[1]};return l.emit("complete",t),r&&r(null,t),l.removeAllListeners(),t},function(e){if(l.cancel(),r?r(e):l.emit("error",e),l.removeAllListeners(),r)throw e});this.then=function(e,t){return y.then(e,t)},this.catch=function(e){return y.catch(e)}}Oy()(kC,Fy.EventEmitter),kC.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},kC.prototype.ready=function(e,t){var n=this;function r(){n.cancel()}n._readyCalled||(n._readyCalled=!0,e.once("destroyed",r),t.once("destroyed",r),n.once("complete",function(){e.removeListener("destroyed",r),t.removeListener("destroyed",r)}))},Oy()(DC,Fy.EventEmitter),DC.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},v_.plugin(function(e){e.adapter("idb",Ew,!0)}).plugin(function(e){e.adapter("http",$w,!1),e.adapter("https",$w,!1)}).plugin(cC).plugin(function(e){e.replicate=SC,e.sync=EC,Object.defineProperty(e.prototype,"replicate",{get:function(){var e=this;return void 0===this.replicateMethods&&(this.replicateMethods={from:function(t,n,r){return e.constructor.replicate(t,e,n,r)},to:function(t,n,r){return e.constructor.replicate(e,t,n,r)}}),this.replicateMethods}}),e.prototype.sync=function(e,t,n){return this.constructor.sync(this,e,t,n)}});var IC=v_,MC=n("yV8l");function OC(e,t,n){Error.call(this,n),this.status=e,this.name=t,this.message=n,this.error=!0}n.n(MC)()(OC,Error),OC.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})},new OC(401,"unauthorized","Name or password is incorrect."),new OC(400,"bad_request","Missing JSON list of 'docs'"),new OC(404,"not_found","missing"),new OC(409,"conflict","Document update conflict"),new OC(400,"bad_request","_id field must contain a string"),new OC(412,"missing_id","_id is required for puts"),new OC(400,"bad_request","Only reserved document ids may start with underscore."),new OC(412,"precondition_failed","Database not open");var FC=new OC(500,"unknown_error","Database encountered an unknown error");function AC(e){if("object"!=typeof e){var t=e;(e=FC).data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),e}new OC(500,"badarg","Some query argument is invalid"),new OC(400,"invalid_request","Request was invalid"),new OC(400,"query_parse_error","Some query parameter is invalid"),new OC(500,"doc_validation","Bad special document member"),new OC(400,"bad_request","Something wrong with the request"),new OC(400,"bad_request","Document must be a JSON object"),new OC(404,"not_found","Database not found"),new OC(500,"indexed_db_went_bad","unknown"),new OC(500,"web_sql_went_bad","unknown"),new OC(500,"levelDB_went_went_bad","unknown"),new OC(403,"forbidden","Forbidden by design doc validate_doc_update function"),new OC(400,"bad_request","Invalid rev format"),new OC(412,"file_exists","The database could not be created, the file already exists."),new OC(412,"missing_stub","A pre-existing attachment stub wasn't found"),new OC(413,"invalid_url","Provided URL is invalid"),"undefined"!=typeof AbortController&&AbortController,fetch;var TC,PC,NC=Headers;function RC(e){return"$"+e}function jC(e){return e.substring(1)}function $C(){this._store={}}function VC(e){if(this._store=new $C,e&&Array.isArray(e))for(var t=0,n=e.length;t<n;t++)this.add(e[t])}$C.prototype.get=function(e){var t=RC(e);return this._store[t]},$C.prototype.set=function(e,t){var n=RC(e);return this._store[n]=t,!0},$C.prototype.has=function(e){return RC(e)in this._store},$C.prototype.delete=function(e){var t=RC(e),n=t in this._store;return delete this._store[t],n},$C.prototype.forEach=function(e){for(var t=Object.keys(this._store),n=0,r=t.length;n<r;n++){var l=t[n];e(this._store[l],l=jC(l))}},Object.defineProperty($C.prototype,"size",{get:function(){return Object.keys(this._store).length}}),VC.prototype.add=function(e){return this._store.set(e,!0)},VC.prototype.has=function(e){return this._store.has(e)},VC.prototype.forEach=function(e){this._store.forEach(function(t,n){e(n)})},Object.defineProperty(VC.prototype,"size",{get:function(){return this._store.size}}),function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(TC=Set,PC=Map):(TC=VC,PC=$C);var LC=function(e){return atob(e)};function qC(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),l=0;l<t;l++)r[l]=e.charCodeAt(l);return n}var BC=-324,UC=3,HC="";function zC(e,t){if(e===t)return 0;e=WC(e),t=WC(t);var n=QC(e),r=QC(t);if(n-r!=0)return n-r;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return function(e,t){return e===t?0:e>t?1:-1}(e,t)}return Array.isArray(e)?function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var l=zC(e[r],t[r]);if(0!==l)return l}return e.length===t.length?0:e.length>t.length?1:-1}(e,t):function(e,t){for(var n=Object.keys(e),r=Object.keys(t),l=Math.min(n.length,r.length),i=0;i<l;i++){var s=zC(n[i],r[i]);if(0!==s)return s;if(0!==(s=zC(e[n[i]],t[r[i]])))return s}return n.length===r.length?0:n.length>r.length?1:-1}(e,t)}function WC(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var n=e.length;e=new Array(n);for(var r=0;r<n;r++)e[r]=WC(t[r])}else{if(e instanceof Date)return e.toJSON();if(null!==e)for(var l in e={},t)if(t.hasOwnProperty(l)){var i=t[l];void 0!==i&&(e[l]=WC(i))}}}return e}function GC(e){return QC(e=WC(e))+HC+function(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return function(e){if(0===e)return"1";var t,n=e.toExponential().split(/e\+?/),r=parseInt(n[1],10),l=e<0,i=l?"0":"2",s=function(e,t,n){for(var r="",l=UC-e.length;r.length<l;)r+="0";return r}(t=((l?-r:r)-BC).toString())+t;i+=HC+s;var o=Math.abs(parseFloat(n[0]));l&&(o=10-o);var u=o.toFixed(20);return u=u.replace(/\.?0+$/,""),i+(HC+u)}(e);case"string":return e.replace(/\u0002/g,"\x02\x02").replace(/\u0001/g,"\x01\x02").replace(/\u0000/g,"\x01\x01");case"object":var t=Array.isArray(e),n=t?e:Object.keys(e),r=-1,l=n.length,i="";if(t)for(;++r<l;)i+=GC(n[r]);else for(;++r<l;){var s=n[r];i+=GC(s)+GC(e[s])}return i}return""}(e)+"\0"}function KC(e,t){var n,r=t;if("1"===e[t])n=0,t++;else{var l="0"===e[t],i="",s=e.substring(++t,t+UC),o=parseInt(s,10)+BC;for(l&&(o=-o),t+=UC;;){var u=e[t];if("\0"===u)break;i+=u,t++}n=1===(i=i.split(".")).length?parseInt(i,10):parseFloat(i[0]+"."+i[1]),l&&(n-=10),0!==o&&(n=parseFloat(n+"e"+o))}return{num:n,length:t-r}}function ZC(e,t){var n=e.pop();if(t.length){var r=t[t.length-1];n===r.element&&(t.pop(),r=t[t.length-1]);var l=r.element,i=r.index;Array.isArray(l)?l.push(n):i===e.length-2?l[e.pop()]=n:e.push(n)}}function QC(e){var t=["boolean","number","string","object"].indexOf(typeof e);return~t?null===e?1:Array.isArray(e)?5:t<3?t+2:t+3:Array.isArray(e)?5:void 0}var JC=n("zu5P"),XC=n.n(JC);function YC(e){return xy.a.hash(e)}n("5Lhs"),global.setImmediate||global;var ek,tk=Function.prototype.toString,nk=tk.call(Object);function rk(e){var t,n,r;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],n=0,r=e.length;n<r;n++)t[n]=rk(e[n]);return t}if(e instanceof Date)return e.toISOString();if(function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}(e))return function(e){if(e instanceof ArrayBuffer)return function(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),r=new Uint8Array(e);return n.set(r),t}(e);var t=e.size,n=e.type;return"function"==typeof e.slice?e.slice(0,t,n):e.webkitSlice(0,t,n)}(e);if(!function(t){var n=Object.getPrototypeOf(e);if(null===n)return!0;var r=n.constructor;return"function"==typeof r&&r instanceof r&&tk.call(r)==nk}())return e;for(n in t={},e)if(Object.prototype.hasOwnProperty.call(e,n)){var l=rk(e[n]);void 0!==l&&(t[n]=l)}return t}function lk(e){return Iy()(function(t){t=rk(t);var n=this,r="function"==typeof t[t.length-1]&&t.pop(),l=new Promise(function(r,l){var i,s,o;try{var u=(s=function(e,t){e?l(e):r(t)},o=!1,Iy()(function(e){if(o)throw new Error("once called more than once");o=!0,s.apply(this,e)}));t.push(u),(i=e.apply(n,t))&&"function"==typeof i.then&&r(i)}catch(qS){l(qS)}});return r&&l.then(function(e){r(null,e)},r),l})}try{localStorage.setItem("_pouch_check_localstorage",1),ek=!!localStorage.getItem("_pouch_check_localstorage")}catch(qS){ek=!1}function ik(){return ek}function sk(){Fy.EventEmitter.call(this),this._listeners={},function(e){ik()&&addEventListener("storage",function(t){e.emit(t.key)})}(this)}function ok(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}XC()(sk,Fy.EventEmitter),sk.prototype.addListener=function(e,t,n,r){if(!this._listeners[t]){var l=this,i=!1;this._listeners[t]=s,this.on(e,s)}function s(){if(l._listeners[t])if(i)i="waiting";else{i=!0;var e=function(e,t){for(var n={},r=0,l=t.length;r<l;r++){var i=t[r];i in e&&(n[i]=e[i])}return n}(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);n.changes(e).on("change",function(e){e.seq>r.since&&!r.cancelled&&(r.since=e.seq,r.onChange(e))}).on("complete",function(){"waiting"===i&&_y()(s),i=!1}).on("error",function(){i=!1})}}},sk.prototype.removeListener=function(e,t){t in this._listeners&&(Fy.EventEmitter.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},sk.prototype.notifyLocalWindows=function(e){ik()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},sk.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var uk="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l])}return t};function ak(e){for(var t=[],n=0,r=e.length;n<r;n++)t=t.concat(e[n]);return t}function ck(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(ok("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function dk(e,t,n){return new Promise(function(r,l){e.get(t,function(i,s){if(i){if(404!==i.status)return l(i);s={}}var o=s._rev,u=n(s);if(!u)return r({updated:!1,rev:o});u._id=t,u._rev=o,r(function(e,t,n){return e.put(t).then(function(e){return{updated:!0,rev:e.rev}},function(r){if(409!==r.status)throw r;return dk(e,t._id,n)})}(e,u,n))})})}var hk=n("kwZD"),fk=n.n(hk);function pk(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,pk)}catch(qS){}}function gk(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,gk)}catch(qS){}}function mk(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,mk)}catch(qS){}}function vk(e,t){return t&&e.then(function(e){_y()(function(){t(null,e)})},function(e){_y()(function(){t(e)})}),e}function yk(e,t){return function(){var n=arguments,r=this;return e.add(function(){return t.apply(r,n)})}}function bk(e){var t=new TC(e),n=new Array(t.size),r=-1;return t.forEach(function(e){n[++r]=e}),n}function _k(e){var t=new Array(e.size),n=-1;return e.forEach(function(e,r){t[++n]=r}),t}function wk(){this.promise=new Promise(function(e){e()})}function Ck(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}function kk(e,t,n,r,l,i){var s,o=function(e,t){return Ck(e)+Ck(t)+"undefined"}(n,r);if(!l&&(s=e._cachedViews=e._cachedViews||{})[o])return s[o];var u=e.info().then(function(u){var a=u.db_name+"-mrview-"+(l?"temp":YC(o));return dk(e,"_local/"+i,function(e){e.views=e.views||{};var n=t;-1===n.indexOf("/")&&(n=t+"/"+t);var r=e.views[n]=e.views[n]||{};if(!r[a])return r[a]=!0,e}).then(function(){return e.registerDependentDatabase(a).then(function(t){var l=t.db;l.auto_compaction=!0;var i={name:a,db:l,sourceDB:e,adapter:e.adapter,mapFun:n,reduceFun:r};return i.db.get("_local/lastSeq").catch(function(e){if(404!==e.status)throw e}).then(function(e){return i.seq=e?e.seq:0,s&&i.db.once("destroyed",function(){delete s[o]}),i})})})});return s&&(s[o]=u),u}fk()(pk,Error),fk()(gk,Error),fk()(mk,Error),wk.prototype.add=function(e){return this.promise=this.promise.catch(function(){}).then(function(){return e()}),this.promise},wk.prototype.finish=function(){return this.promise};var xk={},Sk=new wk,Ek=50;function Dk(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function Ik(e,t){try{e.emit("error",t)}catch(n){ok("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),ok("error",t)}}function Mk(e,t){for(var n=e,r=0,l=t.length;r<l&&(n=n[t[r]]);r++);return n}function Ok(e,t,n){for(var r=0,l=t.length;r<l-1;r++)e=e[t[r]]={};e[t[l-1]]=n}function Fk(e,t){return e<t?-1:e>t?1:0}function Ak(e){for(var t=[],n="",r=0,l=e.length;r<l;r++){var i=e[r];"."===i?r>0&&"\\"===e[r-1]?n=n.substring(0,n.length-1)+".":(t.push(n),n=""):n+=i}return t.push(n),t}var Tk=["$or","$nor","$not"];function Pk(e){return Tk.indexOf(e)>-1}function Nk(e){return Object.keys(e)[0]}function Rk(e){return e[Nk(e)]}function jk(e){var t={};return e.forEach(function(e){Object.keys(e).forEach(function(n){var r=e[n];if("object"!=typeof r&&(r={$eq:r}),Pk(n))t[n]=r instanceof Array?r.map(function(e){return jk([e])}):jk([r]);else{var l=t[n]=t[n]||{};Object.keys(r).forEach(function(e){var t=r[e];return"$gt"===e||"$gte"===e?function(e,t,n){void 0===n.$eq&&(void 0!==n.$gte?"$gte"===e?t>n.$gte&&(n.$gte=t):t>=n.$gte&&(delete n.$gte,n.$gt=t):void 0!==n.$gt?"$gte"===e?t>n.$gt&&(delete n.$gt,n.$gte=t):t>n.$gt&&(n.$gt=t):n[e]=t)}(e,t,l):"$lt"===e||"$lte"===e?function(e,t,n){void 0===n.$eq&&(void 0!==n.$lte?"$lte"===e?t<n.$lte&&(n.$lte=t):t<=n.$lte&&(delete n.$lte,n.$lt=t):void 0!==n.$lt?"$lte"===e?t<n.$lt&&(delete n.$lt,n.$lte=t):t<n.$lt&&(n.$lt=t):n[e]=t)}(e,t,l):"$ne"===e?function(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}(t,l):"$eq"===e?function(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}(t,l):void(l[e]=t)})}})}),t}function $k(e,t,n){return n.every(function(n){var r=t[n],l=Ak(n),i=Mk(e,l);return Pk(n)?function(e,t,n){return"$or"===e?t.some(function(e){return $k(n,e,Object.keys(e))}):"$not"===e?!$k(n,t,Object.keys(t)):!t.find(function(e){return $k(n,e,Object.keys(e))})}(n,r,e):Vk(r,e,l,i)})}function Vk(e,t,n,r){return!e||("object"==typeof e?Object.keys(e).every(function(l){return function(e,t,n,r,l){if(!Uk[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return Uk[e](t,n,r,l)}(l,t,e[l],n,r)}):e===r)}function Lk(e){return null!=e}function qk(e){return void 0!==e}function Bk(e,t){return t.some(function(t){return e instanceof Array?e.indexOf(t)>-1:e===t})}var Uk={$elemMatch:function(e,t,n,r){return!!Array.isArray(r)&&0!==r.length&&r.some("object"==typeof r[0]?function(e){return $k(e,t,Object.keys(t))}:function(r){return Vk(t,e,n,r)})},$allMatch:function(e,t,n,r){return!!Array.isArray(r)&&0!==r.length&&r.every("object"==typeof r[0]?function(e){return $k(e,t,Object.keys(t))}:function(r){return Vk(t,e,n,r)})},$eq:function(e,t,n,r){return qk(r)&&0===zC(r,t)},$gte:function(e,t,n,r){return qk(r)&&zC(r,t)>=0},$gt:function(e,t,n,r){return qk(r)&&zC(r,t)>0},$lte:function(e,t,n,r){return qk(r)&&zC(r,t)<=0},$lt:function(e,t,n,r){return qk(r)&&zC(r,t)<0},$exists:function(e,t,n,r){return t?qk(r):!qk(r)},$mod:function(e,t,n,r){return Lk(r)&&function(e,t){var n=t[0],r=t[1];if(0===n)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(n,10)!==n)throw new Error("Divisor is not an integer");if(parseInt(r,10)!==r)throw new Error("Modulus is not an integer");return parseInt(e,10)===e&&e%n===r}(r,t)},$ne:function(e,t,n,r){return t.every(function(e){return 0!==zC(r,e)})},$in:function(e,t,n,r){return Lk(r)&&Bk(r,t)},$nin:function(e,t,n,r){return Lk(r)&&!Bk(r,t)},$size:function(e,t,n,r){return Lk(r)&&function(e,t){return e.length===t}(r,t)},$all:function(e,t,n,r){return Array.isArray(r)&&function(e,t){return t.every(function(t){return e.indexOf(t)>-1})}(r,t)},$regex:function(e,t,n,r){return Lk(r)&&function(e,t){return new RegExp(t).test(e)}(r,t)},$type:function(e,t,n,r){return function(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}throw new Error(t+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}(r,t)}};function Hk(e){return(e=rk(e)).index||(e.index={}),["type","name","ddoc"].forEach(function(t){e.index[t]&&(e[t]=e.index[t],delete e.index[t])}),e.fields&&(e.index.fields=e.fields,delete e.fields),e.type||(e.type="json"),e}function zk(e,t,n,r){var l,i;n.headers=new NC({"Content-type":"application/json"}),e.fetch(t,n).then(function(e){return l=e.status,i=e.ok,e.json()}).then(function(e){if(i)r(null,e);else{e.status=l;var t=AC(e);r(t)}}).catch(r)}function Wk(e){return function(){for(var t=arguments.length,n=new Array(t),r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}}function Gk(e){return Wk(function(t){var n=t.pop(),r=e.apply(this,t);return function(e,t){e.then(function(e){_y()(function(){t(null,e)})},function(e){_y()(function(){t(e)})})}(r,n),r})}var Kk=Wk(function(e){for(var t=[],n=0,r=e.length;n<r;n++){var l=e[n];Array.isArray(l)?t=t.concat(Kk.apply(null,l)):t.push(l)}return t});function Zk(e){for(var t={},n=0,r=e.length;n<r;n++)t=uk(t,e[n]);return t}function Qk(e,t){for(var n=0,r=Math.min(e.length,t.length);n<r;n++)if(e[n]!==t[n])return!1;return!0}function Jk(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}var Xk=function(e,t,n,r){function l(e,t,n){try{t(n)}catch(qS){Ik(e,qS)}}function i(e,t,n,r,l){try{return{output:t(n,r,l)}}catch(qS){return Ik(e,qS),{error:qS}}}function s(e,t){var n=zC(e.key,t.key);return 0!==n?n:zC(e.value,t.value)}function o(e,t,n){return n=n||0,"number"==typeof t?e.slice(n,t+n):n>0?e.slice(n):e}function u(e){var t=e.value;return t&&"object"==typeof t&&t._id||e.id}function a(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&function(e){e.rows.forEach(function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach(function(e){var n,r=t[e];t[e].data=(n=r.content_type,function(e,t){return function(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(qS){if("TypeError"!==qS.name)throw qS;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}([qC(e)],{type:t})}(LC(r.data),n))})})}(t),t}}function c(e,t,n,r){var l=t[e];void 0!==l&&(r&&(l=encodeURIComponent(JSON.stringify(l))),n.push(e+"="+l))}function d(e){if(void 0!==e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function h(e,t){var n=e.descending?"endkey":"startkey",r=e.descending?"startkey":"endkey";if(void 0!==e[n]&&void 0!==e[r]&&zC(e[n],e[r])>0)throw new pk("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new pk("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new pk("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(t){var n=function(e){if(e){if("number"!=typeof e)return new pk('Invalid value for integer: "'+e+'"');if(e<0)return new pk('Invalid value for positive integer: "'+e+'"')}}(e[t]);if(n)throw n})}function f(e){return function(t){if(404===t.status)return e;throw t}}function p(e){var t="string"==typeof e?e:e.name,n=xk[t];return n||(n=xk[t]=new wk),n}function g(e){return yk(p(e),function(){return function(e){var n,r,i=t(e.mapFun,function(e,t){var l={id:r._id,key:WC(e)};null!=t&&(l.value=WC(t)),n.push(l)}),o=e.seq||0;var u=new wk;function a(){return e.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:o,limit:Ek}).then(c)}function c(t){var c=t.results;if(c.length){var h=function(t){for(var u=new PC,a=0,c=t.length;a<c;a++){var h=t[a];if("_"!==h.doc._id[0]){n=[],(r=h.doc)._deleted||l(e.sourceDB,i,r),n.sort(s);var f=d(n);u.set(h.doc._id,[f,h.changes])}o=h.seq}return u}(c);if(u.add(function(t,n){return function(){return function(e,t,n){return e.db.get("_local/lastSeq").catch(f({_id:"_local/lastSeq",seq:0})).then(function(r){var l=_k(t);return Promise.all(l.map(function(n){return function(e,t,n){var r,l="_local/doc_"+e,i={_id:l,keys:[]},s=n.get(e),o=s[0];return(r=s[1],1===r.length&&/^1-/.test(r[0].rev)?Promise.resolve(i):t.db.get(l).catch(f(i))).then(function(e){return function(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):Promise.resolve({rows:[]})}(e).then(function(t){return function(e,t){for(var n=[],r=new TC,l=0,i=t.rows.length;l<i;l++){var s=t.rows[l].doc;if(s&&(n.push(s),r.add(s._id),s._deleted=!o.has(s._id),!s._deleted)){var u=o.get(s._id);"value"in u&&(s.value=u.value)}}var a=_k(o);return a.forEach(function(e){if(!r.has(e)){var t={_id:e},l=o.get(e);"value"in l&&(t.value=l.value),n.push(t)}}),e.keys=bk(a.concat(e.keys)),n.push(e),n}(e,t)})})}(n,e,t)})).then(function(t){var l=ak(t);return r.seq=n,l.push(r),e.db.bulkDocs({docs:l})})})}(e,t,n)}}(h,o)),!(c.length<Ek))return a()}}function d(e){for(var t,n=new PC,r=0,l=e.length;r<l;r++){var i=e[r],s=[i.key,i.id];r>0&&0===zC(i.key,t)&&s.push(r),n.set(GC(s),i),t=i.key}return n}return a().then(function(){return u.finish()}).then(function(){e.seq=o})}(e)})()}function m(e,t){return yk(p(e),function(){return function(e,t){var r,l=e.reduceFun&&!1!==t.reduce,s=t.skip||0;function a(t){return t.include_docs=!0,e.db.allDocs(t).then(function(e){return r=e.total_rows,e.rows.map(function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(t<n||t>n))return e.doc.value}var r=function(e){for(var t=[],n=[],r=0;;){var l=e[r++];if("\0"!==l)switch(l){case"1":t.push(null);break;case"2":t.push("1"===e[r]),r++;break;case"3":var i=KC(e,r);t.push(i.num),r+=i.length;break;case"4":for(var s="";;){var o=e[r];if("\0"===o)break;s+=o,r++}s=s.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"\x01").replace(/\u0002\u0002/g,"\x02"),t.push(s);break;case"5":var u={element:[],index:t.length};t.push(u.element),n.push(u);break;case"6":var a={element:{},index:t.length};t.push(a.element),n.push(a);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+l)}else{if(1===t.length)return t.pop();ZC(t,n)}}}(e.doc._id);return{key:r[0],id:r[1],value:"value"in e.doc?e.doc.value:null}})})}function c(a){var c;if(c=l?function(e,t,r){0===r.group_level&&delete r.group_level;var l=r.group||r.group_level,s=n(e.reduceFun),u=[],a=isNaN(r.group_level)?Number.POSITIVE_INFINITY:r.group_level;t.forEach(function(e){var t=u[u.length-1],n=l?e.key:null;if(l&&Array.isArray(n)&&(n=n.slice(0,a)),t&&0===zC(t.groupKey,n))return t.keys.push([e.key,e.id]),void t.values.push(e.value);u.push({keys:[[e.key,e.id]],values:[e.value],groupKey:n})}),t=[];for(var c=0,d=u.length;c<d;c++){var h=u[c],f=i(e.sourceDB,s,h.keys,h.values,!1);if(f.error&&f.error instanceof mk)throw f.error;t.push({value:f.error?null:f.output,key:h.groupKey})}return{rows:o(t,r.limit,r.skip)}}(e,a,t):{total_rows:r,offset:s,rows:a},t.update_seq&&(c.update_seq=e.seq),t.include_docs){var d=bk(a.map(u));return e.sourceDB.allDocs({keys:d,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then(function(e){var t=new PC;return e.rows.forEach(function(e){t.set(e.id,e.doc)}),a.forEach(function(e){var n=u(e),r=t.get(n);r&&(e.doc=r)}),c})}return c}if(void 0===t.keys||t.keys.length||(t.limit=0,delete t.keys),void 0!==t.keys){var d=t.keys.map(function(e){var n={startkey:GC([e]),endkey:GC([e,{}])};return t.update_seq&&(n.update_seq=!0),a(n)});return Promise.all(d).then(ak).then(c)}var h,f,p={descending:t.descending};if(t.update_seq&&(p.update_seq=!0),"start_key"in t&&(h=t.start_key),"startkey"in t&&(h=t.startkey),"end_key"in t&&(f=t.end_key),"endkey"in t&&(f=t.endkey),void 0!==h&&(p.startkey=GC(t.descending?[h,{}]:[h])),void 0!==f){var g=!1!==t.inclusive_end;t.descending&&(g=!g),p.endkey=GC(g?[f,{}]:[f])}if(void 0!==t.key){var m=GC([t.key]),v=GC([t.key,{}]);p.descending?(p.endkey=m,p.startkey=v):(p.startkey=m,p.endkey=v)}return l||("number"==typeof t.limit&&(p.limit=t.limit),p.skip=s),a(p).then(c)}(e,t)})()}var v;return{query:function(e,t,n){var r=this;"function"==typeof t&&(n=t,t={}),t=t?function(e){return e.group_level=d(e.group_level),e.limit=d(e.limit),e.skip=d(e.skip),e}(t):{},"function"==typeof e&&(e={map:e});var l=Promise.resolve().then(function(){return function(e,t,n){if("function"==typeof e._query)return function(e,t,n){return new Promise(function(r,l){e._query(t,n,function(e,t){if(e)return l(e);r(t)})})}(e,t,n);if(ck(e))return function(e,t,n){var r,l,i,s=[],o="GET";if(c("reduce",n,s),c("include_docs",n,s),c("attachments",n,s),c("limit",n,s),c("descending",n,s),c("group",n,s),c("group_level",n,s),c("skip",n,s),c("stale",n,s),c("conflicts",n,s),c("startkey",n,s,!0),c("start_key",n,s,!0),c("endkey",n,s,!0),c("end_key",n,s,!0),c("inclusive_end",n,s),c("key",n,s,!0),c("update_seq",n,s),s=""===(s=s.join("&"))?"":"?"+s,void 0!==n.keys){var u="keys="+encodeURIComponent(JSON.stringify(n.keys));u.length+s.length+1<=2e3?s+=("?"===s[0]?"&":"?")+u:(o="POST","string"==typeof t?r={keys:n.keys}:t.keys=n.keys)}if("string"==typeof t){var d=Dk(t);return e.fetch("_design/"+d[0]+"/_view/"+d[1]+s,{headers:new NC({"Content-Type":"application/json"}),method:o,body:JSON.stringify(r)}).then(function(e){return l=e.ok,i=e.status,e.json()}).then(function(e){if(!l)throw e.status=i,AC(e);return e.rows.forEach(function(e){if(e.value&&e.value.error&&"builtin_reduce_error"===e.value.error)throw new Error(e.reason)}),e}).then(a(n))}return r=r||{},Object.keys(t).forEach(function(e){r[e]=Array.isArray(t[e])?t[e]:t[e].toString()}),e.fetch("_temp_view"+s,{headers:new NC({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(r)}).then(function(e){return l=e.ok,i=e.status,e.json()}).then(function(e){if(!l)throw e.status=i,AC(e);return e}).then(a(n))}(e,t,n);if("string"!=typeof t)return h(n,t),Sk.add(function(){return kk(e,"temp_view/temp_view",t.map,t.reduce,!0,"indexes").then(function(e){return t=g(e).then(function(){return m(e,n)}),r=function(){return e.db.destroy()},t.then(function(e){return r().then(function(){return e})},function(e){return r().then(function(){throw e})});var t,r})}),Sk.finish();var r=t,l=Dk(r),i=l[1];return e.get("_design/"+l[0]).then(function(t){var l=t.views&&t.views[i];if(!l)throw new gk("ddoc "+t._id+" has no view named "+i);return function(e,t){var n=e.views[t];if(!n.map||!n.map.fields)throw new Error("ddoc "+e._id+" with view "+t+" doesn't have map.fields defined. maybe it wasn't created by this plugin?")}(t,i),h(n,l),kk(e,r,l.map,l.reduce,!1,"indexes").then(function(e){return"ok"===n.stale||"update_after"===n.stale?("update_after"===n.stale&&_y()(function(){g(e)}),m(e,n)):g(e).then(function(){return m(e,n)})})})}(r,e,t)});return vk(l,n),l},viewCleanup:(v=function(){var e=this;return"function"==typeof e._viewCleanup?function(e){return new Promise(function(t,n){e._viewCleanup(function(e,r){if(e)return n(e);t(r)})})}(e):ck(e)?function(e){return e.fetch("_view_cleanup",{headers:new NC({"Content-Type":"application/json"}),method:"POST"}).then(function(e){return e.json()})}(e):function(e){return e.get("_local/indexes").then(function(t){var n=new PC;Object.keys(t.views).forEach(function(e){var t=Dk(e),r="_design/"+t[0],l=t[1],i=n.get(r);i||(i=new TC,n.set(r,i)),i.add(l)});var r={keys:_k(n),include_docs:!0};return e.allDocs(r).then(function(r){var l={};r.rows.forEach(function(e){var r=e.key.substring(8);n.get(e.key).forEach(function(n){var i=r+"/"+n;t.views[i]||(i=n);var s=Object.keys(t.views[i]),o=e.doc&&e.doc.views&&e.doc.views[n];s.forEach(function(e){l[e]=l[e]||o})})});var i=Object.keys(l).filter(function(e){return!l[e]}).map(function(t){return yk(p(t),function(){return new e.constructor(t,e.__opts).destroy()})()});return Promise.all(i).then(function(){return{ok:!0}})})},f({ok:!0}))}(e)},Iy()(function(e){var t=e.pop(),n=v.apply(this,e);return"function"==typeof t&&vk(n,t),n}))}}(0,function(e,t){return function(e,t){var n=function(e){for(var t=0,n=e.length;t<n;t++)if(-1!==e[t].indexOf("."))return!1;return!0}(e),r=1===e.length;return n?r?function(e,t){return function(n){t(n[e])}}(e[0],t):function(e,t){return function(n){for(var r=[],l=0,i=e.length;l<i;l++)r.push(n[e[l]]);t(r)}}(e,t):r?function(t,n){var r=Ak(e[0]);return function(e){for(var t=e,l=0,i=r.length;l<i;l++)if(void 0===(t=t[r[l]]))return;n(t)}}(0,t):function(e,t){return function(n){for(var r=[],l=0,i=e.length;l<i;l++){for(var s=Ak(e[l]),o=n,u=0,a=s.length;u<a;u++)if(void 0===(o=o[s[u]]))return;r.push(o)}t(r)}}(e,t)}(Object.keys(e.fields),t)},function(){throw new Error("reduce not supported")});function Yk(e){return e._customFindAbstractMapper||Xk}function ex(e){return e.fields=e.fields.map(function(e){if("string"==typeof e){var t={};return t[e]="asc",t}return e}),e}function tx(e,t){for(var n=[],r=0;r<t.def.fields.length;r++){var l=Nk(t.def.fields[r]);n.push(e[l])}return n}function nx(e){return e.allDocs({startkey:"_design/",endkey:"_design/\uffff",include_docs:!0}).then(function(e){var t={indexes:[{ddoc:null,name:"_all_docs",type:"special",def:{fields:[{_id:"asc"}]}}]};return t.indexes=Kk(t.indexes,e.rows.filter(function(e){return"query"===e.doc.language}).map(function(e){return(void 0!==e.doc.views?Object.keys(e.doc.views):[]).map(function(t){return{ddoc:e.id,name:t,type:"json",def:ex(e.doc.views[t].options.def)}})})),t.indexes.sort(function(e,t){return Fk(e.name,t.name)}),t.total_rows=t.indexes.length,t})}var rx=null,lx={"\uffff":{}};function ix(e,t){for(var n=e.def.fields.map(Nk),r=0,l=n.length;r<l;r++)if(t===n[r])return!0;return!1}function sx(e,t){return"$eq"!==Nk(e[t])}function ox(e,t){var n=t.def.fields.map(Nk);return e.slice().sort(function(e,t){var r=n.indexOf(e),l=n.indexOf(t);return-1===r&&(r=Number.MAX_VALUE),-1===l&&(l=Number.MAX_VALUE),Fk(r,l)})}function ux(e,t,n,r){var l=Kk(e,function(e,t,n){for(var r=!1,l=0,i=(n=ox(n,e)).length;l<i;l++){var s=n[l];if(r||!ix(e,s))return n.slice(l);l<i-1&&sx(t,s)&&(r=!0)}return[]}(t,n,r),function(e){var t=[];return Object.keys(e).forEach(function(n){Object.keys(e[n]).forEach(function(e){"$ne"===e&&t.push(n)})}),t}(n));return ox(function(e){for(var t={},n=0;n<e.length;n++)t["$"+e[n]]=!0;return Object.keys(t).map(function(e){return e.substring(1)})}(l),t)}var ax=["$eq","$gt","$gte","$lt","$lte"];function cx(e){return-1===ax.indexOf(e)}function dx(e,t){switch(e){case"$eq":return{startkey:t,endkey:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}}function hx(e,t){var n=e.selector,r=function(e,t){var n,r=Object.keys(e),l=t?t.map(Nk):[];return n=r.length>=l.length?r:l,0===l.length?{fields:n}:{fields:n=n.sort(function(e,t){var n=l.indexOf(e);-1===n&&(n=Number.MAX_VALUE);var r=l.indexOf(t);return-1===r&&(r=Number.MAX_VALUE),n<r?-1:n>r?1:0}),sortOrder:t.map(Nk)}}(n,e.sort),l=r.fields,i=function(e,t,n,l,i){var s=function(e,t,n,r){return r.reduce(function(r,l){return function(e,t,n,r){var l=e.def.fields.map(Nk);return!!function(e,t,n){if(t){var r=!((i=t).length>(s=e).length)&&Qk(i,s),l=Qk(n,e);return r&&l}var i,s;return function(e,t){e=e.slice();for(var n=0,r=t.length;n<r;n++){var l=t[n];if(!e.length)break;var i=e.indexOf(l);if(-1===i)return!1;e.splice(i,1)}return!0}(n,e)}(l,t,n)&&function(e,t){var n=t[e[0]];return void 0===n||!(1===Object.keys(n).length&&"$ne"===Nk(n))}(l,r)}(l,n,t,e)&&r.push(l),r},[])}(e,t,r.sortOrder,l);if(0===s.length){if(i)throw{error:"no_usable_index",message:"There is no index available for this selector."};var o=l[0];return o.defaultUsed=!0,o}if(1===s.length&&!i)return s[0];var u=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e[n]]=!0;return t}(t);if(i){var a="_design/"+i[0],c=2===i.length&&i[1],d=s.find(function(e){return!(!c||e.ddoc!==a||c!==e.name)||e.ddoc===a});if(!d)throw{error:"unknown_error",message:"Could not find that index or could not use that index for the query"};return d}return function(e,t){for(var n=null,r=-1,l=0,i=e.length;l<i;l++){var s=e[l],o=t(s);o>r&&(r=o,n=s)}return n}(s,function(e){for(var t=e.def.fields.map(Nk),n=0,r=0,l=t.length;r<l;r++)u[t[r]]&&n++;return n})}(n,l,0,t,e.use_index),s=function(e,t){return t.defaultUsed?function(e){return{queryOpts:{startkey:null},inMemoryFields:[Object.keys(e)]}}(e):1===t.def.fields.length?function(e,t){var n,r=Nk(t.def.fields[0]),l=e[r]||{},i=[];return Object.keys(l).forEach(function(e){cx(e)&&i.push(r);var t=function(e,t){switch(e){case"$eq":return{key:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}return{startkey:rx}}(e,l[e]);n=n?Zk([n,t]):t}),{queryOpts:n,inMemoryFields:i}}(e,t):function(e,t){var n,r,l=t.def.fields.map(Nk),i=[],s=[],o=[];function u(e){!1!==n&&s.push(rx),!1!==r&&o.push(lx),i=l.slice(e)}for(var a=0,c=l.length;a<c;a++){var d=e[l[a]];if(!d||!Object.keys(d).length){u(a);break}if(a>0){if(Object.keys(d).some(cx)){u(a);break}var h="$gt"in d||"$gte"in d||"$lt"in d||"$lte"in d,f=Object.keys(e[l[a-1]]),p=Jk(f,["$eq"]),g=Jk(f,Object.keys(d));if(h&&!p&&!g){u(a);break}}for(var m=Object.keys(d),v=null,y=0;y<m.length;y++){var b=m[y],_=dx(b,d[b]);v=v?Zk([v,_]):_}s.push("startkey"in v?v.startkey:rx),o.push("endkey"in v?v.endkey:lx),"inclusive_start"in v&&(n=v.inclusive_start),"inclusive_end"in v&&(r=v.inclusive_end)}var w={startkey:s,endkey:o};return void 0!==n&&(w.inclusive_start=n),void 0!==r&&(w.inclusive_end=r),{queryOpts:w,inMemoryFields:i}}(e,t)}(n,i);return{queryOpts:s.queryOpts,index:i,inMemoryFields:ux(s.inMemoryFields,i,n,l)}}function fx(e,t,n){var r,l;return t.selector&&(t.selector=function(e){var n=rk(t.selector),r=!1;(function e(t,n){for(var r in t){"$and"===r&&(n=!0);var l=t[r];"object"==typeof l&&(n=e(l,n))}return n})(n,!1)&&("$and"in(n=function e(t){for(var n in t){if(Array.isArray(t))for(var r in t)t[r].$and&&(t[r]=jk(t[r].$and));var l=t[n];"object"==typeof l&&e(l)}return t}(n))&&(n=jk(n.$and)),r=!0),["$or","$nor"].forEach(function(e){e in n&&n[e].forEach(function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var r=t[n],l=e[r];"object"==typeof l&&null!==l||(e[r]={$eq:l})}})}),"$not"in n&&(n.$not=jk([n.$not]));for(var l=Object.keys(n),i=0;i<l.length;i++){var s=l[i],o=n[s];"object"!=typeof o||null===o?o={$eq:o}:"$ne"in o&&!r&&(o.$ne=[o.$ne]),n[s]=o}return n}()),t.sort&&(t.sort=function(e){if(!Array.isArray(e))throw new Error("invalid sort json - should be an array");return e.map(function(e){if("string"==typeof e){var t={};return t[e]="asc",t}return e})}(t.sort)),t.use_index&&(t.use_index=(l=[],"string"==typeof(r=t.use_index)?l.push(r):l=r,l.map(function(e){return e.replace("_design/","")}))),function(e){if("object"!=typeof e.selector)throw new Error("you must provide a selector when you find()")}(t),nx(e).then(function(r){e.constructor.emit("debug",["find","planning query",t]);var l=hx(t,r.indexes);e.constructor.emit("debug",["find","query plan",l]);var i=l.index;!function(e,t){if(i.defaultUsed&&e.sort){var n=e.sort.filter(function(e){return"_id"!==Object.keys(e)[0]}).map(function(e){return Object.keys(e)[0]});if(n.length>0)throw new Error('Cannot sort on field(s) "'+n.join(",")+'" when using the default index')}}(t);var s=uk({include_docs:!0,reduce:!1},l.queryOpts);return"startkey"in s&&"endkey"in s&&zC(s.startkey,s.endkey)>0?{docs:[]}:(t.sort&&"string"!=typeof t.sort[0]&&"desc"===Rk(t.sort[0])&&(s.descending=!0,s=function(e){var t=rk(e);return delete t.startkey,delete t.endkey,delete t.inclusive_start,delete t.inclusive_end,"endkey"in e&&(t.startkey=e.endkey),"startkey"in e&&(t.endkey=e.startkey),"inclusive_start"in e&&(t.inclusive_end=e.inclusive_start),"inclusive_end"in e&&(t.inclusive_start=e.inclusive_end),t}(s)),l.inMemoryFields.length||("limit"in t&&(s.limit=t.limit),"skip"in t&&(s.skip=t.skip)),n?Promise.resolve(l,s):Promise.resolve().then(function(){if("_all_docs"===i.name)return function(e,t){var n=rk(t);return n.descending?("endkey"in n&&"string"!=typeof n.endkey&&(n.endkey=""),"startkey"in n&&"string"!=typeof n.startkey&&(n.limit=0)):("startkey"in n&&"string"!=typeof n.startkey&&(n.startkey=""),"endkey"in n&&"string"!=typeof n.endkey&&(n.limit=0)),"key"in n&&"string"!=typeof n.key&&(n.limit=0),e.allDocs(n).then(function(e){return e.rows=e.rows.filter(function(e){return!/^_design\//.test(e.id)}),e})}(e,s);var t,n=(t=i).ddoc.substring(8)+"/"+t.name;return Yk(e).query.call(e,n,s)}).then(function(e){!1===s.inclusive_start&&(e.rows=function(e,t,n){for(var r=n.def.fields,l=0,i=e.length;l<i;l++){var s=tx(e[l].doc,n);if(1===r.length)s=s[0];else for(;s.length>t.length;)s.pop();if(Math.abs(zC(s,t))>0)break}return l>0?e.slice(l):e}(e.rows,s.startkey,i)),l.inMemoryFields.length&&(e.rows=function(e,t,n){if(e=e.filter(function(e){return $k(e.doc,t.selector,n)}),t.sort){var r=function(e){function t(t){return e.map(function(e){var n=Ak(Nk(e));return Mk(t,n)})}return function(e,n){var r=zC(t(e.doc),t(n.doc));return 0!==r?r:Fk(e.doc._id,n.doc._id)}}(t.sort);e=e.sort(r),"string"!=typeof t.sort[0]&&"desc"===Rk(t.sort[0])&&(e=e.reverse())}if("limit"in t||"skip"in t){var l=t.skip||0;e=e.slice(l,("limit"in t?t.limit:e.length)+l)}return e}(e.rows,t,l.inMemoryFields));var n={docs:e.rows.map(function(e){var n=e.doc;return t.fields?function(e,t){for(var n={},r=0,l=t.length;r<l;r++){var i=Ak(t[r]),s=Mk(e,i);void 0!==s&&Ok(n,i,s)}return n}(n,t.fields):n})};return i.defaultUsed&&(n.warning="no matching index found, create an index to optimize query time"),n}))})}var px=Gk(function(e,t){var n,r=rk((t=Hk(t)).index);function l(){return n||(n=YC(JSON.stringify(t)))}t.index=ex(t.index),function(e){var t=e.fields.filter(function(e){return"asc"===Rk(e)});if(0!==t.length&&t.length!==e.fields.length)throw new Error("unsupported mixed sorting")}(t.index);var i=t.name||"idx-"+l(),s=t.ddoc||"idx-"+l(),o="_design/"+s,u=!1,a=!1;return e.constructor.emit("debug",["find","creating index",o]),dk(e,o,function(e){return e._rev&&"query"!==e.language&&(u=!0),e.language="query",e.views=e.views||{},!(a=!!e.views[i])&&(e.views[i]={map:{fields:Zk(t.index.fields)},reduce:"_count",options:{def:r}},e)}).then(function(){if(u)throw new Error('invalid language for ddoc with id "'+o+'" (should be "query")')}).then(function(){var t=s+"/"+i;return Yk(e).query.call(e,t,{limit:0,reduce:!1}).then(function(){return{id:o,name:i,result:a?"exists":"created"}})})}),gx=Gk(fx),mx=Gk(function(e,t){return fx(e,t,!0).then(function(n){return{dbname:e.name,index:n.index,selector:t.selector,range:{start_key:n.queryOpts.startkey,end_key:n.queryOpts.endkey},opts:{use_index:t.use_index||[],bookmark:"nil",limit:t.limit,skip:t.skip,sort:t.sort||{},fields:t.fields,conflicts:!1,r:[49]},limit:t.limit,skip:t.skip||0,fields:t.fields}})}),vx=Gk(nx),yx=Gk(function(e,t){if(!t.ddoc)throw new Error("you must supply an index.ddoc when deleting");if(!t.name)throw new Error("you must supply an index.name when deleting");var n=t.ddoc,r=t.name;return dk(e,n,function(e){return 1===Object.keys(e.views).length&&e.views[r]?{_id:n,_deleted:!0}:(delete e.views[r],e)}).then(function(){return Yk(e).viewCleanup.apply(e)}).then(function(){return{ok:!0}})}),bx={};bx.createIndex=lk(function(e,t){if("object"!=typeof e)return t(new Error("you must provide an index to create"));(ck(this)?function(e,t,n){t=Hk(t),zk(e,"_index",{method:"POST",body:JSON.stringify(t)},n)}:px)(this,e,t)}),bx.find=lk(function(e,t){if(void 0===t&&(t=e,e=void 0),"object"!=typeof e)return t(new Error("you must provide search parameters to find()"));(ck(this)?function(e,t,n){zk(e,"_find",{method:"POST",body:JSON.stringify(t)},n)}:gx)(this,e,t)}),bx.explain=lk(function(e,t){if(void 0===t&&(t=e,e=void 0),"object"!=typeof e)return t(new Error("you must provide search parameters to explain()"));(ck(this)?function(e,t,n){zk(e,"_explain",{method:"POST",body:JSON.stringify(t)},n)}:mx)(this,e,t)}),bx.getIndexes=lk(function(e){(ck(this)?function(e,t){zk(e,"_index",{method:"GET"},t)}:vx)(this,e)}),bx.deleteIndex=lk(function(e,t){if("object"!=typeof e)return t(new Error("you must provide an index to delete"));(ck(this)?function(e,t,n){var r=t.ddoc,l=t.name;return r?l?void zk(e,"_index/"+[r,t.type||"json",l].map(encodeURIComponent).join("/"),{method:"DELETE"},n):n(new Error("you must provide an index's name")):n(new Error("you must provide an index's ddoc"))}:yx)(this,e,t)});var _x=bx;let wx=(()=>{class e{constructor(){this.databaseName="bmdl-feature-modeler",IC.plugin(_x),this.db=new IC(this.databaseName),this.db.info().then((function(e){console.log("Database connection: "+e)}).bind(this)),this.getFeatureModelList().then(e=>{console.log("Res: "+JSON.stringify(e))},e=>{console.log("Err: "+e)})}getDatabaseInfo(){return this.db.info()}getFeatureModelList(){return this.db.find({selector:{},fields:["_id","name","description"]})}getFeatureModel(e){return this.db.get(e)}addFeatureModel(e,t){var n={name:e,description:t,featureIdCounter:10,businessModelIdCounter:1,features:[this.createFeatureByParameter(1,"Value Proposition"),this.createFeatureByParameter(2,"Customer Segment"),this.createFeatureByParameter(3,"Customer Relationships"),this.createFeatureByParameter(4,"Customer Channels"),this.createFeatureByParameter(5,"Key Partners"),this.createFeatureByParameter(6,"Key Activities"),this.createFeatureByParameter(7,"Key Resources"),this.createFeatureByParameter(8,"Revenue Streams"),this.createFeatureByParameter(9,"Cost Structure")],featureMap:{1:"Value Proposition",2:"Customer Segments",3:"Customer Relationships",4:"Customer Channel",5:"Key Partners",6:"Key Activities",7:"Key Resources",8:"Revenue Streams",9:"Cost Structure"},businessModelMap:{}};return this.db.post(n)}deleteFeatureModel(e){return this.db.get(e).then(e=>this.db.remove(e))}updateFeatureModel(e,t,n){return this.db.get(e).then(e=>(e.name=t,e.description=n,this.db.put(e)))}addBusinessDecision(e,t,n){return this.db.get(e).then(e=>(e=this.updateFeatureHandler(e=e,t,e=>((e=e).businessModelIds.push(parseInt(n.toString())),e)),this.db.put(e)))}removeBusinessDecision(e,t,n){return this.db.get(e).then(e=>{var r=this.getFeatureWithParentFromModel(e=e,t.toString()),l=this.listSubfeatureIdsHelper(r.features);l.push(t);for(var i=(e,t)=>((t=t).businessModelIds=t.businessModelIds.filter(function(t){return t!==parseInt(e.toString())}),t),s=0;s<l.length;s++)e=this.updateFeatureHandler(e,l[s],i.bind(null,n));return this.db.put(e)})}addBusinessModel(e,t){return this.db.get(e).then(e=>{e=e;for(var n=0;n<e.features.length;n++)e.features[n].businessModelIds.push(e.businessModelIdCounter);return e.businessModelMap[e.businessModelIdCounter]=t,e.businessModelIdCounter=e.businessModelIdCounter+1,this.db.put(e)})}updateBusinessModel(e,t,n){return this.db.get(e).then(e=>((e=e).businessModelMap[t]=n,this.db.put(e)))}deleteBusinessModel(e,t){return this.db.get(e).then(e=>{e=e;for(var n=[],r=0;r<e.features.length;r++)n.push(e.features[e.features.length-1-r]);for(;n.length>0;){var l=n.pop();if(l.businessModelIds=l.businessModelIds.filter(function(e){return e!==parseInt(t.toString())}),l.features)for(r=0;r<l.features.length;r++)n.push(l.features[l.features.length-1-r])}return delete e.businessModelMap[t],this.db.put(e)})}addDependency(e,t,n,r){return this.db.get(e).then(e=>(e=this.dependencyModificationHelper(e=e,t,n,r,(e,t,n)=>((n=n)[e].push(parseInt(t.toString())),n)),this.db.put(e)))}deleteDependency(e,t,n,r){return this.db.get(e).then(e=>(e=this.dependencyModificationHelper(e=e,t,n,r,(e,t,n)=>((n=n)[e]=n[e].filter(function(e){return e!==t}),n)),this.db.put(e)))}dependencyModificationHelper(e,t,n,r,l){return e=e,"requiringDependencyTo"==t?(e=this.updateFeatureHandler(e,r,l.bind(null,"requiringDependencyFrom",n)),e=this.updateFeatureHandler(e,n,l.bind(null,"requiringDependencyTo",r))):"requiringDependencyFrom"==t?(e=this.updateFeatureHandler(e,r,l.bind(null,"requiringDependencyTo",n)),e=this.updateFeatureHandler(e,n,l.bind(null,"requiringDependencyFrom",r))):(e=this.updateFeatureHandler(e,r,l.bind(null,"excludingDependency",n)),e=this.updateFeatureHandler(e,n,l.bind(null,"excludingDependency",r))),e}getFeatureWithParent(e,t){return this.db.get(e).then(e=>this.getFeatureWithParentFromModel(e,t))}getFeatureWithParentFromModel(e,t){for(var n=[],r=!1,l=0;l<e.features.length;l++)(s=e.features[e.features.length-1-l]).parentId=0,n.push(s);for(;n.length>0&&!r;){var i=n.pop();if(i.id==t)return r=!0,i;if(i.features)for(l=0;l<i.features.length;l++){var s;(s=i.features[i.features.length-1-l]).parentId=i.id,n.push(s)}}}deleteFeature(e,t){return this.db.get(e).then(e=>{var n=this.getFeatureWithParentFromModel(e=e,t.toString()),r=this.listSubfeatureIdsHelper(n.features);return r.push(t),delete e.featureMap[t],e=this.deleteFeatureAndDependeciesHelper(e,r,t),this.db.put(e)})}deleteFeatureAndDependeciesHelper(e,t,n){for(var r=e,l=[],i=!1,s=-1,o=0;o<r.features.length;o++)l.push(a=r.features[o]);for(;l.length>0&&!i;){var u=l.pop();if(u.requiringDependencyFrom=u.requiringDependencyFrom.filter(function(e){return!t.includes(e)}),u.requiringDependencyTo=u.requiringDependencyTo.filter(function(e){return!t.includes(e)}),u.excludingDependency=u.excludingDependency.filter(function(e){return!t.includes(e)}),u.features)for(o=0;o<u.features.length;o++){var a;(a=u.features[o]).id==n?(i=!0,s=o):l.push(a),i&&(u.features.splice(s,1),i=!1)}}return r}listSubfeatureIdsHelper(e){for(var t=[],n=[],r=0;r<e.length;r++)t.push(e[e.length-1-r]);for(;t.length>0;){var l=t.pop();if(n.push(l.id),l.features)for(r=0;r<l.features.length;r++)t.push(l.features[l.features.length-1-r])}return n}updateFeature(e,t,n,r,l,i,s){return this.db.get(e).then(e=>{var o=this.getFeatureWithParentFromModel(e=e,t.toString()),u={id:t,name:n,isMandatory:this.getBoolean(r),hasOrSubfeatures:this.getBoolean(l),hasXOrSubfeatures:this.getBoolean(i),isDeletable:o.isDeletable,features:o.features,requiringDependencyFrom:o.requiringDependencyFrom,requiringDependencyTo:o.requiringDependencyTo,excludingDependency:o.excludingDependency};return o.parentId==s?e=this.updateFeatureHandler(e,t,e=>((e=e).name=n,e.isMandatory=this.getBoolean(r),e.hasOrSubfeatures=this.getBoolean(l),e.hasXOrSubfeatures=this.getBoolean(i),e)):(e=this.updateFeatureHandler(e,o.parentId,((e,t)=>((t=t).features=t.features.filter(function(t){return t.id!=e}),t)).bind(null,t)),e=this.updateFeatureHandler(e,s,e=>((e=e).features.push(u),e))),this.db.put(e)})}addFeature(e,t,n,r,l,i){return this.db.get(e).then(e=>{var s=this.createFeatureByParameter((e=e).featureIdCounter,t,n,r,l,!0);return(e=this.updateFeatureHandler(e,i,e=>((e=e).features.push(s),e))).featureIdCounter=e.featureIdCounter+1,e.featureMap[s.id]=s.name,this.db.put(e)})}updateFeatureHandler(e,t,n){for(var r=e,l=[],i=!1,s=0;s<r.features.length;s++)l.push(r.features[r.features.length-1-s]);for(;l.length>0&&!i;){var o=l.pop();if(o.id==t&&(i=!0,o=n(o)),o.features)for(s=0;s<o.features.length;s++)l.push(o.features[o.features.length-1-s])}return r}getBoolean(e){switch(e){case!0:case"true":case 1:case"1":case"on":case"yes":return!0;default:return!1}}createFeatureByParameter(e,t,n=!1,r=!1,l=!1,i=!1,s=[],o=[],u=[],a=[],c=[]){return{id:e,name:t,isMandatory:this.getBoolean(n),hasOrSubfeatures:this.getBoolean(r),hasXOrSubfeatures:this.getBoolean(l),isDeletable:this.getBoolean(i),requiringDependencyFrom:s,requiringDependencyTo:o,excludingDependency:u,features:a,businessModelIds:c}}addDefaultData(){return this.db.destroy().then(e=>(this.db=new IC(this.databaseName),this.db.post({name:"Simple ToDo Example",description:"This is the simple todo example from our paper.",featureIdCounter:31,businessModelIdCounter:3,features:[{id:1,name:"Value Propositions",isMandatory:!0,hasOrSubfeatures:!1,hasXOrSubfeatures:!0,isDeletable:!1,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:10,name:"Save Privacy",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[14],requiringDependencyTo:[],excludingDependency:[24,11],features:[],businessModelIds:[1],parentId:1},{id:11,name:"Free For All",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[24],excludingDependency:[10],features:[],businessModelIds:[],parentId:1},{id:12,name:"Collaborate With Others",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[26],excludingDependency:[],features:[],businessModelIds:[1],parentId:1}],businessModelIds:[1],parentId:0},{id:2,name:"Customer Segment",isMandatory:!0,hasOrSubfeatures:!0,hasXOrSubfeatures:!1,isDeletable:!1,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:13,name:"Private User",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[17],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[],parentId:2},{id:14,name:"Professional User",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[18],requiringDependencyTo:[10],excludingDependency:[],features:[],businessModelIds:[1],parentId:2}],businessModelIds:[1],parentId:0},{id:3,name:"Customer Relationships",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!1,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:15,name:"Self Service",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1],parentId:3},{id:16,name:"Phone Support",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[],parentId:3}],businessModelIds:[1],parentId:0},{id:4,name:"Customer Channels",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!1,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:17,name:"Facebook Ads",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[13],excludingDependency:[],features:[],businessModelIds:[1],parentId:4},{id:18,name:"LinkedIn Ads",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[14],excludingDependency:[],features:[],businessModelIds:[],parentId:4}],businessModelIds:[1],parentId:0},{id:5,name:"Key Partners",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!1,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:19,name:"Hosting Provider",isMandatory:!0,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[],parentId:5},{id:20,name:"Social Networks",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[],parentId:5}],businessModelIds:[1],parentId:0},{id:6,name:"Key Activities",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!1,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:21,name:"Develop App",isMandatory:!0,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[27],excludingDependency:[],features:[],businessModelIds:[1],parentId:6},{id:30,name:"Plan Marketing",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[28],excludingDependency:[],features:[],businessModelIds:[1],parentId:6}],businessModelIds:[1],parentId:0},{id:7,name:"Key Resources",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!1,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:22,name:"Algorithms",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1],parentId:7},{id:23,name:"Infrastructure",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1],parentId:7}],businessModelIds:[1],parentId:0},{id:8,name:"Revenue Streams",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!1,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:24,name:"In-App Advertisement",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[11],requiringDependencyTo:[],excludingDependency:[10],features:[],businessModelIds:[1],parentId:8},{id:25,name:"License Purchase",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[26],features:[],businessModelIds:[],parentId:8},{id:26,name:"License Subscription",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[12],requiringDependencyTo:[],excludingDependency:[25],features:[],businessModelIds:[1],parentId:8}],businessModelIds:[1],parentId:0},{id:9,name:"Cost Structures",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!1,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[{id:27,name:"Development Costs",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[21],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1],parentId:9},{id:28,name:"Marketing Costs",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[30],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[],parentId:9},{id:29,name:"Support Costs",isMandatory:!1,hasOrSubfeatures:!1,hasXOrSubfeatures:!1,isDeletable:!0,requiringDependencyFrom:[],requiringDependencyTo:[],excludingDependency:[],features:[],businessModelIds:[1],parentId:9}],businessModelIds:[1],parentId:0}],featureMap:{1:"Value Proposition",2:"Customer Segments",3:"Customer Relationships",4:"Customer Channel",5:"Key Partners",6:"Key Activities",7:"Key Resources",8:"Revenue Streams",9:"Cost Structure",10:"Save Privacy",11:"Free For All",12:"Collaborative With Others",13:"Private User",14:"Professional User",15:"Self Service",16:"Phone Support",17:"Facebook Ads",18:"LinkedIn Ads",19:"Hosting Provider",20:"Social Networks",21:"Develop App",22:"Algorithms",23:"Infrastructure",24:"In-App Advertisement",25:"License Purchase",26:"License Subscription",27:"Development Costs",28:"Marketing Costs",29:"Support Costs",30:"Plan Marketing"},businessModelMap:{1:"Paper Example"}})),e=>{console.log("Add Default Data")})}}return e.ngInjectableDef=pe({factory:function(){return new e},token:e,providedIn:"root"}),e})();var Cx=Xn({encapsulation:0,styles:[[""]],data:{}});function kx(e){return cs(0,[(e()(),Wi(0,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),Wi(1,0,null,null,1,"h4",[["class","modal-title"],["id","modal-basic-title"]],null,null,null,null,null)),(e()(),os(2,null,["",""])),(e()(),Wi(3,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.closeModal()&&r),r},null,null)),(e()(),Wi(4,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),os(-1,null,["\xd7"])),(e()(),Wi(6,0,null,null,5,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),Wi(7,0,null,null,4,"div",[["class","alert alert-warning"],["role","alert"]],null,null,null,null,null)),(e()(),Wi(8,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),os(9,null,['You are trying to remove the feature "','". Please keep in mind that you are removing also all subfeatures together with the corresponding dependencies.'])),(e()(),Wi(10,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),os(-1,null,["Moreover, the feature is also removed from all business canvases."])),(e()(),Wi(12,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(e()(),Wi(13,0,null,null,1,"button",[["class","btn btn-block btn-warning"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0,l=e.component;return"click"===t&&(r=!1!==l.deleteFeature(l.modalFeature.id)&&r),r},null,null)),(e()(),os(-1,null,["Delete Feature"]))],null,function(e,t){var n=t.component;e(t,2,0,n.modalFeature.name),e(t,9,0,n.modalFeature.name)})}function xx(e){return cs(0,[(e()(),Wi(0,0,null,null,2,"div",[["class","alert alert-info"],["role","alert"]],null,null,null,null,null)),(e()(),Wi(1,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),os(-1,null,["There are no dependencies left to remove."]))],null,null)}function Sx(e){return cs(0,[(e()(),Wi(0,0,null,null,3,"li",[["class","list-group-item justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),os(1,null,[""," "])),(e()(),Wi(2,0,null,null,1,"button",[["class","btn btn-warning btn-xs bottom-right"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0,l=e.component;return"click"===t&&(r=!1!==l.deleteDependency("requiringDependencyTo",l.modalFeature.id,e.context.$implicit)&&r),r},null,null)),(e()(),os(-1,null,["Delete"]))],null,function(e,t){e(t,1,0,t.component.featureModel.featureMap[t.context.$implicit])})}function Ex(e){return cs(0,[(e()(),Wi(0,0,null,null,5,"li",[["class","list-group-item justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),Wi(1,0,null,null,0,"i",[["class","fa fa-arrow-right"]],null,null,null,null,null)),(e()(),os(-1,null,[" Requires: "])),(e()(),Wi(3,0,null,null,2,"ul",[["class","list-group inner"],["style","margin:5px;"]],null,null,null,null,null)),(e()(),zi(16777216,null,null,1,null,Sx)),cl(5,278528,null,0,fu,[Pn,An,Sn],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,5,0,t.component.modalFeature.requiringDependencyTo)},null)}function Dx(e){return cs(0,[(e()(),Wi(0,0,null,null,3,"li",[["class","list-group-item justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),os(1,null,[""," "])),(e()(),Wi(2,0,null,null,1,"button",[["class","btn btn-warning btn-xs bottom-right"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0,l=e.component;return"click"===t&&(r=!1!==l.deleteDependency("requiringDependencyFrom",l.modalFeature.id,e.context.$implicit)&&r),r},null,null)),(e()(),os(-1,null,["Delete"]))],null,function(e,t){e(t,1,0,t.component.featureModel.featureMap[t.context.$implicit])})}function Ix(e){return cs(0,[(e()(),Wi(0,0,null,null,5,"li",[["class","list-group-item justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),Wi(1,0,null,null,0,"i",[["class","fa fa-arrow-left"]],null,null,null,null,null)),(e()(),os(-1,null,[" Required by: "])),(e()(),Wi(3,0,null,null,2,"ul",[["class","list-group inner"],["style","margin:5px;"]],null,null,null,null,null)),(e()(),zi(16777216,null,null,1,null,Dx)),cl(5,278528,null,0,fu,[Pn,An,Sn],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,5,0,t.component.modalFeature.requiringDependencyFrom)},null)}function Mx(e){return cs(0,[(e()(),Wi(0,0,null,null,3,"li",[["class","list-group-item justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),os(1,null,[""," "])),(e()(),Wi(2,0,null,null,1,"button",[["class","btn btn-warning btn-xs bottom-right"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0,l=e.component;return"click"===t&&(r=!1!==l.deleteDependency("excludingDependency",l.modalFeature.id,e.context.$implicit)&&r),r},null,null)),(e()(),os(-1,null,["Delete"]))],null,function(e,t){e(t,1,0,t.component.featureModel.featureMap[t.context.$implicit])})}function Ox(e){return cs(0,[(e()(),Wi(0,0,null,null,5,"li",[["class","list-group-item justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),Wi(1,0,null,null,0,"i",[["class","fa fa-arrows-alt-h"]],null,null,null,null,null)),(e()(),os(-1,null,[" Excludes: "])),(e()(),Wi(3,0,null,null,2,"ul",[["class","list-group inner"],["style","margin:5px;"]],null,null,null,null,null)),(e()(),zi(16777216,null,null,1,null,Mx)),cl(5,278528,null,0,fu,[Pn,An,Sn],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,5,0,t.component.modalFeature.excludingDependency)},null)}function Fx(e){return cs(0,[(e()(),Wi(0,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),Wi(1,0,null,null,1,"h4",[["class","modal-title"],["id","modal-basic-title"]],null,null,null,null,null)),(e()(),os(2,null,["",""])),(e()(),Wi(3,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.closeModal()&&r),r},null,null)),(e()(),Wi(4,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),os(-1,null,["\xd7"])),(e()(),Wi(6,0,null,null,9,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),zi(16777216,null,null,1,null,xx)),cl(8,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null),(e()(),Wi(9,0,null,null,6,"ul",[["class","list-group inner"],["style","margin:5px;"]],null,null,null,null,null)),(e()(),zi(16777216,null,null,1,null,Ex)),cl(11,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null),(e()(),zi(16777216,null,null,1,null,Ix)),cl(13,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null),(e()(),zi(16777216,null,null,1,null,Ox)),cl(15,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,8,0,0==n.modalFeature.requiringDependencyTo.length&&0==n.modalFeature.requiringDependencyFrom.length&&0==n.modalFeature.excludingDependency.length),e(t,11,0,0!=n.modalFeature.requiringDependencyTo.length),e(t,13,0,0!=n.modalFeature.requiringDependencyFrom.length),e(t,15,0,0!=n.modalFeature.excludingDependency.length)},function(e,t){e(t,2,0,t.component.modalFeature.name)})}function Ax(e){return cs(0,[(e()(),Wi(0,0,null,null,3,"option",[],[[8,"disabled",0]],null,null,null,null)),cl(1,147456,null,0,ep,[sn,dn,[2,Yf]],{value:[0,"value"]},null),cl(2,147456,null,0,rp,[sn,dn,[8,null]],{value:[0,"value"]},null),(e()(),os(3,null,[""," "]))],function(e,t){e(t,1,0,Sr(1,"",t.context.$implicit.id,"")),e(t,2,0,Sr(1,"",t.context.$implicit.id,""))},function(e,t){var n=t.component;e(t,0,0,t.context.$implicit.id==n.modalFeature.id||n.modalSubfeatureIds.includes(t.context.$implicit.id)),e(t,3,0,t.context.$implicit.levelname)})}function Tx(e){return cs(0,[(e()(),Wi(0,0,null,null,11,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Wi(1,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","subfeatureOf"]],null,null,null,null,null)),(e()(),os(-1,null,["Subfeature of"])),(e()(),Wi(3,0,null,null,8,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Wi(4,0,null,null,7,"select",[["class","form-control"],["formControlName","subfeatureOf"],["id","subfeatureOf"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var r=!0;return"change"===t&&(r=!1!==Jr(e,5).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==Jr(e,5).onTouched()&&r),r},null,null)),cl(5,16384,null,0,Yf,[dn,sn],null,null),dl(1024,null,Df,function(e){return[e]},[Yf]),cl(7,671744,null,0,Ap,[[3,Af],[8,null],[8,null],[6,Df],[2,Dp]],{name:[0,"name"]},null),dl(2048,null,Pf,null,[Ap]),cl(9,16384,null,0,Rf,[[4,Pf]],null,null),(e()(),zi(16777216,null,null,1,null,Ax)),cl(11,278528,null,0,fu,[Pn,An,Sn],{ngForOf:[0,"ngForOf"]},null)],function(e,t){var n=t.component;e(t,7,0,"subfeatureOf"),e(t,11,0,n.featureList)},function(e,t){e(t,4,0,Jr(t,9).ngClassUntouched,Jr(t,9).ngClassTouched,Jr(t,9).ngClassPristine,Jr(t,9).ngClassDirty,Jr(t,9).ngClassValid,Jr(t,9).ngClassInvalid,Jr(t,9).ngClassPending)})}function Px(e){return cs(0,[(e()(),Wi(0,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),Wi(1,0,null,null,1,"h4",[["class","modal-title"],["id","modal-basic-title"]],null,null,null,null,null)),(e()(),os(2,null,["",""])),(e()(),Wi(3,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.closeModal()&&r),r},null,null)),(e()(),Wi(4,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),os(-1,null,["\xd7"])),(e()(),Wi(6,0,null,null,76,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),Wi(7,0,null,null,75,"div",[["class","text-muted pt-3"]],null,null,null,null,null)),(e()(),Wi(8,0,null,null,74,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(e,t,n){var r=!0,l=e.component;return"submit"===t&&(r=!1!==Jr(e,10).onSubmit(n)&&r),"reset"===t&&(r=!1!==Jr(e,10).onReset()&&r),"ngSubmit"===t&&(r=!1!==l.updateFeature()&&r),r},null,null)),cl(9,16384,null,0,Ep,[],null,null),cl(10,540672,null,0,Ip,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),dl(2048,null,Af,null,[Ip]),cl(12,16384,null,0,jf,[[4,Af]],null,null),(e()(),Wi(13,0,null,null,9,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Wi(14,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","name"]],null,null,null,null,null)),(e()(),os(-1,null,["Feature Name"])),(e()(),Wi(16,0,null,null,6,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Wi(17,0,null,null,5,"input",[["class","form-control"],["formControlName","name"],["id","name"],["type","text"]],[[8,"readOnly",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var r=!0;return"input"===t&&(r=!1!==Jr(e,18)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Jr(e,18).onTouched()&&r),"compositionstart"===t&&(r=!1!==Jr(e,18)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Jr(e,18)._compositionEnd(n.target.value)&&r),r},null,null)),cl(18,16384,null,0,Of,[dn,sn,[2,Mf]],null,null),dl(1024,null,Df,function(e){return[e]},[Of]),cl(20,671744,null,0,Ap,[[3,Af],[8,null],[8,null],[6,Df],[2,Dp]],{name:[0,"name"]},null),dl(2048,null,Pf,null,[Ap]),cl(22,16384,null,0,Rf,[[4,Pf]],null,null),(e()(),zi(16777216,null,null,1,null,Tx)),cl(24,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null),(e()(),Wi(25,0,null,null,17,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Wi(26,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","isMandatory"]],null,null,null,null,null)),(e()(),os(-1,null,["Mandatory Feature"])),(e()(),Wi(28,0,null,null,14,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Wi(29,0,null,null,13,"select",[["class","form-control"],["formControlName","isMandatory"],["id","isMandatory"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var r=!0;return"change"===t&&(r=!1!==Jr(e,30).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==Jr(e,30).onTouched()&&r),r},null,null)),cl(30,16384,null,0,Yf,[dn,sn],null,null),dl(1024,null,Df,function(e){return[e]},[Yf]),cl(32,671744,null,0,Ap,[[3,Af],[8,null],[8,null],[6,Df],[2,Dp]],{name:[0,"name"]},null),dl(2048,null,Pf,null,[Ap]),cl(34,16384,null,0,Rf,[[4,Pf]],null,null),(e()(),Wi(35,0,null,null,3,"option",[["value","true"]],null,null,null,null,null)),cl(36,147456,null,0,ep,[sn,dn,[2,Yf]],{value:[0,"value"]},null),cl(37,147456,null,0,rp,[sn,dn,[8,null]],{value:[0,"value"]},null),(e()(),os(-1,null,["Yes"])),(e()(),Wi(39,0,null,null,3,"option",[["value","false"]],null,null,null,null,null)),cl(40,147456,null,0,ep,[sn,dn,[2,Yf]],{value:[0,"value"]},null),cl(41,147456,null,0,rp,[sn,dn,[8,null]],{value:[0,"value"]},null),(e()(),os(-1,null,["No"])),(e()(),Wi(43,0,null,null,17,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Wi(44,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","hasOrSubfeatures"]],null,null,null,null,null)),(e()(),os(-1,null,["OR Subfeatures"])),(e()(),Wi(46,0,null,null,14,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Wi(47,0,null,null,13,"select",[["class","form-control"],["formControlName","hasOrSubfeatures"],["id","hasOrSubfeatures"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var r=!0;return"change"===t&&(r=!1!==Jr(e,48).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==Jr(e,48).onTouched()&&r),r},null,null)),cl(48,16384,null,0,Yf,[dn,sn],null,null),dl(1024,null,Df,function(e){return[e]},[Yf]),cl(50,671744,null,0,Ap,[[3,Af],[8,null],[8,null],[6,Df],[2,Dp]],{name:[0,"name"]},null),dl(2048,null,Pf,null,[Ap]),cl(52,16384,null,0,Rf,[[4,Pf]],null,null),(e()(),Wi(53,0,null,null,3,"option",[["value","true"]],null,null,null,null,null)),cl(54,147456,null,0,ep,[sn,dn,[2,Yf]],{value:[0,"value"]},null),cl(55,147456,null,0,rp,[sn,dn,[8,null]],{value:[0,"value"]},null),(e()(),os(-1,null,["Yes"])),(e()(),Wi(57,0,null,null,3,"option",[["value","false"]],null,null,null,null,null)),cl(58,147456,null,0,ep,[sn,dn,[2,Yf]],{value:[0,"value"]},null),cl(59,147456,null,0,rp,[sn,dn,[8,null]],{value:[0,"value"]},null),(e()(),os(-1,null,["No"])),(e()(),Wi(61,0,null,null,17,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Wi(62,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","hasXOrSubfeatures"]],null,null,null,null,null)),(e()(),os(-1,null,["XOR Subfeature"])),(e()(),Wi(64,0,null,null,14,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Wi(65,0,null,null,13,"select",[["class","form-control"],["formControlName","hasXOrSubfeatures"],["id","hasXOrSubfeatures"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var r=!0;return"change"===t&&(r=!1!==Jr(e,66).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==Jr(e,66).onTouched()&&r),r},null,null)),cl(66,16384,null,0,Yf,[dn,sn],null,null),dl(1024,null,Df,function(e){return[e]},[Yf]),cl(68,671744,null,0,Ap,[[3,Af],[8,null],[8,null],[6,Df],[2,Dp]],{name:[0,"name"]},null),dl(2048,null,Pf,null,[Ap]),cl(70,16384,null,0,Rf,[[4,Pf]],null,null),(e()(),Wi(71,0,null,null,3,"option",[["value","true"]],null,null,null,null,null)),cl(72,147456,null,0,ep,[sn,dn,[2,Yf]],{value:[0,"value"]},null),cl(73,147456,null,0,rp,[sn,dn,[8,null]],{value:[0,"value"]},null),(e()(),os(-1,null,["Yes"])),(e()(),Wi(75,0,null,null,3,"option",[["value","false"]],null,null,null,null,null)),cl(76,147456,null,0,ep,[sn,dn,[2,Yf]],{value:[0,"value"]},null),cl(77,147456,null,0,rp,[sn,dn,[8,null]],{value:[0,"value"]},null),(e()(),os(-1,null,["No"])),(e()(),Wi(79,0,null,null,3,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Wi(80,0,null,null,2,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),Wi(81,0,null,null,1,"button",[["class","btn btn-dark btn-block"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),os(-1,null,["Update Feature"]))],function(e,t){var n=t.component;e(t,10,0,n.modalFeatureForm),e(t,20,0,"name"),e(t,24,0,n.modalFeature.isDeletable),e(t,32,0,"isMandatory"),e(t,36,0,"true"),e(t,37,0,"true"),e(t,40,0,"false"),e(t,41,0,"false"),e(t,50,0,"hasOrSubfeatures"),e(t,54,0,"true"),e(t,55,0,"true"),e(t,58,0,"false"),e(t,59,0,"false"),e(t,68,0,"hasXOrSubfeatures"),e(t,72,0,"true"),e(t,73,0,"true"),e(t,76,0,"false"),e(t,77,0,"false")},function(e,t){var n=t.component;e(t,2,0,n.modalFeature.name),e(t,8,0,Jr(t,12).ngClassUntouched,Jr(t,12).ngClassTouched,Jr(t,12).ngClassPristine,Jr(t,12).ngClassDirty,Jr(t,12).ngClassValid,Jr(t,12).ngClassInvalid,Jr(t,12).ngClassPending),e(t,17,0,!n.modalFeature.isDeletable,Jr(t,22).ngClassUntouched,Jr(t,22).ngClassTouched,Jr(t,22).ngClassPristine,Jr(t,22).ngClassDirty,Jr(t,22).ngClassValid,Jr(t,22).ngClassInvalid,Jr(t,22).ngClassPending),e(t,29,0,Jr(t,34).ngClassUntouched,Jr(t,34).ngClassTouched,Jr(t,34).ngClassPristine,Jr(t,34).ngClassDirty,Jr(t,34).ngClassValid,Jr(t,34).ngClassInvalid,Jr(t,34).ngClassPending),e(t,47,0,Jr(t,52).ngClassUntouched,Jr(t,52).ngClassTouched,Jr(t,52).ngClassPristine,Jr(t,52).ngClassDirty,Jr(t,52).ngClassValid,Jr(t,52).ngClassInvalid,Jr(t,52).ngClassPending),e(t,65,0,Jr(t,70).ngClassUntouched,Jr(t,70).ngClassTouched,Jr(t,70).ngClassPristine,Jr(t,70).ngClassDirty,Jr(t,70).ngClassValid,Jr(t,70).ngClassInvalid,Jr(t,70).ngClassPending),e(t,81,0,!n.modalFeatureForm.valid)})}function Nx(e){return cs(0,[(e()(),Wi(0,0,null,null,1,"app-feature-tree",[],null,[[null,"openDependenciesEmitter"],[null,"updateFeatureEmitter"],[null,"deleteFeatureEmitter"]],function(e,t,n){var r=!0,l=e.component;return"openDependenciesEmitter"===t&&(r=!1!==l.openDependenciesModal(n)&&r),"updateFeatureEmitter"===t&&(r=!1!==l.updateFeatureModal(n)&&r),"deleteFeatureEmitter"===t&&(r=!1!==l.deleteFeatureModal(n)&&r),r},gy,iy)),cl(1,49152,null,0,ly,[],{features:[0,"features"]},{openDependenciesEmitter:"openDependenciesEmitter",updateFeatureEmitter:"updateFeatureEmitter",deleteFeatureEmitter:"deleteFeatureEmitter"})],function(e,t){e(t,1,0,t.component.featureModel.features)},null)}function Rx(e){return cs(0,[(e()(),Wi(0,0,null,null,3,"option",[],null,null,null,null,null)),cl(1,147456,null,0,ep,[sn,dn,[2,Yf]],{value:[0,"value"]},null),cl(2,147456,null,0,rp,[sn,dn,[8,null]],{value:[0,"value"]},null),(e()(),os(3,null,[""," "]))],function(e,t){e(t,1,0,Sr(1,"",t.context.$implicit.id,"")),e(t,2,0,Sr(1,"",t.context.$implicit.id,""))},function(e,t){e(t,3,0,t.context.$implicit.levelname)})}function jx(e){return cs(0,[(e()(),Wi(0,0,null,null,3,"option",[],null,null,null,null,null)),cl(1,147456,null,0,ep,[sn,dn,[2,Yf]],{value:[0,"value"]},null),cl(2,147456,null,0,rp,[sn,dn,[8,null]],{value:[0,"value"]},null),(e()(),os(3,null,[""," "]))],function(e,t){e(t,1,0,Sr(1,"",t.context.$implicit.id,"")),e(t,2,0,Sr(1,"",t.context.$implicit.id,""))},function(e,t){e(t,3,0,t.context.$implicit.levelname)})}function $x(e){return cs(0,[(e()(),Wi(0,0,null,null,3,"option",[],null,null,null,null,null)),cl(1,147456,null,0,ep,[sn,dn,[2,Yf]],{value:[0,"value"]},null),cl(2,147456,null,0,rp,[sn,dn,[8,null]],{value:[0,"value"]},null),(e()(),os(3,null,[""," "]))],function(e,t){e(t,1,0,Sr(1,"",t.context.$implicit.id,"")),e(t,2,0,Sr(1,"",t.context.$implicit.id,""))},function(e,t){e(t,3,0,t.context.$implicit.levelname)})}function Vx(e){return cs(0,[Ji(402653184,1,{dependencyModal:0}),Ji(402653184,2,{updateModal:0}),Ji(402653184,3,{deleteModal:0}),(e()(),zi(0,[[3,2],["deleteModal",2]],null,0,null,kx)),(e()(),zi(0,[[1,2],["dependencyModal",2]],null,0,null,Fx)),(e()(),zi(0,[[2,2],["updateModal",2]],null,0,null,Px)),(e()(),Wi(6,0,null,null,9,"div",[["class","nav-scroller bg-white shadow-sm"]],null,null,null,null,null)),(e()(),Wi(7,0,null,null,8,"nav",[["class","nav nav-underline"]],null,null,null,null,null)),(e()(),Wi(8,0,null,null,3,"a",[["class","nav-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Jr(e,9).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),cl(9,671744,null,0,Zh,[Gh,Rd,Co],{routerLink:[0,"routerLink"]},null),ls(10,2),(e()(),os(11,null,["View ",""])),(e()(),Wi(12,0,null,null,3,"a",[["class","nav-link active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Jr(e,13).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),cl(13,671744,null,0,Zh,[Gh,Rd,Co],{routerLink:[0,"routerLink"]},null),ls(14,2),(e()(),os(15,null,["Edit ",""])),(e()(),Wi(16,0,null,null,217,"main",[["class","container"],["role","main"]],null,null,null,null,null)),(e()(),Wi(17,0,null,null,35,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Wi(18,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),os(-1,null,["Feature Model List"])),(e()(),Wi(20,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(e()(),Wi(21,0,null,null,2,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),zi(16777216,null,null,1,null,Nx)),cl(23,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null),(e()(),Wi(24,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(e()(),Wi(25,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Wi(26,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),os(-1,null,["Legend:"])),(e()(),Wi(28,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Wi(29,0,null,null,0,"i",[["class","fa fa-circle"]],null,null,null,null,null)),(e()(),os(-1,null,[" Mandatory Feature"])),(e()(),Wi(31,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Wi(32,0,null,null,0,"i",[["class","fa fa-circle-o"]],null,null,null,null,null)),(e()(),os(-1,null,[" Optional Feature"])),(e()(),Wi(34,0,null,null,8,"div",[["class","row"]],null,null,null,null,null)),(e()(),Wi(35,0,null,null,1,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),os(-1,null,["\xa0"])),(e()(),Wi(37,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Wi(38,0,null,null,0,"i",[["class","fa fa-caret-up"]],null,null,null,null,null)),(e()(),os(-1,null,[" Alternative (Xor)"])),(e()(),Wi(40,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Wi(41,0,null,null,0,"i",[["class","fa fa-angle-up"]],null,null,null,null,null)),(e()(),os(-1,null,[" Or"])),(e()(),Wi(43,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(e()(),Wi(44,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Wi(45,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),os(-1,null,["\xa0"])),(e()(),Wi(47,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Wi(48,0,null,null,0,"i",[["class","fa fa-arrow-right"]],null,null,null,null,null)),(e()(),os(-1,null,["Requires (Dependency)"])),(e()(),Wi(50,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Wi(51,0,null,null,0,"i",[["class","fa fa-arrows-alt-h"]],null,null,null,null,null)),(e()(),os(-1,null,["Excludes (Dependency)"])),(e()(),Wi(53,0,null,null,88,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Wi(54,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),os(-1,null,["Add Feature"])),(e()(),Wi(56,0,null,null,85,"div",[["class","text-muted pt-3"]],null,null,null,null,null)),(e()(),Wi(57,0,null,null,84,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(e,t,n){var r=!0,l=e.component;return"submit"===t&&(r=!1!==Jr(e,59).onSubmit(n)&&r),"reset"===t&&(r=!1!==Jr(e,59).onReset()&&r),"ngSubmit"===t&&(r=!1!==l.insertFeature()&&r),r},null,null)),cl(58,16384,null,0,Ep,[],null,null),cl(59,540672,null,0,Ip,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),dl(2048,null,Af,null,[Ip]),cl(61,16384,null,0,jf,[[4,Af]],null,null),(e()(),Wi(62,0,null,null,9,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Wi(63,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","featureName"]],null,null,null,null,null)),(e()(),os(-1,null,["Feature Name"])),(e()(),Wi(65,0,null,null,6,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Wi(66,0,null,null,5,"input",[["class","form-control"],["formControlName","featureName"],["id","name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var r=!0;return"input"===t&&(r=!1!==Jr(e,67)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Jr(e,67).onTouched()&&r),"compositionstart"===t&&(r=!1!==Jr(e,67)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Jr(e,67)._compositionEnd(n.target.value)&&r),r},null,null)),cl(67,16384,null,0,Of,[dn,sn,[2,Mf]],null,null),dl(1024,null,Df,function(e){return[e]},[Of]),cl(69,671744,null,0,Ap,[[3,Af],[8,null],[8,null],[6,Df],[2,Dp]],{name:[0,"name"]},null),dl(2048,null,Pf,null,[Ap]),cl(71,16384,null,0,Rf,[[4,Pf]],null,null),(e()(),Wi(72,0,null,null,11,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Wi(73,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","subfeatureOf"]],null,null,null,null,null)),(e()(),os(-1,null,["Subfeature of"])),(e()(),Wi(75,0,null,null,8,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Wi(76,0,null,null,7,"select",[["class","form-control"],["formControlName","subfeatureOf"],["id","subfeatureOf"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var r=!0;return"change"===t&&(r=!1!==Jr(e,77).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==Jr(e,77).onTouched()&&r),r},null,null)),cl(77,16384,null,0,Yf,[dn,sn],null,null),dl(1024,null,Df,function(e){return[e]},[Yf]),cl(79,671744,null,0,Ap,[[3,Af],[8,null],[8,null],[6,Df],[2,Dp]],{name:[0,"name"]},null),dl(2048,null,Pf,null,[Ap]),cl(81,16384,null,0,Rf,[[4,Pf]],null,null),(e()(),zi(16777216,null,null,1,null,Rx)),cl(83,278528,null,0,fu,[Pn,An,Sn],{ngForOf:[0,"ngForOf"]},null),(e()(),Wi(84,0,null,null,17,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Wi(85,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","isMandatory"]],null,null,null,null,null)),(e()(),os(-1,null,["Mandatory Feature"])),(e()(),Wi(87,0,null,null,14,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Wi(88,0,null,null,13,"select",[["class","form-control"],["formControlName","isMandatory"],["id","isMandatory"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var r=!0;return"change"===t&&(r=!1!==Jr(e,89).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==Jr(e,89).onTouched()&&r),r},null,null)),cl(89,16384,null,0,Yf,[dn,sn],null,null),dl(1024,null,Df,function(e){return[e]},[Yf]),cl(91,671744,null,0,Ap,[[3,Af],[8,null],[8,null],[6,Df],[2,Dp]],{name:[0,"name"]},null),dl(2048,null,Pf,null,[Ap]),cl(93,16384,null,0,Rf,[[4,Pf]],null,null),(e()(),Wi(94,0,null,null,3,"option",[["selected",""],["value","true"]],null,null,null,null,null)),cl(95,147456,null,0,ep,[sn,dn,[2,Yf]],{value:[0,"value"]},null),cl(96,147456,null,0,rp,[sn,dn,[8,null]],{value:[0,"value"]},null),(e()(),os(-1,null,["Yes"])),(e()(),Wi(98,0,null,null,3,"option",[["value","false"]],null,null,null,null,null)),cl(99,147456,null,0,ep,[sn,dn,[2,Yf]],{value:[0,"value"]},null),cl(100,147456,null,0,rp,[sn,dn,[8,null]],{value:[0,"value"]},null),(e()(),os(-1,null,["No"])),(e()(),Wi(102,0,null,null,17,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Wi(103,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","hasOrSubfeatures"]],null,null,null,null,null)),(e()(),os(-1,null,["OR Subfeatures"])),(e()(),Wi(105,0,null,null,14,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Wi(106,0,null,null,13,"select",[["class","form-control"],["formControlName","hasOrSubfeatures"],["id","hasOrSubfeatures"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var r=!0;return"change"===t&&(r=!1!==Jr(e,107).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==Jr(e,107).onTouched()&&r),r},null,null)),cl(107,16384,null,0,Yf,[dn,sn],null,null),dl(1024,null,Df,function(e){return[e]},[Yf]),cl(109,671744,null,0,Ap,[[3,Af],[8,null],[8,null],[6,Df],[2,Dp]],{name:[0,"name"]},null),dl(2048,null,Pf,null,[Ap]),cl(111,16384,null,0,Rf,[[4,Pf]],null,null),(e()(),Wi(112,0,null,null,3,"option",[["value","true"]],null,null,null,null,null)),cl(113,147456,null,0,ep,[sn,dn,[2,Yf]],{value:[0,"value"]},null),cl(114,147456,null,0,rp,[sn,dn,[8,null]],{value:[0,"value"]},null),(e()(),os(-1,null,["Yes"])),(e()(),Wi(116,0,null,null,3,"option",[["selected",""],["value","false"]],null,null,null,null,null)),cl(117,147456,null,0,ep,[sn,dn,[2,Yf]],{value:[0,"value"]},null),cl(118,147456,null,0,rp,[sn,dn,[8,null]],{value:[0,"value"]},null),(e()(),os(-1,null,["No"])),(e()(),Wi(120,0,null,null,17,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Wi(121,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","hasXOrSubfeatures"]],null,null,null,null,null)),(e()(),os(-1,null,["XOR Subfeature"])),(e()(),Wi(123,0,null,null,14,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Wi(124,0,null,null,13,"select",[["class","form-control"],["formControlName","hasXOrSubfeatures"],["id","hasXOrSubfeatures"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var r=!0;return"change"===t&&(r=!1!==Jr(e,125).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==Jr(e,125).onTouched()&&r),r},null,null)),cl(125,16384,null,0,Yf,[dn,sn],null,null),dl(1024,null,Df,function(e){return[e]},[Yf]),cl(127,671744,null,0,Ap,[[3,Af],[8,null],[8,null],[6,Df],[2,Dp]],{name:[0,"name"]},null),dl(2048,null,Pf,null,[Ap]),cl(129,16384,null,0,Rf,[[4,Pf]],null,null),(e()(),Wi(130,0,null,null,3,"option",[["value","true"]],null,null,null,null,null)),cl(131,147456,null,0,ep,[sn,dn,[2,Yf]],{value:[0,"value"]},null),cl(132,147456,null,0,rp,[sn,dn,[8,null]],{value:[0,"value"]},null),(e()(),os(-1,null,["Yes"])),(e()(),Wi(134,0,null,null,3,"option",[["selected",""],["value","false"]],null,null,null,null,null)),cl(135,147456,null,0,ep,[sn,dn,[2,Yf]],{value:[0,"value"]},null),cl(136,147456,null,0,rp,[sn,dn,[8,null]],{value:[0,"value"]},null),(e()(),os(-1,null,["No"])),(e()(),Wi(138,0,null,null,3,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Wi(139,0,null,null,2,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),Wi(140,0,null,null,1,"button",[["class","btn btn-sm btn-dark btn-block"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),os(-1,null,["Add Feature"])),(e()(),Wi(142,0,null,null,58,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Wi(143,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),os(-1,null,["Add Dependency"])),(e()(),Wi(145,0,null,null,55,"div",[["class","text-muted pt-3"]],null,null,null,null,null)),(e()(),Wi(146,0,null,null,54,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(e,t,n){var r=!0,l=e.component;return"submit"===t&&(r=!1!==Jr(e,148).onSubmit(n)&&r),"reset"===t&&(r=!1!==Jr(e,148).onReset()&&r),"ngSubmit"===t&&(r=!1!==l.insertDependency()&&r),r},null,null)),cl(147,16384,null,0,Ep,[],null,null),cl(148,540672,null,0,Ip,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),dl(2048,null,Af,null,[Ip]),cl(150,16384,null,0,jf,[[4,Af]],null,null),(e()(),Wi(151,0,null,null,21,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Wi(152,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","dependencyType"]],null,null,null,null,null)),(e()(),os(-1,null,["Type of Dependency"])),(e()(),Wi(154,0,null,null,18,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Wi(155,0,null,null,17,"select",[["class","form-control"],["formControlName","dependencyType"],["id","dependencyType"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var r=!0;return"change"===t&&(r=!1!==Jr(e,156).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==Jr(e,156).onTouched()&&r),r},null,null)),cl(156,16384,null,0,Yf,[dn,sn],null,null),dl(1024,null,Df,function(e){return[e]},[Yf]),cl(158,671744,null,0,Ap,[[3,Af],[8,null],[8,null],[6,Df],[2,Dp]],{name:[0,"name"]},null),dl(2048,null,Pf,null,[Ap]),cl(160,16384,null,0,Rf,[[4,Pf]],null,null),(e()(),Wi(161,0,null,null,3,"option",[["selected",""],["value","requiringDependencyTo"]],null,null,null,null,null)),cl(162,147456,null,0,ep,[sn,dn,[2,Yf]],{value:[0,"value"]},null),cl(163,147456,null,0,rp,[sn,dn,[8,null]],{value:[0,"value"]},null),(e()(),os(-1,null,["A requires B "])),(e()(),Wi(165,0,null,null,3,"option",[["value","requiringDependencyFrom"]],null,null,null,null,null)),cl(166,147456,null,0,ep,[sn,dn,[2,Yf]],{value:[0,"value"]},null),cl(167,147456,null,0,rp,[sn,dn,[8,null]],{value:[0,"value"]},null),(e()(),os(-1,null,["B requires A"])),(e()(),Wi(169,0,null,null,3,"option",[["value","excludingDependency"]],null,null,null,null,null)),cl(170,147456,null,0,ep,[sn,dn,[2,Yf]],{value:[0,"value"]},null),cl(171,147456,null,0,rp,[sn,dn,[8,null]],{value:[0,"value"]},null),(e()(),os(-1,null,["A excludes B"])),(e()(),Wi(173,0,null,null,11,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Wi(174,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","fromFeatureId"]],null,null,null,null,null)),(e()(),os(-1,null,["Feature A"])),(e()(),Wi(176,0,null,null,8,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Wi(177,0,null,null,7,"select",[["class","form-control"],["formControlName","fromFeatureId"],["id","fromFeatureId"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var r=!0;return"change"===t&&(r=!1!==Jr(e,178).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==Jr(e,178).onTouched()&&r),r},null,null)),cl(178,16384,null,0,Yf,[dn,sn],null,null),dl(1024,null,Df,function(e){return[e]},[Yf]),cl(180,671744,null,0,Ap,[[3,Af],[8,null],[8,null],[6,Df],[2,Dp]],{name:[0,"name"]},null),dl(2048,null,Pf,null,[Ap]),cl(182,16384,null,0,Rf,[[4,Pf]],null,null),(e()(),zi(16777216,null,null,1,null,jx)),cl(184,278528,null,0,fu,[Pn,An,Sn],{ngForOf:[0,"ngForOf"]},null),(e()(),Wi(185,0,null,null,11,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Wi(186,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","toFeatureId"]],null,null,null,null,null)),(e()(),os(-1,null,["Feature B"])),(e()(),Wi(188,0,null,null,8,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Wi(189,0,null,null,7,"select",[["class","form-control"],["formControlName","toFeatureId"],["id","toFeatureId"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var r=!0;return"change"===t&&(r=!1!==Jr(e,190).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==Jr(e,190).onTouched()&&r),r},null,null)),cl(190,16384,null,0,Yf,[dn,sn],null,null),dl(1024,null,Df,function(e){return[e]},[Yf]),cl(192,671744,null,0,Ap,[[3,Af],[8,null],[8,null],[6,Df],[2,Dp]],{name:[0,"name"]},null),dl(2048,null,Pf,null,[Ap]),cl(194,16384,null,0,Rf,[[4,Pf]],null,null),(e()(),zi(16777216,null,null,1,null,$x)),cl(196,278528,null,0,fu,[Pn,An,Sn],{ngForOf:[0,"ngForOf"]},null),(e()(),Wi(197,0,null,null,3,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Wi(198,0,null,null,2,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),Wi(199,0,null,null,1,"button",[["class","btn btn-sm btn-dark btn-block"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),os(-1,null,["Add Dependecy"])),(e()(),Wi(201,0,null,null,32,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Wi(202,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),os(-1,null,["Edit Feature Model"])),(e()(),Wi(204,0,null,null,29,"div",[["class","text-muted pt-3"]],null,null,null,null,null)),(e()(),Wi(205,0,null,null,28,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(e,t,n){var r=!0,l=e.component;return"submit"===t&&(r=!1!==Jr(e,207).onSubmit(n)&&r),"reset"===t&&(r=!1!==Jr(e,207).onReset()&&r),"ngSubmit"===t&&(r=!1!==l.updateFeatureModel()&&r),r},null,null)),cl(206,16384,null,0,Ep,[],null,null),cl(207,540672,null,0,Ip,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),dl(2048,null,Af,null,[Ip]),cl(209,16384,null,0,jf,[[4,Af]],null,null),(e()(),Wi(210,0,null,null,9,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Wi(211,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","name"]],null,null,null,null,null)),(e()(),os(-1,null,["Model Name"])),(e()(),Wi(213,0,null,null,6,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Wi(214,0,null,null,5,"input",[["class","form-control"],["formControlName","name"],["id","name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var r=!0;return"input"===t&&(r=!1!==Jr(e,215)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Jr(e,215).onTouched()&&r),"compositionstart"===t&&(r=!1!==Jr(e,215)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Jr(e,215)._compositionEnd(n.target.value)&&r),r},null,null)),cl(215,16384,null,0,Of,[dn,sn,[2,Mf]],null,null),dl(1024,null,Df,function(e){return[e]},[Of]),cl(217,671744,null,0,Ap,[[3,Af],[8,null],[8,null],[6,Df],[2,Dp]],{name:[0,"name"]},null),dl(2048,null,Pf,null,[Ap]),cl(219,16384,null,0,Rf,[[4,Pf]],null,null),(e()(),Wi(220,0,null,null,9,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Wi(221,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","description"]],null,null,null,null,null)),(e()(),os(-1,null,["Model Description"])),(e()(),Wi(223,0,null,null,6,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Wi(224,0,null,null,5,"input",[["class","form-control"],["formControlName","description"],["id","description"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var r=!0;return"input"===t&&(r=!1!==Jr(e,225)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Jr(e,225).onTouched()&&r),"compositionstart"===t&&(r=!1!==Jr(e,225)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Jr(e,225)._compositionEnd(n.target.value)&&r),r},null,null)),cl(225,16384,null,0,Of,[dn,sn,[2,Mf]],null,null),dl(1024,null,Df,function(e){return[e]},[Of]),cl(227,671744,null,0,Ap,[[3,Af],[8,null],[8,null],[6,Df],[2,Dp]],{name:[0,"name"]},null),dl(2048,null,Pf,null,[Ap]),cl(229,16384,null,0,Rf,[[4,Pf]],null,null),(e()(),Wi(230,0,null,null,3,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Wi(231,0,null,null,2,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),Wi(232,0,null,null,1,"button",[["class","btn btn-sm btn-dark btn-block"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),os(-1,null,["Update Feature Model"]))],function(e,t){var n=t.component,r=e(t,10,0,"/featuremodelview",n.featureModel._id);e(t,9,0,r);var l=e(t,14,0,"/featuremodel",n.featureModel._id);e(t,13,0,l),e(t,23,0,n.featureModel&&n.featureModel.features),e(t,59,0,n.featureForm),e(t,69,0,"featureName"),e(t,79,0,"subfeatureOf"),e(t,83,0,n.featureList),e(t,91,0,"isMandatory"),e(t,95,0,"true"),e(t,96,0,"true"),e(t,99,0,"false"),e(t,100,0,"false"),e(t,109,0,"hasOrSubfeatures"),e(t,113,0,"true"),e(t,114,0,"true"),e(t,117,0,"false"),e(t,118,0,"false"),e(t,127,0,"hasXOrSubfeatures"),e(t,131,0,"true"),e(t,132,0,"true"),e(t,135,0,"false"),e(t,136,0,"false"),e(t,148,0,n.dependencyForm),e(t,158,0,"dependencyType"),e(t,162,0,"requiringDependencyTo"),e(t,163,0,"requiringDependencyTo"),e(t,166,0,"requiringDependencyFrom"),e(t,167,0,"requiringDependencyFrom"),e(t,170,0,"excludingDependency"),e(t,171,0,"excludingDependency"),e(t,180,0,"fromFeatureId"),e(t,184,0,n.featureList),e(t,192,0,"toFeatureId"),e(t,196,0,n.featureList),e(t,207,0,n.featureModelForm),e(t,217,0,"name"),e(t,227,0,"description")},function(e,t){var n=t.component;e(t,8,0,Jr(t,9).target,Jr(t,9).href),e(t,11,0,n.featureModel.name),e(t,12,0,Jr(t,13).target,Jr(t,13).href),e(t,15,0,n.featureModel.name),e(t,57,0,Jr(t,61).ngClassUntouched,Jr(t,61).ngClassTouched,Jr(t,61).ngClassPristine,Jr(t,61).ngClassDirty,Jr(t,61).ngClassValid,Jr(t,61).ngClassInvalid,Jr(t,61).ngClassPending),e(t,66,0,Jr(t,71).ngClassUntouched,Jr(t,71).ngClassTouched,Jr(t,71).ngClassPristine,Jr(t,71).ngClassDirty,Jr(t,71).ngClassValid,Jr(t,71).ngClassInvalid,Jr(t,71).ngClassPending),e(t,76,0,Jr(t,81).ngClassUntouched,Jr(t,81).ngClassTouched,Jr(t,81).ngClassPristine,Jr(t,81).ngClassDirty,Jr(t,81).ngClassValid,Jr(t,81).ngClassInvalid,Jr(t,81).ngClassPending),e(t,88,0,Jr(t,93).ngClassUntouched,Jr(t,93).ngClassTouched,Jr(t,93).ngClassPristine,Jr(t,93).ngClassDirty,Jr(t,93).ngClassValid,Jr(t,93).ngClassInvalid,Jr(t,93).ngClassPending),e(t,106,0,Jr(t,111).ngClassUntouched,Jr(t,111).ngClassTouched,Jr(t,111).ngClassPristine,Jr(t,111).ngClassDirty,Jr(t,111).ngClassValid,Jr(t,111).ngClassInvalid,Jr(t,111).ngClassPending),e(t,124,0,Jr(t,129).ngClassUntouched,Jr(t,129).ngClassTouched,Jr(t,129).ngClassPristine,Jr(t,129).ngClassDirty,Jr(t,129).ngClassValid,Jr(t,129).ngClassInvalid,Jr(t,129).ngClassPending),e(t,140,0,!n.featureForm.valid),e(t,146,0,Jr(t,150).ngClassUntouched,Jr(t,150).ngClassTouched,Jr(t,150).ngClassPristine,Jr(t,150).ngClassDirty,Jr(t,150).ngClassValid,Jr(t,150).ngClassInvalid,Jr(t,150).ngClassPending),e(t,155,0,Jr(t,160).ngClassUntouched,Jr(t,160).ngClassTouched,Jr(t,160).ngClassPristine,Jr(t,160).ngClassDirty,Jr(t,160).ngClassValid,Jr(t,160).ngClassInvalid,Jr(t,160).ngClassPending),e(t,177,0,Jr(t,182).ngClassUntouched,Jr(t,182).ngClassTouched,Jr(t,182).ngClassPristine,Jr(t,182).ngClassDirty,Jr(t,182).ngClassValid,Jr(t,182).ngClassInvalid,Jr(t,182).ngClassPending),e(t,189,0,Jr(t,194).ngClassUntouched,Jr(t,194).ngClassTouched,Jr(t,194).ngClassPristine,Jr(t,194).ngClassDirty,Jr(t,194).ngClassValid,Jr(t,194).ngClassInvalid,Jr(t,194).ngClassPending),e(t,199,0,!n.dependencyForm.valid),e(t,205,0,Jr(t,209).ngClassUntouched,Jr(t,209).ngClassTouched,Jr(t,209).ngClassPristine,Jr(t,209).ngClassDirty,Jr(t,209).ngClassValid,Jr(t,209).ngClassInvalid,Jr(t,209).ngClassPending),e(t,214,0,Jr(t,219).ngClassUntouched,Jr(t,219).ngClassTouched,Jr(t,219).ngClassPristine,Jr(t,219).ngClassDirty,Jr(t,219).ngClassValid,Jr(t,219).ngClassInvalid,Jr(t,219).ngClassPending),e(t,224,0,Jr(t,229).ngClassUntouched,Jr(t,229).ngClassTouched,Jr(t,229).ngClassPristine,Jr(t,229).ngClassDirty,Jr(t,229).ngClassValid,Jr(t,229).ngClassInvalid,Jr(t,229).ngClassPending),e(t,232,0,!n.featureModelForm.valid)})}function Lx(e){return cs(0,[(e()(),Wi(0,0,null,null,1,"app-feature-model-detail",[],null,null,null,Vx,Cx)),cl(1,114688,null,0,my,[Pp,Rd,xo,wx,sm],null,null)],function(e,t){e(t,1,0)},null)}var qx=Lr("app-feature-model-detail",my,Lx,{},{},[]);class Bx{}var Ux=Xn({encapsulation:0,styles:[[""]],data:{}});function Hx(e){return cs(0,[(e()(),Wi(0,0,null,null,0,"i",[["class","fa fa-circle"]],null,null,null,null,null))],null,null)}function zx(e){return cs(0,[(e()(),Wi(0,0,null,null,0,"i",[["class","fa fa-circle-o"]],null,null,null,null,null))],null,null)}function Wx(e){return cs(0,[(e()(),Wi(0,0,null,null,7,"a",[["class","list-group-item list-group-item-action"],["style","padding:7px;"]],null,null,null,null,null)),dl(512,null,uu,au,[Sn,En,sn,dn]),cl(2,278528,null,0,du,[uu],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),zi(16777216,null,null,1,null,Hx)),cl(4,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null),(e()(),zi(16777216,null,null,1,null,zx)),cl(6,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null),(e()(),os(7,null,[" "," "]))],function(e,t){e(t,2,0,"list-group-item list-group-item-action",t.component.doubleBlock?"w-50":"w-100"),e(t,4,0,t.context.$implicit.isMandatory),e(t,6,0,!t.context.$implicit.isMandatory)},function(e,t){e(t,7,0,t.context.$implicit.name)})}function Gx(e){return cs(0,[(e()(),Wi(0,0,null,null,6,"ul",[["class","list-group inner no-list"],["style","margin:5px;"]],null,null,null,null,null)),(e()(),Wi(1,0,null,null,5,"li",[],null,null,null,null,null)),(e()(),Wi(2,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),os(3,null,["",""])),(e()(),Wi(4,0,null,null,2,"div",[["class","list-group d-flex flex-row flex-wrap"]],null,null,null,null,null)),(e()(),zi(16777216,null,null,1,null,Wx)),cl(6,278528,null,0,fu,[Pn,An,Sn],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,6,0,t.component.features)},function(e,t){e(t,3,0,t.component.buildingBlockName)})}class Kx{constructor(e,t,n,r){this.route=e,this.pouchDBServer=t,this.router=n,this.fb=r,this.businessModelForm=this.fb.group({name:["",Lf.required]})}ngOnInit(){this.featureModelId=this.route.snapshot.paramMap.get("id"),this.businessModelList=[],this.loadFeatureModel(this.featureModelId)}addBusinessModel(){this.pouchDBServer.addBusinessModel(this.featureModelId,this.businessModelForm.value.name).then(e=>{this.businessModelForm.reset(),this.loadFeatureModel(this.featureModelId)},e=>{console.log("AddBusinessModel: "+e)})}viewBusinessModel(e){this.router.navigate(["/businessmodelview",this.featureModelId,e])}deleteBusinessModel(e){this.pouchDBServer.deleteBusinessModel(this.featureModelId,parseInt(e)).then(e=>{this.loadFeatureModel(this.featureModelId)},e=>{console.log("DeleteBusinessModel: "+e)})}loadFeatureModel(e){this.pouchDBServer.getFeatureModel(this.featureModelId).then(e=>{for(var t in this.featureModel=e,this.businessModelList=[],this.featureModel.businessModelMap)this.businessModelList.push({id:t,name:this.featureModel.businessModelMap[t]})},e=>{console.log("LoadFeatureModel: "+e)})}}var Zx=Xn({encapsulation:0,styles:[[""]],data:{}});function Qx(e){return cs(0,[(e()(),Wi(0,0,null,null,3,"a",[["class","nav-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Jr(e,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),cl(1,671744,null,0,Zh,[Gh,Rd,Co],{routerLink:[0,"routerLink"]},null),ls(2,3),(e()(),os(3,null,["",""]))],function(e,t){var n=e(t,2,0,"/businessmodelview",t.component.featureModel._id,t.context.$implicit.id);e(t,1,0,n)},function(e,t){e(t,0,0,Jr(t,1).target,Jr(t,1).href),e(t,3,0,t.context.$implicit.name)})}function Jx(e){return cs(0,[(e()(),Wi(0,0,null,null,33,"div",[["class","container businesscanvas"]],null,null,null,null,null)),(e()(),Wi(1,0,null,null,25,"div",[["class","row"]],null,null,null,null,null)),(e()(),Wi(2,0,null,null,2,"div",[["class","col-2 buildingblock brectangle"]],null,null,null,null,null)),(e()(),Wi(3,0,null,null,1,"app-feature-building-block",[],null,null,null,Gx,Ux)),cl(4,49152,null,0,Bx,[],{buildingBlockName:[0,"buildingBlockName"],features:[1,"features"],doubleBlock:[2,"doubleBlock"]},null),(e()(),Wi(5,0,null,null,7,"div",[["class","col-3"]],null,null,null,null,null)),(e()(),Wi(6,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(e()(),Wi(7,0,null,null,2,"div",[["class","col-md-12 buildingblock bsquare"]],null,null,null,null,null)),(e()(),Wi(8,0,null,null,1,"app-feature-building-block",[],null,null,null,Gx,Ux)),cl(9,49152,null,0,Bx,[],{buildingBlockName:[0,"buildingBlockName"],features:[1,"features"],doubleBlock:[2,"doubleBlock"]},null),(e()(),Wi(10,0,null,null,2,"div",[["class","col-md-12 buildingblock bsquare"]],null,null,null,null,null)),(e()(),Wi(11,0,null,null,1,"app-feature-building-block",[],null,null,null,Gx,Ux)),cl(12,49152,null,0,Bx,[],{buildingBlockName:[0,"buildingBlockName"],features:[1,"features"],doubleBlock:[2,"doubleBlock"]},null),(e()(),Wi(13,0,null,null,2,"div",[["class","col-2 buildingblock"]],null,null,null,null,null)),(e()(),Wi(14,0,null,null,1,"app-feature-building-block",[],null,null,null,Gx,Ux)),cl(15,49152,null,0,Bx,[],{buildingBlockName:[0,"buildingBlockName"],features:[1,"features"],doubleBlock:[2,"doubleBlock"]},null),(e()(),Wi(16,0,null,null,7,"div",[["class","col-3"]],null,null,null,null,null)),(e()(),Wi(17,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(e()(),Wi(18,0,null,null,2,"div",[["class","col-md-12 buildingblock bsquare"]],null,null,null,null,null)),(e()(),Wi(19,0,null,null,1,"app-feature-building-block",[],null,null,null,Gx,Ux)),cl(20,49152,null,0,Bx,[],{buildingBlockName:[0,"buildingBlockName"],features:[1,"features"],doubleBlock:[2,"doubleBlock"]},null),(e()(),Wi(21,0,null,null,2,"div",[["class","col-md-12 buildingblock bsquare"]],null,null,null,null,null)),(e()(),Wi(22,0,null,null,1,"app-feature-building-block",[],null,null,null,Gx,Ux)),cl(23,49152,null,0,Bx,[],{buildingBlockName:[0,"buildingBlockName"],features:[1,"features"],doubleBlock:[2,"doubleBlock"]},null),(e()(),Wi(24,0,null,null,2,"div",[["class","col-2 buildingblock brectangle"]],null,null,null,null,null)),(e()(),Wi(25,0,null,null,1,"app-feature-building-block",[],null,null,null,Gx,Ux)),cl(26,49152,null,0,Bx,[],{buildingBlockName:[0,"buildingBlockName"],features:[1,"features"],doubleBlock:[2,"doubleBlock"]},null),(e()(),Wi(27,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(e()(),Wi(28,0,null,null,2,"div",[["class","col-6 buildingblock blongtangle"]],null,null,null,null,null)),(e()(),Wi(29,0,null,null,1,"app-feature-building-block",[],null,null,null,Gx,Ux)),cl(30,49152,null,0,Bx,[],{buildingBlockName:[0,"buildingBlockName"],features:[1,"features"],doubleBlock:[2,"doubleBlock"]},null),(e()(),Wi(31,0,null,null,2,"div",[["class","col-6 buildingblock blongtangle"]],null,null,null,null,null)),(e()(),Wi(32,0,null,null,1,"app-feature-building-block",[],null,null,null,Gx,Ux)),cl(33,49152,null,0,Bx,[],{buildingBlockName:[0,"buildingBlockName"],features:[1,"features"],doubleBlock:[2,"doubleBlock"]},null)],function(e,t){var n=t.component;e(t,4,0,"Key Partners",n.featureModel.features[4].features,!1),e(t,9,0,"Key Activities",n.featureModel.features[5].features,!1),e(t,12,0,"Key Resources",n.featureModel.features[6].features,!1),e(t,15,0,"Value Propositions",n.featureModel.features[0].features,!1),e(t,20,0,"Customer Relationships",n.featureModel.features[2].features,!1),e(t,23,0,"Customer Channels",n.featureModel.features[3].features,!1),e(t,26,0,"Customer Segments",n.featureModel.features[1].features,!1),e(t,30,0,"Cost Structure",n.featureModel.features[8].features,!0),e(t,33,0,"Revenue Streams",n.featureModel.features[7].features,!0)},null)}function Xx(e){return cs(0,[(e()(),Wi(0,0,null,null,5,"li",[["class","list-group-item justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),os(1,null,[" "," "])),(e()(),Wi(2,0,null,null,1,"button",[["class","btn btn-dark btn-xs bottom-right-two"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.viewBusinessModel(e.context.$implicit.id)&&r),r},null,null)),(e()(),os(-1,null,["View"])),(e()(),Wi(4,0,null,null,1,"button",[["class","btn btn-danger btn-xs bottom-right"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.deleteBusinessModel(e.context.$implicit.id)&&r),r},null,null)),(e()(),os(-1,null,["Delete"]))],null,function(e,t){e(t,1,0,t.context.$implicit.name)})}function Yx(e){return cs(0,[(e()(),Wi(0,0,null,null,2,"ul",[["class","list-group inner"],["style","margin:5px;"]],null,null,null,null,null)),(e()(),zi(16777216,null,null,1,null,Xx)),cl(2,278528,null,0,fu,[Pn,An,Sn],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.component.businessModelList)},null)}function eS(e){return cs(0,[(e()(),Wi(0,0,null,null,5,"div",[["class","nav-scroller bg-white shadow-sm"]],null,null,null,null,null)),(e()(),Wi(1,0,null,null,4,"nav",[["class","nav nav-underline"]],null,null,null,null,null)),(e()(),Wi(2,0,null,null,1,"a",[["class","nav-link active"],["href","#"]],null,null,null,null,null)),(e()(),os(3,null,["",""])),(e()(),zi(16777216,null,null,1,null,Qx)),cl(5,278528,null,0,fu,[Pn,An,Sn],{ngForOf:[0,"ngForOf"]},null),(e()(),Wi(6,0,null,null,49,"main",[["class","container"],["role","main"]],null,null,null,null,null)),(e()(),Wi(7,0,null,null,20,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Wi(8,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),os(9,null,["Feature Model of ",""])),(e()(),zi(16777216,null,null,1,null,Jx)),cl(11,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null),(e()(),Wi(12,0,null,null,15,"div",[["class","container"]],null,null,null,null,null)),(e()(),Wi(13,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(e()(),Wi(14,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Wi(15,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),os(-1,null,["Legend:"])),(e()(),Wi(17,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Wi(18,0,null,null,0,"i",[["class","fa fa-circle"]],null,null,null,null,null)),(e()(),os(-1,null,[" Mandatory Feature"])),(e()(),Wi(20,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Wi(21,0,null,null,0,"i",[["class","fa fa-circle-o"]],null,null,null,null,null)),(e()(),os(-1,null,[" Optional Feature"])),(e()(),Wi(23,0,null,null,4,"div",[["class","row"],["style","margin-top:20px;"]],null,null,null,null,null)),(e()(),Wi(24,0,null,null,3,"button",[["class","btn btn-sm btn-dark btn-lg btn-block"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Jr(e,25).onClick()&&r),r},null,null)),cl(25,16384,null,0,Kh,[Gh,Rd,[8,null],dn,sn],{routerLink:[0,"routerLink"]},null),ls(26,2),(e()(),os(-1,null,["View Complete Feature Model"])),(e()(),Wi(28,0,null,null,4,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Wi(29,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),os(-1,null,["Derived Business Models"])),(e()(),zi(16777216,null,null,1,null,Yx)),cl(32,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null),(e()(),Wi(33,0,null,null,22,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Wi(34,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),os(-1,null,["Add Business Model"])),(e()(),Wi(36,0,null,null,19,"div",[["class","text-muted pt-3"]],null,null,null,null,null)),(e()(),Wi(37,0,null,null,18,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(e,t,n){var r=!0,l=e.component;return"submit"===t&&(r=!1!==Jr(e,39).onSubmit(n)&&r),"reset"===t&&(r=!1!==Jr(e,39).onReset()&&r),"ngSubmit"===t&&(r=!1!==l.addBusinessModel()&&r),r},null,null)),cl(38,16384,null,0,Ep,[],null,null),cl(39,540672,null,0,Ip,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),dl(2048,null,Af,null,[Ip]),cl(41,16384,null,0,jf,[[4,Af]],null,null),(e()(),Wi(42,0,null,null,9,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Wi(43,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","name"]],null,null,null,null,null)),(e()(),os(-1,null,["Model Name"])),(e()(),Wi(45,0,null,null,6,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Wi(46,0,null,null,5,"input",[["class","form-control"],["formControlName","name"],["id","name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var r=!0;return"input"===t&&(r=!1!==Jr(e,47)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Jr(e,47).onTouched()&&r),"compositionstart"===t&&(r=!1!==Jr(e,47)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Jr(e,47)._compositionEnd(n.target.value)&&r),r},null,null)),cl(47,16384,null,0,Of,[dn,sn,[2,Mf]],null,null),dl(1024,null,Df,function(e){return[e]},[Of]),cl(49,671744,null,0,Ap,[[3,Af],[8,null],[8,null],[6,Df],[2,Dp]],{name:[0,"name"]},null),dl(2048,null,Pf,null,[Ap]),cl(51,16384,null,0,Rf,[[4,Pf]],null,null),(e()(),Wi(52,0,null,null,3,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Wi(53,0,null,null,2,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),Wi(54,0,null,null,1,"button",[["class","btn btn-sm btn-dark btn-block"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),os(-1,null,["Add Business Model"]))],function(e,t){var n=t.component;e(t,5,0,n.businessModelList),e(t,11,0,n.featureModel);var r=e(t,26,0,"/featuremodel",n.featureModelId);e(t,25,0,r),e(t,32,0,n.businessModelList),e(t,39,0,n.businessModelForm),e(t,49,0,"name")},function(e,t){var n=t.component;e(t,3,0,n.featureModel.name),e(t,9,0,n.featureModel.name),e(t,37,0,Jr(t,41).ngClassUntouched,Jr(t,41).ngClassTouched,Jr(t,41).ngClassPristine,Jr(t,41).ngClassDirty,Jr(t,41).ngClassValid,Jr(t,41).ngClassInvalid,Jr(t,41).ngClassPending),e(t,46,0,Jr(t,51).ngClassUntouched,Jr(t,51).ngClassTouched,Jr(t,51).ngClassPristine,Jr(t,51).ngClassDirty,Jr(t,51).ngClassValid,Jr(t,51).ngClassInvalid,Jr(t,51).ngClassPending),e(t,54,0,!n.businessModelForm.valid)})}function tS(e){return cs(0,[(e()(),Wi(0,0,null,null,1,"app-feature-model-view",[],null,null,null,eS,Zx)),cl(1,114688,null,0,Kx,[Rd,wx,Gh,Pp],null,null)],function(e,t){e(t,1,0)},null)}var nS=Lr("app-feature-model-view",Kx,tS,{},{},[]);class rS{constructor(){this.addFeatureEmitter=new Tl,this.deleteFeatureEmitter=new Tl,this.conformanceProblemFeatureIdList=[]}addFeature(e){this.addFeatureEmitter.emit(e)}deleteFeature(e){this.deleteFeatureEmitter.emit(e)}addFeatureForwardEmitter(e){this.addFeature(e)}deleteFeatureForwardEmitter(e){this.deleteFeature(e)}includes(e,t){return!(!e||!e.includes(parseInt(t)))}}var lS=Xn({encapsulation:0,styles:[[""]],data:{}});function iS(e){return cs(0,[(e()(),Wi(0,0,null,null,3,"strong",[],null,null,null,null,null)),dl(512,null,uu,au,[Sn,En,sn,dn]),cl(2,278528,null,0,du,[uu],{ngClass:[0,"ngClass"]},null),(e()(),os(3,null,["",""]))],function(e,t){var n=t.component;e(t,2,0,n.includes(n.conformanceProblemFeatureIdList,n.feature.id)?"text-danger":"")},function(e,t){e(t,3,0,t.component.feature.name)})}function sS(e){return cs(0,[(e()(),Wi(0,0,null,null,3,"span",[],null,null,null,null,null)),dl(512,null,uu,au,[Sn,En,sn,dn]),cl(2,278528,null,0,du,[uu],{ngClass:[0,"ngClass"]},null),(e()(),os(3,null,["",""]))],function(e,t){var n=t.component;e(t,2,0,n.includes(n.conformanceProblemFeatureIdList,n.feature.id)?"text-danger":"")},function(e,t){e(t,3,0,t.component.feature.name)})}function oS(e){return cs(0,[(e()(),Wi(0,0,null,null,0,"i",[["class","fas fa-minus-square"]],null,[[null,"click"]],function(e,t,n){var r=!0,l=e.component;return"click"===t&&(r=!1!==l.deleteFeature(l.feature.id)&&r),r},null,null))],null,null)}function uS(e){return cs(0,[(e()(),Wi(0,0,null,null,1,"app-canvas-building-block",[],null,[[null,"addFeatureEmitter"],[null,"deleteFeatureEmitter"]],function(e,t,n){var r=!0,l=e.component;return"addFeatureEmitter"===t&&(r=!1!==l.addFeatureForwardEmitter(n)&&r),"deleteFeatureEmitter"===t&&(r=!1!==l.deleteFeatureForwardEmitter(n)&&r),r},hS,lS)),cl(1,49152,null,0,rS,[],{feature:[0,"feature"],levelDepth:[1,"levelDepth"],businessModelId:[2,"businessModelId"],doubleBlock:[3,"doubleBlock"],conformanceProblemFeatureIdList:[4,"conformanceProblemFeatureIdList"]},{addFeatureEmitter:"addFeatureEmitter",deleteFeatureEmitter:"deleteFeatureEmitter"})],function(e,t){var n=t.component;e(t,1,0,t.parent.context.$implicit,n.levelDepth+1,n.businessModelId,n.doubleBlock,n.conformanceProblemFeatureIdList)},null)}function aS(e){return cs(0,[(e()(),Wi(0,0,null,null,2,"span",[],null,null,null,null,null)),(e()(),zi(16777216,null,null,1,null,uS)),cl(2,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,n.includes(t.context.$implicit.businessModelIds,n.businessModelId)||n.includes(n.conformanceProblemFeatureIdList,t.context.$implicit.id))},null)}function cS(e){return cs(0,[(e()(),Wi(0,0,null,null,11,"li",[],null,null,null,null,null)),(e()(),zi(16777216,null,null,1,null,iS)),cl(2,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null),(e()(),zi(16777216,null,null,1,null,sS)),cl(4,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null),(e()(),os(-1,null,["\xa0 "])),(e()(),Wi(6,0,null,null,0,"i",[["class","fas fa-plus-square"]],null,[[null,"click"]],function(e,t,n){var r=!0,l=e.component;return"click"===t&&(r=!1!==l.addFeature(l.feature.id)&&r),r},null,null)),(e()(),os(-1,null,["\xa0"])),(e()(),zi(16777216,null,null,1,null,oS)),cl(9,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null),(e()(),zi(16777216,null,null,1,null,aS)),cl(11,278528,null,0,fu,[Pn,An,Sn],{ngForOf:[0,"ngForOf"]},null)],function(e,t){var n=t.component;e(t,2,0,1==n.levelDepth),e(t,4,0,1!=n.levelDepth),e(t,9,0,n.feature.isDeletable),e(t,11,0,n.feature.features)},null)}function dS(e){return cs(0,[(e()(),Wi(0,0,null,null,2,"li",[],null,null,null,null,null)),(e()(),Wi(1,0,null,null,1,"em",[["class","text-danger"]],null,null,null,null,null)),(e()(),os(2,null,["",""]))],null,function(e,t){e(t,2,0,t.component.feature.name)})}function hS(e){return cs(0,[(e()(),Wi(0,0,null,null,6,"ul",[["class","list-group"],["style","margin-top: 5px; margin-left:5px;"]],null,null,null,null,null)),dl(512,null,uu,au,[Sn,En,sn,dn]),cl(2,278528,null,0,du,[uu],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),zi(16777216,null,null,1,null,cS)),cl(4,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null),(e()(),zi(16777216,null,null,1,null,dS)),cl(6,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,"list-group",1==n.levelDepth?"no-list":""),e(t,4,0,n.includes(n.feature.businessModelIds,n.businessModelId)),e(t,6,0,!n.includes(n.feature.businessModelIds,n.businessModelId))},null)}class fS{constructor(e,t,n,r){this.route=e,this.pouchDBServer=t,this.modalService=n,this.fb=r}ngOnInit(){this.addFeatureForm=this.fb.group({featurename:["",Lf.required]}),this.updateBusinessModelForm=this.fb.group({name:["",Lf.required]}),this.featureModelId=this.route.snapshot.paramMap.get("id"),this.businessModelId=this.route.snapshot.paramMap.get("bmid"),this.conformanceIsChecked=!1,this.conformanceProblemErrors=[],this.loadFeatureModel()}loadFeatureModel(){this.pouchDBServer.getFeatureModel(this.featureModelId).then(e=>{this.featureModel=e,this.businessModelName=this.featureModel.businessModelMap[this.businessModelId],this.updateBusinessModelForm.setValue({name:this.businessModelName}),this.conformanceProblemErrors=[],this.conformanceProblemFeatureIds=[],this.conformanceIsChecked&&this.checkConformance()},e=>{console.log("LoadFeatureModel: "+e)})}deleteFeatureModal(e){this.pouchDBServer.getFeatureWithParent(this.featureModelId,e).then(e=>{this.modalFeature=e,this.modalReference=this.modalService.open(this.deleteModal,{size:"lg"})},e=>{console.log("DeleteFeatureModal: "+e)})}addFeatureModal(e){console.log("Feature: "+e),this.pouchDBServer.getFeatureWithParent(this.featureModelId,e).then(e=>{this.modalFeature=e,this.modalUnselectedFeatures=this.getUnselectedFeatures(this.modalFeature),this.modalReference=this.modalService.open(this.addModal,{size:"lg"})},e=>{console.log("DeleteFeatureModal: "+e)})}addFeature(){this.pouchDBServer.addFeature(this.featureModelId,this.addFeatureForm.value.featurename,!1,!1,!1,this.modalFeature.id).then(e=>{this.addBusinessModelDecision(this.featureModel.featureIdCounter)},e=>{console.log("AddFeature: "+e)}),this.addFeatureForm.reset()}deleteBusinessModelDecision(e){this.pouchDBServer.removeBusinessDecision(this.featureModelId,e,this.businessModelId).then(e=>{this.pouchDBServer.getFeatureWithParent(this.featureModelId,this.modalFeature.id).then(e=>{this.conformanceProblemErrors=[],this.conformanceProblemFeatureIds=[],this.checkConformance(),this.closeModal()},e=>{console.log("DeleteBusinessModelDecision (new load): "+e)})},e=>{console.log("DeleteBusinessModelDecision: "+e)})}addBusinessModelDecision(e){this.pouchDBServer.addBusinessDecision(this.featureModelId,e,this.businessModelId).then(e=>{this.pouchDBServer.getFeatureWithParent(this.featureModelId,this.modalFeature.id).then(e=>{this.modalFeature=e,this.modalUnselectedFeatures=this.getUnselectedFeatures(this.modalFeature),this.loadFeatureModel()},e=>{console.log("AddBusinessModelDecision (new load): "+e)})},e=>{console.log("AddBusinessModelDecision: "+e)})}updateBusinessModel(){this.pouchDBServer.updateBusinessModel(this.featureModelId,this.businessModelId,this.updateBusinessModelForm.value.name).then(e=>{this.loadFeatureModel()},e=>{console.log("UpdateBusinessModel: "+e)})}uncheckConformance(){this.conformanceIsChecked=!1,this.conformanceProblemErrors=[],this.conformanceProblemFeatureIds=[]}checkConformance(){this.conformanceIsChecked=!0,this.conformanceProblemFeatureIds=[],this.conformanceProblemErrors=[];let e=new Set;for(var t=[],n=this.featureModel.features,r=this.selectedFeatureList(n),l=0;l<n.length;l++)t.push(s=n[n.length-1-l]);for(;t.length>0;){var i=t.pop();if(i.isMandatory&&-1==i.businessModelIds.indexOf(parseInt(this.businessModelId))&&(e.add(i.id),this.conformanceProblemErrors.push(i.name+" is mandatory")),i.hasOrSubfeatures&&0==this.numberOfSelectedSubfeaturesHelper(i.features)&&(e.add(i.id),this.conformanceProblemErrors.push(i.name+" needs at least one subfeature")),i.hasXOrSubfeatures&&1!=this.numberOfSelectedSubfeaturesHelper(i.features)&&(e.add(i.id),this.conformanceProblemErrors.push(i.name+" needs exactly one subfeature")),0!=i.requiringDependencyTo.length)for(l=0;l<i.requiringDependencyTo.length;l++)-1==r.indexOf(i.requiringDependencyTo[l])&&(e.add(i.id),this.conformanceProblemErrors.push(i.name+" requires the feature "+this.featureModel.featureMap[i.requiringDependencyTo[l]]));if(0!=i.excludingDependency.length)for(l=0;l<i.excludingDependency.length;l++)-1!=r.indexOf(i.excludingDependency[l])&&(e.add(i.id),this.conformanceProblemErrors.push(i.name+" excludes the feature "+this.featureModel.featureMap[i.excludingDependency[l]]));if(i.features)for(l=0;l<i.features.length;l++){var s;((s=i.features[i.features.length-1-l]).isMandatory||-1!=s.businessModelIds.indexOf(parseInt(this.businessModelId)))&&t.push(s)}}for(let o of e)this.conformanceProblemFeatureIds.push(parseInt(o.toString()))}numberOfSelectedSubfeaturesHelper(e){for(var t=0,n=0;n<e.length;n++)-1!=e[n].businessModelIds.indexOf(parseInt(this.businessModelId))&&(t+=1);return t}selectedFeatureList(e){for(var t=[],n=[],r=0;r<e.length;r++)n.push(i=e[e.length-1-r]),t.push(i.id);for(;n.length>0;){var l=n.pop();if(-1!=l.businessModelIds.indexOf(parseInt(this.businessModelId))&&t.push(l.id),l.features)for(r=0;r<l.features.length;r++){var i;n.push(i=l.features[l.features.length-1-r])}}return t}getUnselectedFeatures(e){for(var t=[],n=0;n<e.features.length;n++)e.features[n].businessModelIds.includes(parseInt(this.businessModelId))||t.push(e.features[n]);return t}closeModal(){this.modalReference.close(),this.modalFeature=null,this.loadFeatureModel()}}var pS=Xn({encapsulation:0,styles:[[""]],data:{}});function gS(e){return cs(0,[(e()(),Wi(0,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),Wi(1,0,null,null,1,"h4",[["class","modal-title"],["id","modal-basic-title"]],null,null,null,null,null)),(e()(),os(2,null,["",""])),(e()(),Wi(3,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.closeModal()&&r),r},null,null)),(e()(),Wi(4,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),os(-1,null,["\xd7"])),(e()(),Wi(6,0,null,null,3,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),Wi(7,0,null,null,2,"div",[["class","alert alert-warning"],["role","alert"]],null,null,null,null,null)),(e()(),Wi(8,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),os(9,null,['You are trying to remove the decision "','". Please keep in mind that you are removing also all subdecisions.'])),(e()(),Wi(10,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(e()(),Wi(11,0,null,null,1,"button",[["class","btn btn-block btn-warning"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0,l=e.component;return"click"===t&&(r=!1!==l.deleteBusinessModelDecision(l.modalFeature.id)&&r),r},null,null)),(e()(),os(-1,null,["Delete Decision"]))],null,function(e,t){var n=t.component;e(t,2,0,n.modalFeature.name),e(t,9,0,n.modalFeature.name)})}function mS(e){return cs(0,[(e()(),Wi(0,0,null,null,3,"li",[["class","list-group-item justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),os(1,null,[""," "])),(e()(),Wi(2,0,null,null,1,"button",[["class","btn btn-warning btn-xs bottom-right"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.addBusinessModelDecision(e.context.$implicit.id)&&r),r},null,null)),(e()(),os(-1,null,["Add"]))],null,function(e,t){e(t,1,0,t.context.$implicit.name)})}function vS(e){return cs(0,[(e()(),Wi(0,0,null,null,1,"li",[["class","list-group-item justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),os(-1,null,["There are no existing business model decisions left to add. "]))],null,null)}function yS(e){return cs(0,[(e()(),Wi(0,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),Wi(1,0,null,null,1,"h4",[["class","modal-title"],["id","modal-basic-title"]],null,null,null,null,null)),(e()(),os(2,null,["",""])),(e()(),Wi(3,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.closeModal()&&r),r},null,null)),(e()(),Wi(4,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),os(-1,null,["\xd7"])),(e()(),Wi(6,0,null,null,29,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),Wi(7,0,null,null,28,"ul",[["class","list-group inner"],["style","margin:5px;"]],null,null,null,null,null)),(e()(),Wi(8,0,null,null,7,"li",[["class","list-group-item justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),Wi(9,0,null,null,0,"i",[["class","fas fa-plus-square"]],null,null,null,null,null)),(e()(),os(-1,null,[" Add existing business model decisions: "])),(e()(),Wi(11,0,null,null,4,"ul",[["class","list-group inner"],["style","margin:5px;"]],null,null,null,null,null)),(e()(),zi(16777216,null,null,1,null,mS)),cl(13,278528,null,0,fu,[Pn,An,Sn],{ngForOf:[0,"ngForOf"]},null),(e()(),zi(16777216,null,null,1,null,vS)),cl(15,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null),(e()(),Wi(16,0,null,null,19,"li",[["class","list-group-item justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),Wi(17,0,null,null,0,"i",[["class","fas fa-plus-square"]],null,null,null,null,null)),(e()(),os(-1,null,[" Add new business model decision: "])),(e()(),Wi(19,0,null,null,16,"ul",[["class","list-group inner"],["style","margin:5px;"]],null,null,null,null,null)),(e()(),Wi(20,0,null,null,15,"li",[["class","list-group-item justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),Wi(21,0,null,null,14,"form",[["class","form-inline"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(e,t,n){var r=!0,l=e.component;return"submit"===t&&(r=!1!==Jr(e,23).onSubmit(n)&&r),"reset"===t&&(r=!1!==Jr(e,23).onReset()&&r),"ngSubmit"===t&&(r=!1!==l.addFeature()&&r),r},null,null)),cl(22,16384,null,0,Ep,[],null,null),cl(23,540672,null,0,Ip,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),dl(2048,null,Af,null,[Ip]),cl(25,16384,null,0,jf,[[4,Af]],null,null),(e()(),Wi(26,0,null,null,1,"label",[["class","sr-only"],["for","featurename"]],null,null,null,null,null)),(e()(),os(-1,null,["Decision Name"])),(e()(),Wi(28,0,null,null,5,"input",[["class","form-control mb-2 mr-sm-2"],["formControlName","featurename"],["id","featurename"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var r=!0;return"input"===t&&(r=!1!==Jr(e,29)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Jr(e,29).onTouched()&&r),"compositionstart"===t&&(r=!1!==Jr(e,29)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Jr(e,29)._compositionEnd(n.target.value)&&r),r},null,null)),cl(29,16384,null,0,Of,[dn,sn,[2,Mf]],null,null),dl(1024,null,Df,function(e){return[e]},[Of]),cl(31,671744,null,0,Ap,[[3,Af],[8,null],[8,null],[6,Df],[2,Dp]],{name:[0,"name"]},null),dl(2048,null,Pf,null,[Ap]),cl(33,16384,null,0,Rf,[[4,Pf]],null,null),(e()(),Wi(34,0,null,null,1,"button",[["class","btn btn-warning btn-xs bottom-right"],["type","submit"]],null,null,null,null,null)),(e()(),os(-1,null,["Add"]))],function(e,t){var n=t.component;e(t,13,0,n.modalUnselectedFeatures),e(t,15,0,0==n.modalUnselectedFeatures.length),e(t,23,0,n.addFeatureForm),e(t,31,0,"featurename")},function(e,t){e(t,2,0,t.component.modalFeature.name),e(t,21,0,Jr(t,25).ngClassUntouched,Jr(t,25).ngClassTouched,Jr(t,25).ngClassPristine,Jr(t,25).ngClassDirty,Jr(t,25).ngClassValid,Jr(t,25).ngClassInvalid,Jr(t,25).ngClassPending),e(t,28,0,Jr(t,33).ngClassUntouched,Jr(t,33).ngClassTouched,Jr(t,33).ngClassPristine,Jr(t,33).ngClassDirty,Jr(t,33).ngClassValid,Jr(t,33).ngClassInvalid,Jr(t,33).ngClassPending)})}function bS(e){return cs(0,[(e()(),Wi(0,0,null,null,33,"div",[["class","container businesscanvas"]],null,null,null,null,null)),(e()(),Wi(1,0,null,null,25,"div",[["class","row"]],null,null,null,null,null)),(e()(),Wi(2,0,null,null,2,"div",[["class","col-2 buildingblock brectangle"]],null,null,null,null,null)),(e()(),Wi(3,0,null,null,1,"app-canvas-building-block",[],null,[[null,"addFeatureEmitter"],[null,"deleteFeatureEmitter"]],function(e,t,n){var r=!0,l=e.component;return"addFeatureEmitter"===t&&(r=!1!==l.addFeatureModal(n)&&r),"deleteFeatureEmitter"===t&&(r=!1!==l.deleteFeatureModal(n)&&r),r},hS,lS)),cl(4,49152,null,0,rS,[],{feature:[0,"feature"],levelDepth:[1,"levelDepth"],businessModelId:[2,"businessModelId"],doubleBlock:[3,"doubleBlock"],conformanceProblemFeatureIdList:[4,"conformanceProblemFeatureIdList"]},{addFeatureEmitter:"addFeatureEmitter",deleteFeatureEmitter:"deleteFeatureEmitter"}),(e()(),Wi(5,0,null,null,7,"div",[["class","col-3"]],null,null,null,null,null)),(e()(),Wi(6,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(e()(),Wi(7,0,null,null,2,"div",[["class","col-md-12 buildingblock bsquare"]],null,null,null,null,null)),(e()(),Wi(8,0,null,null,1,"app-canvas-building-block",[],null,[[null,"addFeatureEmitter"],[null,"deleteFeatureEmitter"]],function(e,t,n){var r=!0,l=e.component;return"addFeatureEmitter"===t&&(r=!1!==l.addFeatureModal(n)&&r),"deleteFeatureEmitter"===t&&(r=!1!==l.deleteFeatureModal(n)&&r),r},hS,lS)),cl(9,49152,null,0,rS,[],{feature:[0,"feature"],levelDepth:[1,"levelDepth"],businessModelId:[2,"businessModelId"],doubleBlock:[3,"doubleBlock"],conformanceProblemFeatureIdList:[4,"conformanceProblemFeatureIdList"]},{addFeatureEmitter:"addFeatureEmitter",deleteFeatureEmitter:"deleteFeatureEmitter"}),(e()(),Wi(10,0,null,null,2,"div",[["class","col-md-12 buildingblock bsquare"]],null,null,null,null,null)),(e()(),Wi(11,0,null,null,1,"app-canvas-building-block",[],null,[[null,"addFeatureEmitter"],[null,"deleteFeatureEmitter"]],function(e,t,n){var r=!0,l=e.component;return"addFeatureEmitter"===t&&(r=!1!==l.addFeatureModal(n)&&r),"deleteFeatureEmitter"===t&&(r=!1!==l.deleteFeatureModal(n)&&r),r},hS,lS)),cl(12,49152,null,0,rS,[],{feature:[0,"feature"],levelDepth:[1,"levelDepth"],businessModelId:[2,"businessModelId"],doubleBlock:[3,"doubleBlock"],conformanceProblemFeatureIdList:[4,"conformanceProblemFeatureIdList"]},{addFeatureEmitter:"addFeatureEmitter",deleteFeatureEmitter:"deleteFeatureEmitter"}),(e()(),Wi(13,0,null,null,2,"div",[["class","col-2 buildingblock"]],null,null,null,null,null)),(e()(),Wi(14,0,null,null,1,"app-canvas-building-block",[],null,[[null,"addFeatureEmitter"],[null,"deleteFeatureEmitter"]],function(e,t,n){var r=!0,l=e.component;return"addFeatureEmitter"===t&&(r=!1!==l.addFeatureModal(n)&&r),"deleteFeatureEmitter"===t&&(r=!1!==l.deleteFeatureModal(n)&&r),r},hS,lS)),cl(15,49152,null,0,rS,[],{feature:[0,"feature"],levelDepth:[1,"levelDepth"],businessModelId:[2,"businessModelId"],doubleBlock:[3,"doubleBlock"],conformanceProblemFeatureIdList:[4,"conformanceProblemFeatureIdList"]},{addFeatureEmitter:"addFeatureEmitter",deleteFeatureEmitter:"deleteFeatureEmitter"}),(e()(),Wi(16,0,null,null,7,"div",[["class","col-3"]],null,null,null,null,null)),(e()(),Wi(17,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(e()(),Wi(18,0,null,null,2,"div",[["class","col-md-12 buildingblock bsquare"]],null,null,null,null,null)),(e()(),Wi(19,0,null,null,1,"app-canvas-building-block",[],null,[[null,"addFeatureEmitter"],[null,"deleteFeatureEmitter"]],function(e,t,n){var r=!0,l=e.component;return"addFeatureEmitter"===t&&(r=!1!==l.addFeatureModal(n)&&r),"deleteFeatureEmitter"===t&&(r=!1!==l.deleteFeatureModal(n)&&r),r},hS,lS)),cl(20,49152,null,0,rS,[],{feature:[0,"feature"],levelDepth:[1,"levelDepth"],businessModelId:[2,"businessModelId"],doubleBlock:[3,"doubleBlock"],conformanceProblemFeatureIdList:[4,"conformanceProblemFeatureIdList"]},{addFeatureEmitter:"addFeatureEmitter",deleteFeatureEmitter:"deleteFeatureEmitter"}),(e()(),Wi(21,0,null,null,2,"div",[["class","col-md-12 buildingblock bsquare"]],null,null,null,null,null)),(e()(),Wi(22,0,null,null,1,"app-canvas-building-block",[],null,[[null,"addFeatureEmitter"],[null,"deleteFeatureEmitter"]],function(e,t,n){var r=!0,l=e.component;return"addFeatureEmitter"===t&&(r=!1!==l.addFeatureModal(n)&&r),"deleteFeatureEmitter"===t&&(r=!1!==l.deleteFeatureModal(n)&&r),r},hS,lS)),cl(23,49152,null,0,rS,[],{feature:[0,"feature"],levelDepth:[1,"levelDepth"],businessModelId:[2,"businessModelId"],doubleBlock:[3,"doubleBlock"],conformanceProblemFeatureIdList:[4,"conformanceProblemFeatureIdList"]},{addFeatureEmitter:"addFeatureEmitter",deleteFeatureEmitter:"deleteFeatureEmitter"}),(e()(),Wi(24,0,null,null,2,"div",[["class","col-2 buildingblock brectangle"]],null,null,null,null,null)),(e()(),Wi(25,0,null,null,1,"app-canvas-building-block",[],null,[[null,"addFeatureEmitter"],[null,"deleteFeatureEmitter"]],function(e,t,n){var r=!0,l=e.component;return"addFeatureEmitter"===t&&(r=!1!==l.addFeatureModal(n)&&r),"deleteFeatureEmitter"===t&&(r=!1!==l.deleteFeatureModal(n)&&r),r},hS,lS)),cl(26,49152,null,0,rS,[],{feature:[0,"feature"],levelDepth:[1,"levelDepth"],businessModelId:[2,"businessModelId"],doubleBlock:[3,"doubleBlock"],conformanceProblemFeatureIdList:[4,"conformanceProblemFeatureIdList"]},{addFeatureEmitter:"addFeatureEmitter",deleteFeatureEmitter:"deleteFeatureEmitter"}),(e()(),Wi(27,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(e()(),Wi(28,0,null,null,2,"div",[["class","col-6 buildingblock blongtangle"]],null,null,null,null,null)),(e()(),Wi(29,0,null,null,1,"app-canvas-building-block",[],null,[[null,"addFeatureEmitter"],[null,"deleteFeatureEmitter"]],function(e,t,n){var r=!0,l=e.component;return"addFeatureEmitter"===t&&(r=!1!==l.addFeatureModal(n)&&r),"deleteFeatureEmitter"===t&&(r=!1!==l.deleteFeatureModal(n)&&r),r},hS,lS)),cl(30,49152,null,0,rS,[],{feature:[0,"feature"],levelDepth:[1,"levelDepth"],businessModelId:[2,"businessModelId"],doubleBlock:[3,"doubleBlock"],conformanceProblemFeatureIdList:[4,"conformanceProblemFeatureIdList"]},{addFeatureEmitter:"addFeatureEmitter",deleteFeatureEmitter:"deleteFeatureEmitter"}),(e()(),Wi(31,0,null,null,2,"div",[["class","col-6 buildingblock blongtangle"]],null,null,null,null,null)),(e()(),Wi(32,0,null,null,1,"app-canvas-building-block",[],null,[[null,"addFeatureEmitter"],[null,"deleteFeatureEmitter"]],function(e,t,n){var r=!0,l=e.component;return"addFeatureEmitter"===t&&(r=!1!==l.addFeatureModal(n)&&r),"deleteFeatureEmitter"===t&&(r=!1!==l.deleteFeatureModal(n)&&r),r},hS,lS)),cl(33,49152,null,0,rS,[],{feature:[0,"feature"],levelDepth:[1,"levelDepth"],businessModelId:[2,"businessModelId"],doubleBlock:[3,"doubleBlock"],conformanceProblemFeatureIdList:[4,"conformanceProblemFeatureIdList"]},{addFeatureEmitter:"addFeatureEmitter",deleteFeatureEmitter:"deleteFeatureEmitter"})],function(e,t){var n=t.component;e(t,4,0,n.featureModel.features[4],1,n.businessModelId,!1,n.conformanceProblemFeatureIds),e(t,9,0,n.featureModel.features[5],1,n.businessModelId,!1,n.conformanceProblemFeatureIds),e(t,12,0,n.featureModel.features[6],1,n.businessModelId,!1,n.conformanceProblemFeatureIds),e(t,15,0,n.featureModel.features[0],1,n.businessModelId,!1,n.conformanceProblemFeatureIds),e(t,20,0,n.featureModel.features[2],1,n.businessModelId,!1,n.conformanceProblemFeatureIds),e(t,23,0,n.featureModel.features[3],1,n.businessModelId,!1,n.conformanceProblemFeatureIds),e(t,26,0,n.featureModel.features[1],1,n.businessModelId,!1,n.conformanceProblemFeatureIds),e(t,30,0,n.featureModel.features[8],1,n.businessModelId,!1,n.conformanceProblemFeatureIds),e(t,33,0,n.featureModel.features[7],1,n.businessModelId,!1,n.conformanceProblemFeatureIds)},null)}function _S(e){return cs(0,[(e()(),Wi(0,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(e()(),Wi(1,0,null,null,1,"div",[["class","col-2"]],null,null,null,null,null)),(e()(),os(-1,null,["\xa0"])),(e()(),Wi(3,0,null,null,1,"div",[["class","col-2"]],null,null,null,null,null)),(e()(),os(-1,null,["Conformance:"])),(e()(),Wi(5,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Wi(6,0,null,null,1,"span",[["class","text-danger"]],null,null,null,null,null)),(e()(),os(-1,null,["Conformance Error (see below)"])),(e()(),Wi(8,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Wi(9,0,null,null,1,"em",[["class","text-danger"]],null,null,null,null,null)),(e()(),os(-1,null,["Missing Mandatory Decision"]))],null,null)}function wS(e){return cs(0,[(e()(),Wi(0,0,null,null,1,"button",[["class","btn btn-dark btn-sm btn-block"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.checkConformance()&&r),r},null,null)),(e()(),os(-1,null,[" Activate Conformance Checking of Business Model "]))],null,null)}function CS(e){return cs(0,[(e()(),Wi(0,0,null,null,1,"button",[["class","btn btn-dark btn-sm btn-block"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.uncheckConformance()&&r),r},null,null)),(e()(),os(-1,null,[" Deactivate Conformance Checking of Business Model "]))],null,null)}function kS(e){return cs(0,[(e()(),Wi(0,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),os(1,null,["",""]))],null,function(e,t){e(t,1,0,t.context.$implicit)})}function xS(e){return cs(0,[(e()(),Wi(0,0,null,null,3,"div",[["class","row"],["style","margin-top:20px;"]],null,null,null,null,null)),(e()(),Wi(1,0,null,null,2,"ul",[],null,null,null,null,null)),(e()(),zi(16777216,null,null,1,null,kS)),cl(3,278528,null,0,fu,[Pn,An,Sn],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,3,0,t.component.conformanceProblemErrors)},null)}function SS(e){return cs(0,[Ji(402653184,1,{addModal:0}),Ji(402653184,2,{deleteModal:0}),(e()(),Wi(2,0,null,null,9,"div",[["class","nav-scroller bg-white shadow-sm"]],null,null,null,null,null)),(e()(),Wi(3,0,null,null,8,"nav",[["class","nav nav-underline"]],null,null,null,null,null)),(e()(),Wi(4,0,null,null,3,"a",[["class","nav-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Jr(e,5).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),cl(5,671744,null,0,Zh,[Gh,Rd,Co],{routerLink:[0,"routerLink"]},null),ls(6,2),(e()(),os(7,null,["",""])),(e()(),Wi(8,0,null,null,3,"a",[["class","nav-link active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Jr(e,9).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),cl(9,671744,null,0,Zh,[Gh,Rd,Co],{routerLink:[0,"routerLink"]},null),ls(10,3),(e()(),os(11,null,["",""])),(e()(),zi(0,[[2,2],["deleteModal",2]],null,0,null,gS)),(e()(),zi(0,[[1,2],["addModal",2]],null,0,null,yS)),(e()(),Wi(14,0,null,null,54,"main",[["class","container"],["role","main"]],null,null,null,null,null)),(e()(),Wi(15,0,null,null,19,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Wi(16,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),os(17,null,[""," of ",""])),(e()(),zi(16777216,null,null,1,null,bS)),cl(19,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null),(e()(),Wi(20,0,null,null,14,"div",[["class","container"]],null,null,null,null,null)),(e()(),Wi(21,0,null,null,11,"div",[["class","row"]],null,null,null,null,null)),(e()(),Wi(22,0,null,null,2,"div",[["class","col-2"]],null,null,null,null,null)),(e()(),Wi(23,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),os(-1,null,["Legend:"])),(e()(),Wi(25,0,null,null,1,"div",[["class","col-2"]],null,null,null,null,null)),(e()(),os(-1,null,["Modification:"])),(e()(),Wi(27,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Wi(28,0,null,null,0,"i",[["class","fas fa-plus-square"]],null,null,null,null,null)),(e()(),os(-1,null,[" Add Business Model Decision"])),(e()(),Wi(30,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Wi(31,0,null,null,0,"i",[["class","fas fa-minus-square"]],null,null,null,null,null)),(e()(),os(-1,null,[" Delete Business Model Decision"])),(e()(),zi(16777216,null,null,1,null,_S)),cl(34,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null),(e()(),Wi(35,0,null,null,10,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Wi(36,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),os(-1,null,["Conformance Check"])),(e()(),Wi(38,0,null,null,7,"div",[["class","container"]],null,null,null,null,null)),(e()(),Wi(39,0,null,null,4,"div",[["class","row"],["style","margin-top:20px;"]],null,null,null,null,null)),(e()(),zi(16777216,null,null,1,null,wS)),cl(41,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null),(e()(),zi(16777216,null,null,1,null,CS)),cl(43,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null),(e()(),zi(16777216,null,null,1,null,xS)),cl(45,16384,null,0,gu,[Pn,An],{ngIf:[0,"ngIf"]},null),(e()(),Wi(46,0,null,null,22,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Wi(47,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),os(-1,null,["Update Business Model"])),(e()(),Wi(49,0,null,null,19,"div",[["class","text-muted pt-3"]],null,null,null,null,null)),(e()(),Wi(50,0,null,null,18,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(e,t,n){var r=!0,l=e.component;return"submit"===t&&(r=!1!==Jr(e,52).onSubmit(n)&&r),"reset"===t&&(r=!1!==Jr(e,52).onReset()&&r),"ngSubmit"===t&&(r=!1!==l.updateBusinessModel()&&r),r},null,null)),cl(51,16384,null,0,Ep,[],null,null),cl(52,540672,null,0,Ip,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),dl(2048,null,Af,null,[Ip]),cl(54,16384,null,0,jf,[[4,Af]],null,null),(e()(),Wi(55,0,null,null,9,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Wi(56,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","name"]],null,null,null,null,null)),(e()(),os(-1,null,["Business Model Name"])),(e()(),Wi(58,0,null,null,6,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Wi(59,0,null,null,5,"input",[["class","form-control"],["formControlName","name"],["id","name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var r=!0;return"input"===t&&(r=!1!==Jr(e,60)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Jr(e,60).onTouched()&&r),"compositionstart"===t&&(r=!1!==Jr(e,60)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Jr(e,60)._compositionEnd(n.target.value)&&r),r},null,null)),cl(60,16384,null,0,Of,[dn,sn,[2,Mf]],null,null),dl(1024,null,Df,function(e){return[e]},[Of]),cl(62,671744,null,0,Ap,[[3,Af],[8,null],[8,null],[6,Df],[2,Dp]],{name:[0,"name"]},null),dl(2048,null,Pf,null,[Ap]),cl(64,16384,null,0,Rf,[[4,Pf]],null,null),(e()(),Wi(65,0,null,null,3,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Wi(66,0,null,null,2,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),Wi(67,0,null,null,1,"button",[["class","btn btn-sm btn-dark btn-block"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),os(-1,null,["Update Business Model Name"]))],function(e,t){var n=t.component,r=e(t,6,0,"/featuremodelview",n.featureModel._id);e(t,5,0,r);var l=e(t,10,0,"/businessmodelview",n.featureModel._id,n.businessModelId);e(t,9,0,l),e(t,19,0,n.featureModel),e(t,34,0,n.conformanceIsChecked),e(t,41,0,!n.conformanceIsChecked),e(t,43,0,n.conformanceIsChecked),e(t,45,0,n.conformanceIsChecked),e(t,52,0,n.updateBusinessModelForm),e(t,62,0,"name")},function(e,t){var n=t.component;e(t,4,0,Jr(t,5).target,Jr(t,5).href),e(t,7,0,n.featureModel.name),e(t,8,0,Jr(t,9).target,Jr(t,9).href),e(t,11,0,n.businessModelName),e(t,17,0,n.businessModelName,n.featureModel.name),e(t,50,0,Jr(t,54).ngClassUntouched,Jr(t,54).ngClassTouched,Jr(t,54).ngClassPristine,Jr(t,54).ngClassDirty,Jr(t,54).ngClassValid,Jr(t,54).ngClassInvalid,Jr(t,54).ngClassPending),e(t,59,0,Jr(t,64).ngClassUntouched,Jr(t,64).ngClassTouched,Jr(t,64).ngClassPristine,Jr(t,64).ngClassDirty,Jr(t,64).ngClassValid,Jr(t,64).ngClassInvalid,Jr(t,64).ngClassPending),e(t,67,0,!n.updateBusinessModelForm.valid)})}function ES(e){return cs(0,[(e()(),Wi(0,0,null,null,1,"app-business-model-view",[],null,null,null,SS,pS)),cl(1,114688,null,0,fS,[Rd,wx,sm,Pp],null,null)],function(e,t){e(t,1,0)},null)}var DS=Lr("app-business-model-view",fS,ES,{},{},[]);class IS{constructor(e,t,n){this.fb=e,this.pouchDBServer=t,this.router=n,this.featureModelForm=this.fb.group({name:[""],description:[]}),this.pouchDBServer.getDatabaseInfo().then(e=>{0===e.doc_count&&this.pouchDBServer.addDefaultData().then(e=>{this.refreshFeatureModelList()},e=>{console.log("Default Constructor (inner): "+e)})},e=>{console.log("Default Constructor: "+e)}),this.refreshFeatureModelList()}addFeatureModel(){this.pouchDBServer.addFeatureModel(this.featureModelForm.value.name,this.featureModelForm.value.description).then(e=>{this.refreshFeatureModelList()},e=>{console.log("AddFeatureModel: "+e)})}resetDatabase(){this.pouchDBServer.addDefaultData().then(e=>{this.refreshFeatureModelList()},e=>{console.log("Default Constructor (inner): "+e)})}viewFeatureModel(e){this.router.navigate(["/featuremodelview",e])}editFeatureModel(e){this.router.navigate(["/featuremodel",e])}deleteFeatureModel(e){this.pouchDBServer.deleteFeatureModel(e).then(e=>{this.refreshFeatureModelList()},e=>{console.log("DeleteFeatureModel: "+e)})}refreshFeatureModelList(){this.pouchDBServer.getFeatureModelList().then(e=>{this.featureModelList=e.docs},e=>{console.log("RefreshFeatureModelList: "+e)})}}var MS=Xn({encapsulation:0,styles:[[""]],data:{}});function OS(e){return cs(0,[(e()(),Wi(0,0,null,null,2,"a",[["class","nav-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Jr(e,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),cl(1,671744,null,0,Zh,[Gh,Rd,Co],{routerLink:[0,"routerLink"]},null),(e()(),os(2,null,["",""]))],function(e,t){e(t,1,0,Sr(1,"/featuremodel/",t.context.$implicit._id,""))},function(e,t){e(t,0,0,Jr(t,1).target,Jr(t,1).href),e(t,2,0,t.context.$implicit.name)})}function FS(e){return cs(0,[(e()(),Wi(0,0,null,null,20,"div",[["class","media text-muted pt-3"]],null,null,null,null,null)),(e()(),Wi(1,0,null,null,4,":svg:svg",[["aria-label","Placeholder: 32x32"],["class","bd-placeholder-img mr-2 rounded"],["focusable","false"],["height","32"],["preserveAspectRatio","xMidYMid slice"],["role","img"],["width","32"],["xmlns","http://www.w3.org/2000/svg"]],null,null,null,null,null)),(e()(),Wi(2,0,null,null,1,":svg:title",[],null,null,null,null,null)),(e()(),os(-1,null,["Placeholder"])),(e()(),Wi(4,0,null,null,0,":svg:rect",[["fill","#6f42c1"],["height","100%"],["width","100%"]],null,null,null,null,null)),(e()(),Wi(5,0,null,null,0,":svg:rect",[["fill","#007bff"],["x","50%"],["y","50%"]],null,null,null,null,null)),(e()(),Wi(6,0,null,null,14,"div",[["class","media-body pb-3 mb-0 small lh-125 border-bottom border-gray"]],null,null,null,null,null)),(e()(),Wi(7,0,null,null,11,"div",[["class","d-flex justify-content-between align-items-center "]],null,null,null,null,null)),(e()(),Wi(8,0,null,null,1,"strong",[["class","text-gray-dark"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.viewFeatureModel(e.context.$implicit._id)&&r),r},null,null)),(e()(),os(9,null,["",""])),(e()(),Wi(10,0,null,null,8,"span",[],null,null,null,null,null)),(e()(),Wi(11,0,null,null,1,"button",[["class","btn btn-dark btn-xs"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.viewFeatureModel(e.context.$implicit._id)&&r),r},null,null)),(e()(),os(-1,null,["View"])),(e()(),os(-1,null,[" \xa0 "])),(e()(),Wi(14,0,null,null,1,"button",[["class","btn btn-warning btn-xs"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.editFeatureModel(e.context.$implicit._id)&&r),r},null,null)),(e()(),os(-1,null,["Edit"])),(e()(),os(-1,null,[" \xa0 "])),(e()(),Wi(17,0,null,null,1,"button",[["class","btn btn-danger btn-xs"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.deleteFeatureModel(e.context.$implicit._id)&&r),r},null,null)),(e()(),os(-1,null,["Delete"])),(e()(),Wi(19,0,null,null,1,"span",[["class","d-block"]],null,null,null,null,null)),(e()(),os(20,null,["",""]))],null,function(e,t){e(t,9,0,t.context.$implicit.name),e(t,20,0,t.context.$implicit.description)})}function AS(e){return cs(0,[(e()(),Wi(0,0,null,null,5,"div",[["class","nav-scroller bg-white shadow-sm"]],null,null,null,null,null)),(e()(),Wi(1,0,null,null,4,"nav",[["class","nav nav-underline"]],null,null,null,null,null)),(e()(),Wi(2,0,null,null,1,"a",[["class","nav-link active"],["href","#"]],null,null,null,null,null)),(e()(),os(-1,null,["Feature Models"])),(e()(),zi(16777216,null,null,1,null,OS)),cl(5,278528,null,0,fu,[Pn,An,Sn],{ngForOf:[0,"ngForOf"]},null),(e()(),Wi(6,0,null,null,58,"main",[["class","container"],["role","main"]],null,null,null,null,null)),(e()(),Wi(7,0,null,null,6,"div",[["class","d-flex align-items-center p-3 my-3 text-white-50 bg-purple rounded shadow-sm"]],null,null,null,null,null)),(e()(),Wi(8,0,null,null,0,"img",[["alt",""],["class","mr-3"],["height","48"],["src","/assets/logo.svg"],["width","48"]],null,null,null,null,null)),(e()(),Wi(9,0,null,null,4,"div",[["class","lh-100"]],null,null,null,null,null)),(e()(),Wi(10,0,null,null,1,"h6",[["class","mb-0 text-white lh-100"]],null,null,null,null,null)),(e()(),os(-1,null,["BMDL Feature Modeler"])),(e()(),Wi(12,0,null,null,1,"small",[],null,null,null,null,null)),(e()(),os(-1,null,["Describe Business Models through a Business Model Decision Line (BMDL) by using Feature Models"])),(e()(),Wi(14,0,null,null,10,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Wi(15,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),os(-1,null,["Short introduction"])),(e()(),Wi(17,0,null,null,7,"div",[["class","text-muted pt-3"]],null,null,null,null,null)),(e()(),Wi(18,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),os(-1,null,["The BMDL Feature Modeler is a tool to describe Business Models through a combination of the Business Model Canvas (BMC) and a Software Product Line (SPL). We call this concept Business Model Decision Line (BMDL), where each feature describes a single business model decision. Features can be ordered in hierarchies and marked as mandatory or optional for the business models. Moreover, there can be Or (at least one sub-feature is selected) and Alternate (exactly one sub-feature is selected) relationships between a parent and a child feature. To refine the business models, cross-tree constraints for requiring and excluding dependencies can be made."])),(e()(),Wi(20,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),os(-1,null,["The current state of the tool allows the creation of feature models and the deriving of business models. New business model decisions of single business models are synchronized with the corresponding feature model to ensure consistency. Moreover, the conformance of business models can be checked with the feature model and occurring conformance errors are explained."])),(e()(),Wi(22,0,null,null,2,"button",[["class","btn btn-dark btn-sm btn-block"],["routerLink","/explanation"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Jr(e,23).onClick()&&r),r},null,null)),cl(23,16384,null,0,Kh,[Gh,Rd,[8,null],dn,sn],{routerLink:[0,"routerLink"]},null),(e()(),os(-1,null,["View Full Tool Explanation"])),(e()(),Wi(25,0,null,null,6,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Wi(26,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),os(-1,null,["List of Feature Models"])),(e()(),zi(16777216,null,null,1,null,FS)),cl(29,278528,null,0,fu,[Pn,An,Sn],{ngForOf:[0,"ngForOf"]},null),(e()(),Wi(30,0,null,null,1,"button",[["class","btn btn-dark btn-sm btn-block"],["type","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.resetDatabase()&&r),r},null,null)),(e()(),os(-1,null,["Reset Database to Default"])),(e()(),Wi(32,0,null,null,32,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Wi(33,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),os(-1,null,["Add Feature Model"])),(e()(),Wi(35,0,null,null,29,"div",[["class","text-muted pt-3"]],null,null,null,null,null)),(e()(),Wi(36,0,null,null,28,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(e,t,n){var r=!0,l=e.component;return"submit"===t&&(r=!1!==Jr(e,38).onSubmit(n)&&r),"reset"===t&&(r=!1!==Jr(e,38).onReset()&&r),"ngSubmit"===t&&(r=!1!==l.addFeatureModel()&&r),r},null,null)),cl(37,16384,null,0,Ep,[],null,null),cl(38,540672,null,0,Ip,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),dl(2048,null,Af,null,[Ip]),cl(40,16384,null,0,jf,[[4,Af]],null,null),(e()(),Wi(41,0,null,null,9,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Wi(42,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","name"]],null,null,null,null,null)),(e()(),os(-1,null,["Model Name"])),(e()(),Wi(44,0,null,null,6,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Wi(45,0,null,null,5,"input",[["class","form-control"],["formControlName","name"],["id","name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var r=!0;return"input"===t&&(r=!1!==Jr(e,46)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Jr(e,46).onTouched()&&r),"compositionstart"===t&&(r=!1!==Jr(e,46)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Jr(e,46)._compositionEnd(n.target.value)&&r),r},null,null)),cl(46,16384,null,0,Of,[dn,sn,[2,Mf]],null,null),dl(1024,null,Df,function(e){return[e]},[Of]),cl(48,671744,null,0,Ap,[[3,Af],[8,null],[8,null],[6,Df],[2,Dp]],{name:[0,"name"]},null),dl(2048,null,Pf,null,[Ap]),cl(50,16384,null,0,Rf,[[4,Pf]],null,null),(e()(),Wi(51,0,null,null,9,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Wi(52,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","description"]],null,null,null,null,null)),(e()(),os(-1,null,["Model Description"])),(e()(),Wi(54,0,null,null,6,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Wi(55,0,null,null,5,"input",[["class","form-control"],["formControlName","description"],["id","description"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var r=!0;return"input"===t&&(r=!1!==Jr(e,56)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Jr(e,56).onTouched()&&r),"compositionstart"===t&&(r=!1!==Jr(e,56)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Jr(e,56)._compositionEnd(n.target.value)&&r),r},null,null)),cl(56,16384,null,0,Of,[dn,sn,[2,Mf]],null,null),dl(1024,null,Df,function(e){return[e]},[Of]),cl(58,671744,null,0,Ap,[[3,Af],[8,null],[8,null],[6,Df],[2,Dp]],{name:[0,"name"]},null),dl(2048,null,Pf,null,[Ap]),cl(60,16384,null,0,Rf,[[4,Pf]],null,null),(e()(),Wi(61,0,null,null,3,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Wi(62,0,null,null,2,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),Wi(63,0,null,null,1,"button",[["class","btn btn-sm btn-dark btn-block"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),os(-1,null,["Add Feature Model"]))],function(e,t){var n=t.component;e(t,5,0,n.featureModelList),e(t,23,0,"/explanation"),e(t,29,0,n.featureModelList),e(t,38,0,n.featureModelForm),e(t,48,0,"name"),e(t,58,0,"description")},function(e,t){var n=t.component;e(t,36,0,Jr(t,40).ngClassUntouched,Jr(t,40).ngClassTouched,Jr(t,40).ngClassPristine,Jr(t,40).ngClassDirty,Jr(t,40).ngClassValid,Jr(t,40).ngClassInvalid,Jr(t,40).ngClassPending),e(t,45,0,Jr(t,50).ngClassUntouched,Jr(t,50).ngClassTouched,Jr(t,50).ngClassPristine,Jr(t,50).ngClassDirty,Jr(t,50).ngClassValid,Jr(t,50).ngClassInvalid,Jr(t,50).ngClassPending),e(t,55,0,Jr(t,60).ngClassUntouched,Jr(t,60).ngClassTouched,Jr(t,60).ngClassPristine,Jr(t,60).ngClassDirty,Jr(t,60).ngClassValid,Jr(t,60).ngClassInvalid,Jr(t,60).ngClassPending),e(t,63,0,!n.featureModelForm.valid)})}function TS(e){return cs(0,[(e()(),Wi(0,0,null,null,1,"app-feature-model",[],null,null,null,AS,MS)),cl(1,49152,null,0,IS,[Pp,wx,Gh],null,null)],null,null)}var PS=Lr("app-feature-model",IS,TS,{},{},[]),NS=Xn({encapsulation:0,styles:[[""]],data:{}});function RS(e){return cs(0,[(e()(),Wi(0,0,null,null,18,"nav",[["class","navbar navbar-expand-lg fixed-top navbar-dark bg-dark"]],null,null,null,null,null)),cl(1,16384,null,0,Kg,[],null,null),(e()(),Wi(2,0,null,null,2,"a",[["class","navbar-brand mr-auto mr-lg-0"],["routerLink","featuremodels"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Jr(e,3).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),cl(3,671744,null,0,Zh,[Gh,Rd,Co],{routerLink:[0,"routerLink"]},null),(e()(),os(-1,null,["BMDL Feature Modeler"])),(e()(),Wi(5,0,null,null,1,"button",[["class","navbar-toggler p-0 border-0"],["data-toggle","offcanvas"],["type","button"]],null,null,null,null,null)),(e()(),Wi(6,0,null,null,0,"span",[["class","navbar-toggler-icon"]],null,null,null,null,null)),(e()(),Wi(7,0,null,null,11,"div",[["class","navbar-collapse offcanvas-collapse"],["id","navbarsExampleDefault"]],null,null,null,null,null)),(e()(),Wi(8,0,null,null,10,"ul",[["class","navbar-nav mr-auto"]],null,null,null,null,null)),(e()(),Wi(9,0,null,null,5,"li",[["class","nav-item active"]],null,null,null,null,null)),(e()(),Wi(10,0,null,null,4,"a",[["class","nav-link"],["routerLink","featuremodels"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Jr(e,11).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),cl(11,671744,null,0,Zh,[Gh,Rd,Co],{routerLink:[0,"routerLink"]},null),(e()(),os(-1,null,["Feature Model List "])),(e()(),Wi(13,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(e()(),os(-1,null,["(current)"])),(e()(),Wi(15,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(e()(),Wi(16,0,null,null,2,"a",[["class","nav-link"],["routerLink","explanation"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Jr(e,17).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),cl(17,671744,null,0,Zh,[Gh,Rd,Co],{routerLink:[0,"routerLink"]},null),(e()(),os(-1,null,["Tool Explanation"])),(e()(),Wi(19,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),cl(20,212992,null,0,Yh,[Xh,Pn,Yt,[8,null],Dn],null,null)],function(e,t){e(t,3,0,"featuremodels"),e(t,11,0,"featuremodels"),e(t,17,0,"explanation"),e(t,20,0)},function(e,t){e(t,2,0,Jr(t,3).target,Jr(t,3).href),e(t,10,0,Jr(t,11).target,Jr(t,11).href),e(t,16,0,Jr(t,17).target,Jr(t,17).href)})}function jS(e){return cs(0,[(e()(),Wi(0,0,null,null,1,"app-root",[],null,null,null,RS,NS)),cl(1,49152,null,0,bo,[],null,null)],null,null)}var $S=Lr("app-root",bo,jS,{},{},[]);class VS{}var LS=mo(yo,[bo],function(e){return function(e){const t={},n=[];let r=!1;for(let l=0;l<e.length;l++){const i=e[l];i.token===qe&&!0===i.value&&(r=!0),1073741824&i.flags&&n.push(i.token),i.index=l,t[Zn(i.token)]=i}return{factory:null,providersByKey:t,providers:e,modules:n,isRoot:r}}([Fr(512,Yt,en,[[8,[Sf,Xv,ry,qx,nS,DS,PS,Em,fv,Lv,Hv,_v,xv,Fv,$S]],[3,Yt],nn]),Fr(5120,zl,Bi,[[3,zl]]),Fr(4608,su,ou,[zl,[2,iu]]),Fr(5120,El,Ui,[oi]),Fr(5120,$l,Vl,[]),Fr(5120,Sn,Li,[]),Fr(5120,En,qi,[]),Fr(4608,vc,yc,[_u]),Fr(6144,Mt,null,[vc]),Fr(4608,cc,hc,[]),Fr(5120,ja,function(e,t,n,r,l,i,s,o){return[new uc(e,t,n),new mc(r),new fc(l,i,s,o)]},[_u,oi,Bl,_u,_u,cc,Hl,[2,dc]]),Fr(4608,$a,$a,[ja,oi]),Fr(135680,qa,qa,[_u]),Fr(4608,Ka,Ka,[$a,qa,$l]),Fr(6144,an,null,[Ka]),Fr(6144,La,null,[qa]),Fr(4608,pi,pi,[oi]),Fr(5120,Rd,vf,[Gh]),Fr(4608,rf,rf,[]),Fr(6144,tf,null,[rf]),Fr(135680,lf,lf,[Gh,Ii,Yl,Ue,tf]),Fr(4608,nf,nf,[]),Fr(5120,sf,hf,[Gh,wu,of]),Fr(5120,wf,_f,[yf]),Fr(5120,Ul,function(e){return[e]},[wf]),Fr(4608,Gf,Gf,[]),Fr(4608,Pp,Pp,[]),Fr(4608,sm,sm,[Yt,Ue,im,Qg]),Fr(1073742336,bu,bu,[]),Fr(1024,Nt,Ec,[]),Fr(1024,wi,function(){return[cf()]},[]),Fr(512,yf,yf,[Ue]),Fr(1024,Rl,function(e,t){return[(n=e,Pa("probe",Ra),Pa("coreTokens",Object.assign({},Na,(n||[]).reduce((e,t)=>(e[t.name]=t.token,e),{}))),()=>Ra),bf(t)];var n},[[2,wi],yf]),Fr(512,jl,jl,[[2,Rl]]),Fr(131584,Ei,Ei,[oi,Hl,Ue,Nt,Yt,jl]),Fr(1073742336,Hi,Hi,[Ei]),Fr(1073742336,Dc,Dc,[[3,Dc]]),Fr(1024,uf,pf,[[3,Gh]]),Fr(512,pd,gd,[]),Fr(512,Xh,Xh,[]),Fr(256,of,{},[]),Fr(1024,Co,ff,[_o,[2,ko],of]),Fr(512,xo,xo,[Co,_o]),Fr(512,Yl,Yl,[]),Fr(512,Ii,Fi,[Yl,[2,Mi]]),Fr(1024,Lh,function(){return[[{path:"",redirectTo:"/featuremodels",pathMatch:"full"},{path:"explanation",component:zv},{path:"importexport",component:Yv},{path:"featuremodel/:id",component:my},{path:"featuremodelview/:id",component:Kx},{path:"businessmodelview/:id/:bmid",component:fS},{path:"featuremodels",component:IS}]]},[]),Fr(1024,Gh,mf,[Ei,pd,Xh,xo,Ue,Ii,Yl,Lh,of,[2,Bh],[2,$h]]),Fr(1073742336,df,df,[[2,uf],[2,Gh]]),Fr(1073742336,VS,VS,[]),Fr(1073742336,Tp,Tp,[]),Fr(1073742336,Np,Np,[]),Fr(1073742336,Rp,Rp,[]),Fr(1073742336,sg,sg,[]),Fr(1073742336,ag,ag,[]),Fr(1073742336,cg,cg,[]),Fr(1073742336,vg,vg,[]),Fr(1073742336,yg,yg,[]),Fr(1073742336,Gg,Gg,[]),Fr(1073742336,Zg,Zg,[]),Fr(1073742336,om,om,[]),Fr(1073742336,um,um,[]),Fr(1073742336,cm,cm,[]),Fr(1073742336,dm,dm,[]),Fr(1073742336,hm,hm,[]),Fr(1073742336,fm,fm,[]),Fr(1073742336,pm,pm,[]),Fr(1073742336,gm,gm,[]),Fr(1073742336,vm,vm,[]),Fr(1073742336,_m,_m,[]),Fr(1073742336,wm,wm,[]),Fr(1073742336,yo,yo,[]),Fr(256,qe,!0,[])])});(function(){if(it)throw new Error("Cannot enable prod mode after platform setup.");lt=!1})(),Sc().bootstrapModuleFactory(LS).catch(e=>console.error(e))},zXlJ:function(e,t,n){var r=n("JYIv"),l=n("zc1T");e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var o=0;o<16;++o)t[i+o]=s[o];return t||l(s)}},zc1T:function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0;return n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]}},zn8P:function(e,t){function n(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"},zu5P:function(e,t){e.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},[[0,0]]]);